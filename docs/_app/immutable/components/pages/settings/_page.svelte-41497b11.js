import{S as Me,i as Ne,n as Ce,j as C,k as R,l as j,f as m,m as b,a as y,d as I,g as Fe,b as Be,t as S,H as Hn,q as de,s as W,w as F,r as me,c as L,x as B,a8 as he,G as E,y as M,N as se,u as ye,z as N,a4 as be,B as Te,R as We,o as In,A as zn,aj as De,a1 as Q,ab as x,ac as ee,Y as dt,Z as Sn,M as It,O as St,P as Ot,Q as Tt,D as ae,a2 as Un,L as Wn,ak as Et,al as Ln,af as On,a6 as Dt,a7 as Pt,e as ct,F as qn}from"../../../chunks/index-be8ea2fc.js";import{f as Vt,a as jn}from"../../../chunks/format-page-title-2ca75b98.js";import{aP as ot,f as nt,aL as Jn,g as Tn,a3 as $e,aQ as pt,aU as yt,aV as wt,aW as Yn,h as Ue,aX as En,aY as Dn,aZ as at,a2 as Ft,a4 as ze,ai as Bt,aC as Kn,aD as Qn,aE as Xn,aj as $t,a as gt,a_ as Mt,M as Zn,a$ as xn,aO as ei,F as rt,V as vt,b0 as bt,m as ti,b1 as ni,aG as ii,al as oi,ab as si,b2 as et,aJ as Pn,X as li,O as ri,b3 as Nt,t as ai,p as ui,a5 as Ct,an as Rt,ao as At,ap as Gt,aq as Ht,ar as zt,as as Ut,at as Wt,a6 as Lt,Y as qt,au as jt,J as Jt,L as Yt,D as Kt,av as Qt,aw as Xt,E as Zt,K as xt,ax as en,ak as tn,ay as nn,af as on,ag as sn,aT as ln}from"../../../chunks/store-12fb6ab6.js";import{F as Ve,x as fi,y as gi,z as Vn,A as ci,l as pi,f as di,B as mi,t as _i,C as hi,u as bi,D as $i,E as vi}from"../../../chunks/fa-f7462c86.js";import{P as ut,M as ki,r as wi,m as Ii}from"../../../chunks/merged-header-icon-bd37420f.js";import{m as Si}from"../../../chunks/error-handler-df8dffd6.js";import{a as Oi}from"../../../chunks/theme-option-f9f8f697.js";function rn(n,e,t){const o=n.slice();return o[3]=e[t],o}function an(n){let e,t=n[3].text+"",o,s,a,i,r,l,u,d;a=new ot({});function p(){return n[2](n[3])}return{c(){e=C("button"),o=de(t),s=W(),F(a.$$.fragment),i=W(),this.h()},l(_){e=R(_,"BUTTON",{class:!0,style:!0});var g=j(e);o=me(g,t),s=L(g),B(a.$$.fragment,g),i=L(g),g.forEach(m),this.h()},h(){b(e,"class","m-1 rounded-md border-2 border-gray-400 p-2 text-lg"),b(e,"style",r=un(n[3].style)),he(e,"border-4",n[3].thickBorders&&n[3].id===n[0]),he(e,"border-blue-300",n[3].id===n[0]),he(e,"bg-gray-700",n[3].id===n[0]),he(e,"text-white",n[3].id===n[0]),he(e,"bg-white",n[3].id!==n[0])},m(_,g){y(_,e,g),E(e,o),E(e,s),M(a,e,null),E(e,i),l=!0,u||(d=se(e,"click",p),u=!0)},p(_,g){n=_,(!l||g&2)&&t!==(t=n[3].text+"")&&ye(o,t),(!l||g&2&&r!==(r=un(n[3].style)))&&b(e,"style",r),(!l||g&3)&&he(e,"border-4",n[3].thickBorders&&n[3].id===n[0]),(!l||g&3)&&he(e,"border-blue-300",n[3].id===n[0]),(!l||g&3)&&he(e,"bg-gray-700",n[3].id===n[0]),(!l||g&3)&&he(e,"text-white",n[3].id===n[0]),(!l||g&3)&&he(e,"bg-white",n[3].id!==n[0])},i(_){l||(I(a.$$.fragment,_),l=!0)},o(_){S(a.$$.fragment,_),l=!1},d(_){_&&m(e),N(a),u=!1,d()}}}function Ti(n){let e,t,o=n[1],s=[];for(let i=0;i<o.length;i+=1)s[i]=an(rn(n,o,i));const a=i=>S(s[i],1,1,()=>{s[i]=null});return{c(){e=C("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=R(i,"DIV",{class:!0});var r=j(e);for(let l=0;l<s.length;l+=1)s[l].l(r);r.forEach(m),this.h()},h(){b(e,"class","-m-1")},m(i,r){y(i,e,r);for(let l=0;l<s.length;l+=1)s[l].m(e,null);t=!0},p(i,[r]){if(r&3){o=i[1];let l;for(l=0;l<o.length;l+=1){const u=rn(i,o,l);s[l]?(s[l].p(u,r),I(s[l],1)):(s[l]=an(u),s[l].c(),I(s[l],1),s[l].m(e,null))}for(Fe(),l=o.length;l<s.length;l+=1)a(l);Be()}},i(i){if(!t){for(let r=0;r<o.length;r+=1)I(s[r]);t=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)S(s[r]);t=!1},d(i){i&&m(e),Hn(s,i)}}}function un(n){return n?Object.entries(n).map(([e,t])=>`${e}: ${t}`).join(";"):""}function Ei(n,e,t){let{options:o}=e,{selectedOptionId:s}=e;const a=i=>t(0,s=i.id);return n.$$set=i=>{"options"in i&&t(1,o=i.options),"selectedOptionId"in i&&t(0,s=i.selectedOptionId)},[s,o,a]}class Ie extends Me{constructor(e){super(),Ne(this,e,Ei,Ti,Ce,{options:1,selectedOptionId:0})}}function Di(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,A,T;return{c(){e=C("div"),t=de(n[1]),o=de("% - "),s=de(n[4]),a=de("px"),i=W(),r=C("input"),l=W(),u=C("div"),d=C("button"),p=de(n[5]),_=de("%"),g=W(),h=C("button"),O=de("50%"),this.h()},l(D){e=R(D,"DIV",{class:!0});var P=j(e);t=me(P,n[1]),o=me(P,"% - "),s=me(P,n[4]),a=me(P,"px"),P.forEach(m),i=L(D),r=R(D,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),l=L(D),u=R(D,"DIV",{class:!0});var H=j(u);d=R(H,"BUTTON",{});var J=j(d);p=me(J,n[5]),_=me(J,"%"),J.forEach(m),g=L(H),h=R(H,"BUTTON",{});var w=j(h);O=me(w,"50%"),w.forEach(m),H.forEach(m),this.h()},h(){b(e,"class","text-center"),b(r,"class","mb-2 mt-4"),b(r,"type","range"),b(r,"step",kt),b(r,"min",n[3]),b(r,"max",n[2]),b(u,"class","flex justify-evenly")},m(D,P){y(D,e,P),E(e,t),E(e,o),E(e,s),E(e,a),y(D,i,P),y(D,r,P),be(r,n[1]),y(D,l,P),y(D,u,P),E(u,d),E(d,p),E(d,_),E(u,g),E(u,h),E(h,O),A||(T=[se(r,"change",n[9]),se(r,"input",n[9]),se(r,"change",n[10]),se(d,"click",n[11]),se(h,"click",n[12])],A=!0)},p(D,[P]){P&2&&ye(t,D[1]),P&16&&ye(s,D[4]),P&8&&b(r,"min",D[3]),P&4&&b(r,"max",D[2]),P&2&&be(r,D[1]),P&32&&ye(p,D[5])},i:Te,o:Te,d(D){D&&m(e),D&&m(i),D&&m(r),D&&m(l),D&&m(u),A=!1,We(T)}}}const kt=5;function Pi(n,e,t){let o,s,a,i,{dimensionValue:r=0}=e,{isVertical:l=!0}=e,{isFirstDimension:u=!1}=e,d=0;function p(){return l?u?"innerWidth":"innerHeight":u?"innerHeight":"innerWidth"}async function _(T=0){t(1,d=T),await zn(),t(0,r=o)}In(()=>{const T=Math.min(Math.max(Math.round(r*(u?2:1)/window[p()]*100),!u&&!r?a:s),a);_(Math.round(T/kt)*kt)});function g(){d=De(this.value),t(1,d)}const h=()=>t(0,r=o),O=()=>_(i),A=()=>_(50);return n.$$set=T=>{"dimensionValue"in T&&t(0,r=T.dimensionValue),"isVertical"in T&&t(7,l=T.isVertical),"isFirstDimension"in T&&t(8,u=T.isFirstDimension)},n.$$.update=()=>{n.$$.dirty&258&&t(4,o=Math.ceil(window[p()]*(d/100/(u?2:1)))),n.$$.dirty&256&&t(3,s=u?5:50),n.$$.dirty&256&&t(2,a=u?50:95),n.$$.dirty&256&&t(5,i=u?25:75)},[r,d,a,s,o,i,_,l,u,g,h,O,A]}class Vi extends Me{constructor(e){super(),Ne(this,e,Pi,Di,Ce,{dimensionValue:0,isVertical:7,isFirstDimension:8})}}function yi(n){let e,t;return e=new Ve({props:{icon:fi,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function Fi(n){let e,t,o;function s(i){n[3](i)}let a={slot:"content",isFirstDimension:n[1],isVertical:n[2]};return n[0]!==void 0&&(a.dimensionValue=n[0]),e=new Vi({props:a}),Q.push(()=>x(e,"dimensionValue",s,n[0])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};r&2&&(l.isFirstDimension=i[1]),r&4&&(l.isVertical=i[2]),!t&&r&1&&(t=!0,l.dimensionValue=i[0],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Bi(n){let e,t;return e=new ut({props:{$$slots:{content:[Fi],icon:[yi]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p(o,[s]){const a={};s&23&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function Mi(n,e,t){let{isFirstDimension:o=!1}=e,{isVertical:s=!1}=e,{dimensionValue:a=0}=e;function i(r){a=r,t(0,a)}return n.$$set=r=>{"isFirstDimension"in r&&t(1,o=r.isFirstDimension),"isVertical"in r&&t(2,s=r.isVertical),"dimensionValue"in r&&t(0,a=r.dimensionValue)},[a,o,s,i]}class yn extends Me{constructor(e){super(),Ne(this,e,Mi,Bi,Ce,{isFirstDimension:1,isVertical:2,dimensionValue:0})}}var it=(n=>(n.GENEI="Genei Koburi Mincho v5",n.KLEEONE="Klee One",n.NOTOSANSJP="Noto Sans JP",n.NOTOSERIFJP="Noto Serif JP",n.SHIPPORIMINCHO="Shippori Mincho",n))(it||{});function fn(n,e,t){const o=n.slice();return o[5]=e[t],o}function Ni(n){let e,t;return e=new Ve({props:{icon:gi,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function gn(n,e){let t,o=e[5]+"",s,a,i,r;function l(){return e[3](e[5])}return{key:n,first:null,c(){t=C("div"),s=de(o),a=W(),this.h()},l(u){t=R(u,"DIV",{role:!0,class:!0});var d=j(t);s=me(d,o),a=L(d),d.forEach(m),this.h()},h(){b(t,"role","button"),b(t,"class","px-4 py-2 hover:bg-gray-900"),this.first=t},m(u,d){y(u,t,d),E(t,s),E(t,a),i||(r=[se(t,"click",l),se(t,"keyup",nt)],i=!0)},p(u,d){e=u,d&2&&o!==(o=e[5]+"")&&ye(s,o)},d(u){u&&m(t),i=!1,We(r)}}}function Ci(n){let e,t=[],o=new Map,s=n[1];const a=i=>i[5];for(let i=0;i<s.length;i+=1){let r=fn(n,s,i),l=a(r);o.set(l,t[i]=gn(l,r))}return{c(){e=C("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=R(i,"DIV",{slot:!0});var r=j(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(m),this.h()},h(){b(e,"slot","content")},m(i,r){y(i,e,r);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(i,r){r&7&&(s=i[1],t=dt(t,r,a,1,i,s,o,e,Sn,gn,null,fn))},d(i){i&&m(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Ri(n){let e,t,o={placement:"bottom",$$slots:{content:[Ci],icon:[Ni]},$$scope:{ctx:n}};return e=new ut({props:o}),n[4](e),{c(){F(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,a){M(e,s,a),t=!0},p(s,[a]){const i={};a&263&&(i.$$scope={dirty:a,ctx:s}),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){n[4](null),N(e,s)}}}function Ai(n,e,t){let{availableFonts:o=[it.NOTOSANSJP]}=e,{fontValue:s}=e,a;const i=l=>{t(0,s=l),a.toggleOpen()};function r(l){Q[l?"unshift":"push"](()=>{a=l,t(2,a)})}return n.$$set=l=>{"availableFonts"in l&&t(1,o=l.availableFonts),"fontValue"in l&&t(0,s=l.fontValue)},[s,o,a,i,r]}class Fn extends Me{constructor(e){super(),Ne(this,e,Ai,Ri,Ce,{availableFonts:1,fontValue:0})}}const Gi=n=>({}),cn=n=>({});function Hi(n){let e,t;return{c(){e=C("span"),t=de(n[0]),this.h()},l(o){e=R(o,"SPAN",{class:!0});var s=j(e);t=me(s,n[0]),s.forEach(m),this.h()},h(){b(e,"class","capitalize")},m(o,s){y(o,e,s),E(e,t)},p(o,s){s&1&&ye(t,o[0])},i:Te,o:Te,d(o){o&&m(e)}}}function zi(n){let e,t;return e=new ut({props:{contentText:n[1],contentStyles:"padding: 0.5rem;",$$slots:{icon:[Wi],default:[Ui]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p(o,s){const a={};s&2&&(a.contentText=o[1]),s&9&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function Ui(n){let e,t;return{c(){e=C("span"),t=de(n[0]),this.h()},l(o){e=R(o,"SPAN",{class:!0});var s=j(e);t=me(s,n[0]),s.forEach(m),this.h()},h(){b(e,"class","capitalize")},m(o,s){y(o,e,s),E(e,t)},p(o,s){s&1&&ye(t,o[0])},d(o){o&&m(e)}}}function Wi(n){let e,t;return e=new Ve({props:{icon:Vn,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function Li(n){let e,t,o,s,a,i,r,l,u;const d=[zi,Hi],p=[];function _(T,D){return T[1]?0:1}s=_(n),a=p[s]=d[s](n);const g=n[2].header,h=It(g,n,n[3],cn),O=n[2].default,A=It(O,n,n[3],null);return{c(){e=C("section"),t=C("div"),o=C("h2"),a.c(),i=W(),h&&h.c(),r=W(),l=C("div"),A&&A.c(),this.h()},l(T){e=R(T,"SECTION",{class:!0});var D=j(e);t=R(D,"DIV",{class:!0});var P=j(t);o=R(P,"H2",{class:!0});var H=j(o);a.l(H),H.forEach(m),i=L(P),h&&h.l(P),P.forEach(m),r=L(D),l=R(D,"DIV",{});var J=j(l);A&&A.l(J),J.forEach(m),D.forEach(m),this.h()},h(){b(o,"class","mb-2 text-xl font-medium"),b(t,"class","flex"),b(e,"class","pb-8 md:pb-3")},m(T,D){y(T,e,D),E(e,t),E(t,o),p[s].m(o,null),E(t,i),h&&h.m(t,null),E(e,r),E(e,l),A&&A.m(l,null),u=!0},p(T,[D]){let P=s;s=_(T),s===P?p[s].p(T,D):(Fe(),S(p[P],1,1,()=>{p[P]=null}),Be(),a=p[s],a?a.p(T,D):(a=p[s]=d[s](T),a.c()),I(a,1),a.m(o,null)),h&&h.p&&(!u||D&8)&&St(h,g,T,T[3],u?Tt(g,T[3],D,Gi):Ot(T[3]),cn),A&&A.p&&(!u||D&8)&&St(A,O,T,T[3],u?Tt(O,T[3],D,null):Ot(T[3]),null)},i(T){u||(I(a),I(h,T),I(A,T),u=!0)},o(T){S(a),S(h,T),S(A,T),u=!1},d(T){T&&m(e),p[s].d(),h&&h.d(T),A&&A.d(T)}}}function qi(n,e,t){let{$$slots:o={},$$scope:s}=e,{title:a}=e,{tooltip:i=""}=e;return n.$$set=r=>{"title"in r&&t(0,a=r.title),"tooltip"in r&&t(1,i=r.tooltip),"$$scope"in r&&t(3,s=r.$$scope)},[a,i,o,s]}class pe extends Me{constructor(e){super(),Ne(this,e,qi,Li,Ce,{title:0,tooltip:1})}}function pn(n,e,t){const o=n.slice();return o[40]=e[t],o}function dn(n,e){let t,o=e[40].label+"",s,a,i;return{key:n,first:null,c(){t=C("option"),s=de(o),a=W(),this.h()},l(r){t=R(r,"OPTION",{});var l=j(t);s=me(l,o),a=L(l),l.forEach(m),this.h()},h(){t.__value=i=e[40].key,t.value=t.__value,this.first=t},m(r,l){y(r,t,l),E(t,s),E(t,a)},p(r,l){e=r,l[0]&1&&o!==(o=e[40].label+"")&&ye(s,o),l[0]&1&&i!==(i=e[40].key)&&(t.__value=i,t.value=t.__value)},d(r){r&&m(t)}}}function ji(n){let e,t,o,s,a,i,r,l,u;return{c(){e=C("input"),t=W(),o=C("input"),s=W(),a=C("input"),i=W(),r=C("input"),this.h()},l(d){e=R(d,"INPUT",{type:!0,placeholder:!0}),t=L(d),o=R(d,"INPUT",{class:!0,type:!0,placeholder:!0}),s=L(d),a=R(d,"INPUT",{class:!0,type:!0,placeholder:!0}),i=L(d),r=R(d,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){e.required=!0,b(e,"type","text"),b(e,"placeholder","Client ID"),b(o,"class","mt-4"),b(o,"type","text"),b(o,"placeholder","Client Secret"),a.required=!0,b(a,"class","mt-4"),b(a,"type","password"),b(a,"placeholder","Password"),r.required=!0,b(r,"class","mt-4"),b(r,"type","password"),b(r,"placeholder","Confirm Password")},m(d,p){y(d,e,p),be(e,n[10]),y(d,t,p),y(d,o,p),be(o,n[11]),y(d,s,p),y(d,a,p),n[33](a),y(d,i,p),y(d,r,p),n[34](r),l||(u=[se(e,"input",n[31]),se(o,"input",n[32])],l=!0)},p(d,p){p[0]&1024&&e.value!==d[10]&&be(e,d[10]),p[0]&2048&&o.value!==d[11]&&be(o,d[11])},i:Te,o:Te,d(d){d&&m(e),d&&m(t),d&&m(o),d&&m(s),d&&m(a),n[33](null),d&&m(i),d&&m(r),n[34](null),l=!1,We(u)}}}function Ji(n){let e,t,o,s,a,i=(n[13]||"Nothing selected")+"",r,l,u,d;return o=new ot({}),{c(){e=C("button"),t=de(`Select Directory
        `),F(o.$$.fragment),s=W(),a=C("div"),r=de(i),this.h()},l(p){e=R(p,"BUTTON",{class:!0});var _=j(e);t=me(_,`Select Directory
        `),B(o.$$.fragment,_),_.forEach(m),s=L(p),a=R(p,"DIV",{class:!0});var g=j(a);r=me(g,i),g.forEach(m),this.h()},h(){b(e,"class",pt),b(a,"class","my-4 text-center")},m(p,_){y(p,e,_),E(e,t),M(o,e,null),y(p,s,_),y(p,a,_),E(a,r),l=!0,u||(d=se(e,"click",n[14]),u=!0)},p(p,_){(!l||_[0]&8192)&&i!==(i=(p[13]||"Nothing selected")+"")&&ye(r,i)},i(p){l||(I(o.$$.fragment,p),l=!0)},o(p){S(o.$$.fragment,p),l=!1},d(p){p&&m(e),N(o),p&&m(s),p&&m(a),u=!1,d()}}}function mn(n){let e,t,o;return{c(){e=C("div"),t=de("Error: "),o=de(n[5]),this.h()},l(s){e=R(s,"DIV",{class:!0});var a=j(e);t=me(a,"Error: "),o=me(a,n[5]),a.forEach(m),this.h()},h(){b(e,"class","text-red-500")},m(s,a){y(s,e,a),E(e,t),E(e,o)},p(s,a){a[0]&32&&ye(o,s[5])},d(s){s&&m(e)}}}function Yi(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,A=[],T=new Map,D,P,H,J,w,z,Y,U=n[0];const X=V=>V[40].key;for(let V=0;V<U.length;V+=1){let Z=pn(n,U,V),G=X(Z);T.set(G,A[V]=dn(G,Z))}const te=[Ji,ji],le=[];function ue(V,Z){return V[9]===$e.FS?0:1}P=ue(n),H=le[P]=te[P](n);let ne=n[5]&&mn(n);return{c(){e=C("div"),t=C("input"),o=W(),s=C("div"),a=C("input"),i=W(),r=C("label"),l=de("Is Sync Target"),u=W(),d=C("input"),p=W(),_=C("label"),g=de("Is Source Default"),h=W(),O=C("select");for(let V=0;V<A.length;V+=1)A[V].c();D=W(),H.c(),J=W(),ne&&ne.c(),this.h()},l(V){e=R(V,"DIV",{class:!0,slot:!0});var Z=j(e);t=R(Z,"INPUT",{type:!0,placeholder:!0}),o=L(Z),s=R(Z,"DIV",{class:!0});var G=j(s);a=R(G,"INPUT",{id:!0,type:!0}),i=L(G),r=R(G,"LABEL",{for:!0,class:!0});var ie=j(r);l=me(ie,"Is Sync Target"),ie.forEach(m),u=L(G),d=R(G,"INPUT",{id:!0,type:!0}),p=L(G),_=R(G,"LABEL",{for:!0,class:!0});var q=j(_);g=me(q,"Is Source Default"),q.forEach(m),G.forEach(m),h=L(Z),O=R(Z,"SELECT",{class:!0});var K=j(O);for(let fe=0;fe<A.length;fe+=1)A[fe].l(K);K.forEach(m),D=L(Z),H.l(Z),J=L(Z),ne&&ne.l(Z),Z.forEach(m),this.h()},h(){t.required=!0,b(t,"type","text"),b(t,"placeholder","Name"),b(a,"id","cbx-source"),b(a,"type","checkbox"),b(r,"for","cbx-source"),b(r,"class","ml-2 mr-6"),b(d,"id","cbx-manager"),b(d,"type","checkbox"),b(_,"for","cbx-source"),b(_,"class","ml-2"),b(s,"class","mt-4 flex items-center"),b(O,"class","my-4"),n[9]===void 0&&Wn(()=>n[29].call(O)),b(e,"class","flex max-h-[50vh] flex-col overflow-auto"),b(e,"slot","content")},m(V,Z){y(V,e,Z),E(e,t),be(t,n[6]),n[26](t),E(e,o),E(e,s),E(s,a),a.checked=n[7],E(s,i),E(s,r),E(r,l),E(s,u),E(s,d),d.checked=n[8],E(s,p),E(s,_),E(_,g),E(e,h),E(e,O);for(let G=0;G<A.length;G+=1)A[G].m(O,null);Et(O,n[9]),E(e,D),le[P].m(e,null),E(e,J),ne&&ne.m(e,null),n[35](e),w=!0,z||(Y=[se(t,"input",n[25]),se(a,"change",n[27]),se(d,"change",n[28]),se(O,"change",n[29]),se(O,"change",n[30])],z=!0)},p(V,Z){Z[0]&64&&t.value!==V[6]&&be(t,V[6]),Z[0]&128&&(a.checked=V[7]),Z[0]&256&&(d.checked=V[8]),Z[0]&1&&(U=V[0],A=dt(A,Z,X,1,V,U,T,O,Sn,dn,null,pn)),Z[0]&513&&Et(O,V[9]);let G=P;P=ue(V),P===G?le[P].p(V,Z):(Fe(),S(le[G],1,1,()=>{le[G]=null}),Be(),H=le[P],H?H.p(V,Z):(H=le[P]=te[P](V),H.c()),I(H,1),H.m(e,J)),V[5]?ne?ne.p(V,Z):(ne=mn(V),ne.c(),ne.m(e,null)):ne&&(ne.d(1),ne=null)},i(V){w||(I(H),w=!0)},o(V){S(H),w=!1},d(V){V&&m(e),n[26](null);for(let Z=0;Z<A.length;Z+=1)A[Z].d();le[P].d(),ne&&ne.d(),n[35](null),z=!1,We(Y)}}}function Ki(n){let e,t,o,s,a,i,r,l,u,d,p;return s=new ot({}),l=new ot({}),{c(){e=C("div"),t=C("button"),o=de(`Cancel
      `),F(s.$$.fragment),a=W(),i=C("button"),r=de(`Save
      `),F(l.$$.fragment),this.h()},l(_){e=R(_,"DIV",{class:!0,slot:!0});var g=j(e);t=R(g,"BUTTON",{class:!0});var h=j(t);o=me(h,`Cancel
      `),B(s.$$.fragment,h),h.forEach(m),a=L(g),i=R(g,"BUTTON",{class:!0});var O=j(i);r=me(O,`Save
      `),B(l.$$.fragment,O),O.forEach(m),g.forEach(m),this.h()},h(){b(t,"class",pt),b(i,"class",pt),b(e,"class","mt-4 flex grow justify-between"),b(e,"slot","footer")},m(_,g){y(_,e,g),E(e,t),E(t,o),M(s,t,null),E(e,a),E(e,i),E(i,r),M(l,i,null),u=!0,d||(p=[se(t,"click",n[24]),se(i,"click",n[15])],d=!0)},p:Te,i(_){u||(I(s.$$.fragment,_),I(l.$$.fragment,_),u=!0)},o(_){S(s.$$.fragment,_),S(l.$$.fragment,_),u=!1},d(_){_&&m(e),N(s),N(l),d=!1,We(p)}}}function Qi(n){let e,t;return e=new Jn({props:{$$slots:{footer:[Ki],content:[Yi]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p(o,s){const a={};s[0]&16383|s[1]&4096&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function Xi(n,e,t){let o;ae(n,Tn,c=>t(36,o=c));let{configuredName:s}=e,{configuredIsSyncTarget:a}=e,{configuredIsStorageSourceDefault:i}=e,{configuredType:r}=e,{configuredRemoteData:l}=e,{configuredFSData:u}=e,{resolver:d}=e,p,_,g,h,O="",A=s||"",T=a||!1,D=i||!1,P=r||$e.GDRIVE,H=(l==null?void 0:l.clientId)||"",J=(l==null?void 0:l.clientSecret)||"";const w=(l==null?void 0:l.refreshToken)||"";let z=u==null?void 0:u.directoryHandle,Y=(u==null?void 0:u.fsPath)||"";const U=Un();let X=[{key:$e.GDRIVE,label:"GDrive"},{key:$e.ONEDRIVE,label:"OneDrive"}];async function te(){ue();try{const c=await window.showDirectoryPicker({id:"ttu-reader-root",mode:"readwrite"});t(12,z=await c.getDirectoryHandle(yt.rootName,{create:!0})),t(13,Y=`${c.name==="\\"?"":`${c.name}/`}${yt.rootName}`)}catch(c){t(12,z=void 0),t(13,Y=""),c.name!=="AbortError"&&t(5,O=c.message)}}async function le(){if(ue(),!![...p.querySelectorAll("input")].every(c=>{let _e=c.reportValidity();return _e?(c===_?P===$e.FS&&!z?(_.setCustomValidity("You need to select a directory"),_e=!1):wt(A)&&(_.setCustomValidity("Please select a different name"),_e=!1):c===h&&g.value!==h.value&&(h.setCustomValidity("Password does not match"),_e=!1),_e||c.reportValidity(),_e):!1}))try{let c,_e=!1,Se=!1;if(P===$e.FS){if(!z)throw new Error("Directory handle not defined");c={directoryHandle:z,fsPath:Y}}else{if(_e=H!==(l==null?void 0:l.clientId)||J!==(l==null?void 0:l.clientSecret),Se=!J||_e,Se&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&!o)throw new Error("You need to be online in order to make this change to the credentials");c=await Yn(window,JSON.stringify({clientId:H,clientSecret:J,refreshToken:Se?"":w}),h.value)}const Oe={name:A,type:P,data:c,lastSourceModified:Date.now()};await Ue.saveStorageSource(Oe,s,T,D),Se&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&En.revokeToken(Dn,l.refreshToken),_e&&(at.delete(s),P!==$e.FS&&Ft(window,P).clearData()),P===$e.FS&&z&&!await(u==null?void 0:u.directoryHandle.isSameEntry(z))&&Ft(window,$e.FS).clearData(),ne({new:Oe,old:s})}catch(c){t(5,O=c.message)}}function ue(){t(5,O=""),_.setCustomValidity(""),h==null||h.setCustomValidity("")}function ne(c){d(c),U("close")}const V=()=>ne();function Z(){A=this.value,t(6,A)}function G(c){Q[c?"unshift":"push"](()=>{_=c,t(2,_)})}function ie(){T=this.checked,t(7,T)}function q(){D=this.checked,t(8,D)}function K(){P=Ln(this),t(9,P),t(0,X)}const fe=()=>{P===$e.FS?(t(10,H=""),t(11,J="")):(t(12,z=void 0),t(13,Y=""))};function re(){H=this.value,t(10,H)}function ke(){J=this.value,t(11,J)}function ve(c){Q[c?"unshift":"push"](()=>{g=c,t(3,g)})}function we(c){Q[c?"unshift":"push"](()=>{h=c,t(4,h)})}function f(c){Q[c?"unshift":"push"](()=>{p=c,t(1,p)})}return n.$$set=c=>{"configuredName"in c&&t(17,s=c.configuredName),"configuredIsSyncTarget"in c&&t(18,a=c.configuredIsSyncTarget),"configuredIsStorageSourceDefault"in c&&t(19,i=c.configuredIsStorageSourceDefault),"configuredType"in c&&t(20,r=c.configuredType),"configuredRemoteData"in c&&t(21,l=c.configuredRemoteData),"configuredFSData"in c&&t(22,u=c.configuredFSData),"resolver"in c&&t(23,d=c.resolver)},n.$$.update=()=>{n.$$.dirty[0]&1&&"showDirectoryPicker"in window&&t(0,X=[...X,{key:$e.FS,label:"Filesystem"}])},[X,p,_,g,h,O,A,T,D,P,H,J,z,Y,te,le,ne,s,a,i,r,l,u,d,V,Z,G,ie,q,K,fe,re,ke,ve,we,f]}class Zi extends Me{constructor(e){super(),Ne(this,e,Xi,Qi,Ce,{configuredName:17,configuredIsSyncTarget:18,configuredIsStorageSourceDefault:19,configuredType:20,configuredRemoteData:21,configuredFSData:22,resolver:23},null,[-1,-1])}}function _n(n,e,t){const o=n.slice();o[19]=e[t];const s=ei(o[19].type);o[20]=s;const a=wt(o[19].name);o[21]=a;const i=oo(o[19].name,o[3]);o[22]=i;const r=o[8](o[19].name,o[19].type,[o[6],o[5],o[4]]);return o[23]=r,o}function xi(n){let e,t;return e=new Ve({props:{icon:Vn,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function hn(n){let e,t;return e=new ut({props:{contentText:"Auto import/export enabled but no source as sync target from list selected",contentStyles:"padding: 0.25rem;",$$slots:{icon:[eo]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p(o,s){const a={};s&67108864&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function eo(n){let e,t;return e=new Ve({props:{icon:pi,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function to(n){let e,t,o;return t=new Ve({props:{icon:di,spin:!0}}),{c(){e=C("div"),F(t.$$.fragment),this.h()},l(s){e=R(s,"DIV",{class:!0});var a=j(e);B(t.$$.fragment,a),a.forEach(m),this.h()},h(){b(e,"class","text-xl")},m(s,a){y(s,e,a),M(t,e,null),o=!0},p:Te,i(s){o||(I(t.$$.fragment,s),o=!0)},o(s){S(t.$$.fragment,s),o=!1},d(s){s&&m(e),N(t)}}}function no(n){let e,t=[],o=new Map,s,a=n[0];const i=r=>r[19].name;for(let r=0;r<a.length;r+=1){let l=_n(n,a,r),u=i(l);o.set(u,t[r]=bn(u,l))}return{c(){e=C("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=R(r,"DIV",{class:!0});var l=j(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(m),this.h()},h(){b(e,"class","grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 lg:grid-cols-3")},m(r,l){y(r,e,l);for(let u=0;u<t.length;u+=1)t[u].m(e,null);s=!0},p(r,l){l&1913&&(a=r[0],Fe(),t=dt(t,l,i,1,r,a,o,e,On,bn,null,_n),Be())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)S(t[l]);s=!1},d(r){r&&m(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function bn(n,e){let t,o,s,a,i,r,l,u,d=e[19].name+"",p,_,g,h,O,A,T,D,P,H,J,w,z,Y,U,X,te,le;O=new Ve({props:{icon:mi}});function ue(){return e[13](e[19])}D=new Ve({props:{icon:_i}});function ne(){return e[14](e[19])}J=new Ve({props:{icon:hi}});function V(){return e[15](e[23],e[19])}Y=new Ve({props:{icon:bi}});function Z(){return e[16](e[19],e[22],e[23])}return{key:n,first:null,c(){t=C("div"),o=C("div"),s=Dt("svg"),a=Dt("path"),l=W(),u=C("div"),p=de(d),_=W(),g=C("div"),h=C("div"),F(O.$$.fragment),A=W(),T=C("div"),F(D.$$.fragment),P=W(),H=C("div"),F(J.$$.fragment),w=W(),z=C("div"),F(Y.$$.fragment),U=W(),this.h()},l(G){t=R(G,"DIV",{class:!0});var ie=j(t);o=R(ie,"DIV",{class:!0});var q=j(o);s=Pt(q,"svg",{class:!0,xmlns:!0,viewBox:!0});var K=j(s);a=Pt(K,"path",{class:!0,d:!0}),j(a).forEach(m),K.forEach(m),l=L(q),u=R(q,"DIV",{class:!0});var fe=j(u);p=me(fe,d),fe.forEach(m),q.forEach(m),_=L(ie),g=R(ie,"DIV",{class:!0});var re=j(g);h=R(re,"DIV",{class:!0});var ke=j(h);B(O.$$.fragment,ke),ke.forEach(m),A=L(re),T=R(re,"DIV",{title:!0,class:!0});var ve=j(T);B(D.$$.fragment,ve),ve.forEach(m),P=L(re),H=R(re,"DIV",{title:!0,class:!0});var we=j(H);B(J.$$.fragment,we),we.forEach(m),w=L(re),z=R(re,"DIV",{class:!0});var f=j(z);B(Y.$$.fragment,f),f.forEach(m),re.forEach(m),U=L(ie),ie.forEach(m),this.h()},h(){b(a,"class","fill-current"),b(a,"d",i=e[20].d),b(s,"class","inline-block h-6 w-6 self-center"),b(s,"xmlns","http://www.w3.org/2000/svg"),b(s,"viewBox",r=e[20].viewBox),b(u,"class","ml-3 self-center"),b(o,"class","flex"),b(h,"class","mr-4 cursor-pointer"),he(h,"hidden",e[21]),b(T,"title","Toggle source as sync target"),b(T,"class","mr-4 cursor-pointer"),he(T,"opacity-50",!e[22]),b(H,"title","Toggle source as data source for this type"),b(H,"class","mr-4 cursor-pointer"),he(H,"opacity-50",!e[23]),b(z,"class","cursor-pointer"),he(z,"hidden",e[21]),b(g,"class","mt-4 flex"),b(t,"class","flex flex-col"),this.first=t},m(G,ie){y(G,t,ie),E(t,o),E(o,s),E(s,a),E(o,l),E(o,u),E(u,p),E(t,_),E(t,g),E(g,h),M(O,h,null),E(g,A),E(g,T),M(D,T,null),E(g,P),E(g,H),M(J,H,null),E(g,w),E(g,z),M(Y,z,null),E(t,U),X=!0,te||(le=[se(h,"click",ue),se(h,"keyup",nt),se(T,"click",ne),se(T,"keyup",nt),se(H,"click",V),se(H,"keyup",nt),se(z,"click",Z),se(z,"keyup",nt)],te=!0)},p(G,ie){e=G,(!X||ie&1&&i!==(i=e[20].d))&&b(a,"d",i),(!X||ie&1&&r!==(r=e[20].viewBox))&&b(s,"viewBox",r),(!X||ie&1)&&d!==(d=e[19].name+"")&&ye(p,d),(!X||ie&1)&&he(h,"hidden",e[21]),(!X||ie&9)&&he(T,"opacity-50",!e[22]),(!X||ie&369)&&he(H,"opacity-50",!e[23]),(!X||ie&1)&&he(z,"hidden",e[21])},i(G){X||(I(O.$$.fragment,G),I(D.$$.fragment,G),I(J.$$.fragment,G),I(Y.$$.fragment,G),X=!0)},o(G){S(O.$$.fragment,G),S(D.$$.fragment,G),S(J.$$.fragment,G),S(Y.$$.fragment,G),X=!1},d(G){G&&m(t),N(O),N(D),N(J),N(Y),te=!1,We(le)}}}function io(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,A,T,D,P,H,J,w,z,Y,U,X,te,le,ue,ne;l=new ut({props:{contentText:n[2],contentStyles:"padding: 0.5rem;",$$slots:{icon:[xi]},$$scope:{ctx:n}}});let V=n[7]!==ze.Off&&!n[3]&&hn(n);g=new Ve({props:{icon:ci}}),D=new ot({});const Z=[no,to],G=[];function ie(q,K){return!q[1]&&q[0]?0:1}return Y=ie(n),U=G[Y]=Z[Y](n),{c(){e=C("div"),t=C("div"),o=C("div"),s=C("h1"),a=C("span"),i=de("Storage Sources"),r=W(),F(l.$$.fragment),u=W(),V&&V.c(),d=W(),p=C("button"),_=C("div"),F(g.$$.fragment),h=W(),O=C("span"),A=de("Add"),T=W(),F(D.$$.fragment),H=W(),J=C("hr"),w=W(),z=C("div"),U.c(),X=W(),te=C("div"),this.h()},l(q){e=R(q,"DIV",{class:!0});var K=j(e);t=R(K,"DIV",{class:!0});var fe=j(t);o=R(fe,"DIV",{class:!0});var re=j(o);s=R(re,"H1",{class:!0});var ke=j(s);a=R(ke,"SPAN",{class:!0});var ve=j(a);i=me(ve,"Storage Sources"),ve.forEach(m),ke.forEach(m),r=L(re),B(l.$$.fragment,re),u=L(re),V&&V.l(re),re.forEach(m),d=L(fe),p=R(fe,"BUTTON",{class:!0});var we=j(p);_=R(we,"DIV",{class:!0});var f=j(_);B(g.$$.fragment,f),h=L(f),O=R(f,"SPAN",{class:!0});var c=j(O);A=me(c,"Add"),c.forEach(m),f.forEach(m),T=L(we),B(D.$$.fragment,we),we.forEach(m),fe.forEach(m),H=L(K),J=R(K,"HR",{class:!0}),w=L(K),z=R(K,"DIV",{class:!0});var _e=j(z);U.l(_e),_e.forEach(m),X=L(K),te=R(K,"DIV",{}),j(te).forEach(m),K.forEach(m),this.h()},h(){b(a,"class","capitalize"),b(s,"class","mb-2 text-xl font-medium"),b(o,"class","flex grow"),b(O,"class","ml-1 hidden sm:block"),b(_,"class","flex items-center justify-center"),b(p,"class",pt),p.disabled=P=!n[0],he(p,"cursor-not-allowed",!n[0]),b(t,"class","flex"),b(J,"class","border border-black"),b(z,"class","mt-6"),b(e,"class","mb-8 sm:col-span-2 lg:col-span-3")},m(q,K){y(q,e,K),E(e,t),E(t,o),E(o,s),E(s,a),E(a,i),E(o,r),M(l,o,null),E(o,u),V&&V.m(o,null),E(t,d),E(t,p),E(p,_),M(g,_,null),E(_,h),E(_,O),E(O,A),E(p,T),M(D,p,null),E(e,H),E(e,J),E(e,w),E(e,z),G[Y].m(z,null),E(e,X),E(e,te),le=!0,ue||(ne=se(p,"click",n[12]),ue=!0)},p(q,[K]){const fe={};K&4&&(fe.contentText=q[2]),K&67108864&&(fe.$$scope={dirty:K,ctx:q}),l.$set(fe),q[7]!==ze.Off&&!q[3]?V?(V.p(q,K),K&136&&I(V,1)):(V=hn(q),V.c(),I(V,1),V.m(o,null)):V&&(Fe(),S(V,1,1,()=>{V=null}),Be()),(!le||K&1&&P!==(P=!q[0]))&&(p.disabled=P),(!le||K&1)&&he(p,"cursor-not-allowed",!q[0]);let re=Y;Y=ie(q),Y===re?G[Y].p(q,K):(Fe(),S(G[re],1,1,()=>{G[re]=null}),Be(),U=G[Y],U?U.p(q,K):(U=G[Y]=Z[Y](q),U.c()),I(U,1),U.m(z,null))},i(q){le||(I(l.$$.fragment,q),I(V),I(g.$$.fragment,q),I(D.$$.fragment,q),I(U),le=!0)},o(q){S(l.$$.fragment,q),S(V),S(g.$$.fragment,q),S(D.$$.fragment,q),S(U),le=!1},d(q){q&&m(e),N(l),V&&V.d(),N(g),N(D),G[Y].d(),ue=!1,ne()}}}function oo(n,e){return n===e}function so(n,e,t){let o,s,a,i,r,l,u;ae(n,Tn,w=>t(17,s=w)),ae(n,Bt,w=>t(3,a=w)),ae(n,Kn,w=>t(4,i=w)),ae(n,Qn,w=>t(5,r=w)),ae(n,Xn,w=>t(6,l=w)),ae(n,$t,w=>t(7,u=w));let{storageSources:d}=e,p=!0,_="Allows you to add a custom set of credentials";function g(w,z,Y=[]){let U=!1;switch(z){case $e.GDRIVE:U=w===l;break;case $e.ONEDRIVE:U=w===r;break;case $e.FS:U=w===i;break}return U}async function h(w){let z,Y;if(w&&w.type!==$e.FS){const X=await new Promise(te=>{gt.dialogs$.next([{component:Mt,props:{description:"You are trying to access protected data",action:`Enter the correct password for ${w.name} to proceed`,encryptedData:w.data,resolver:te},disableCloseOnClick:!0}])});if(!X)return;z=X}else w&&O(w.type,w.data)&&(Y={directoryHandle:w.data.directoryHandle,fsPath:w.data.fsPath});const U=await new Promise(X=>{gt.dialogs$.next([{component:Zi,props:{configuredName:w==null?void 0:w.name,configuredType:w==null?void 0:w.type,configuredIsSyncTarget:w?a===w.name:!1,configuredIsStorageSourceDefault:w?g(w.name,w.type):!1,configuredFSData:Y,configuredRemoteData:z,resolver:X},disableCloseOnClick:!0}])});if(!!U)if(U.old){const X=at.get(U.old);at.delete(U.old),X&&U.new.type===(w==null?void 0:w.type)&&at.set(U.new.name,X),Ue.storageSourcesChanged$.next(d.map(te=>te.name===U.old?U.new:te))}else Ue.storageSourcesChanged$.next([...d,U.new])}function O(w,z){return z&&w===$e.FS}async function A(w,z,Y){const U=await new Promise(te=>{gt.dialogs$.next([{component:Mt,props:{description:w.type===$e.FS?"You are trying to delete data":"You are trying to delete protected data",action:w.type===$e.FS?`Please confirm to proceed with deleting ${w.name}`:`Enter the correct password for ${w.name} to proceed`,requiresSecret:w.type!==$e.FS,showCancel:!0,encryptedData:w.type!==$e.FS?w.data:void 0,resolver:te},disableCloseOnClick:!0}])});if(!U)return;const X=w.type===$e.GDRIVE&&U.refreshToken;if(X&&!s){gt.dialogs$.next([{component:Zn,props:{title:"Error",message:"You need to be online to delete this storage source"},disableCloseOnClick:!0}]);return}await Ue.deleteStorageSource(w,z,Y),at.delete(w.name),X&&U.refreshToken&&En.revokeToken(Dn,U.refreshToken),Ue.storageSourcesChanged$.next(d.filter(te=>te.name!==w.name))}const T=()=>{h()},D=w=>h(w),P=w=>Bt.next(a===w.name?"":w.name),H=(w,z)=>xn(w?"":z.name,z.type),J=(w,z,Y)=>A(w,z,Y);return n.$$set=w=>{"storageSources"in w&&t(0,d=w.storageSources)},n.$$.update=()=>{n.$$.dirty&1&&d&&t(1,p=!1),n.$$.dirty&2052&&o&&t(2,_+=" or filesystem access")},t(11,o="showDirectoryPicker"in window),[d,p,_,a,i,r,l,u,g,h,A,o,T,D,P,H,J]}class lo extends Me{constructor(e){super(),Ne(this,e,so,io,Ce,{storageSources:0})}}function ro(n){let e,t,o,s,a,i,r,l,u,d,p,_;return e=new pe({props:{title:"Persistent storage",tooltip:n[33],$$slots:{default:[uo]},$$scope:{ctx:n}}}),o=new pe({props:{title:"Cache Data",tooltip:n[32],$$slots:{default:[fo]},$$scope:{ctx:n}}}),a=new pe({props:{title:"Auto Import/Export",tooltip:n[29],$$slots:{default:[go]},$$scope:{ctx:n}}}),r=new pe({props:{title:"Import/Export Behavior",tooltip:n[31],$$slots:{default:[co]},$$scope:{ctx:n}}}),u=new pe({props:{title:"Show Placeholder",tooltip:n[30],$$slots:{default:[po]},$$scope:{ctx:n}}}),p=new lo({props:{storageSources:n[27]}}),{c(){F(e.$$.fragment),t=W(),F(o.$$.fragment),s=W(),F(a.$$.fragment),i=W(),F(r.$$.fragment),l=W(),F(u.$$.fragment),d=W(),F(p.$$.fragment)},l(g){B(e.$$.fragment,g),t=L(g),B(o.$$.fragment,g),s=L(g),B(a.$$.fragment,g),i=L(g),B(r.$$.fragment,g),l=L(g),B(u.$$.fragment,g),d=L(g),B(p.$$.fragment,g)},m(g,h){M(e,g,h),y(g,t,h),M(o,g,h),y(g,s,h),M(a,g,h),y(g,i,h),M(r,g,h),y(g,l,h),M(u,g,h),y(g,d,h),M(p,g,h),_=!0},p(g,h){const O={};h[1]&4&&(O.tooltip=g[33]),h[0]&8|h[2]&65536&&(O.$$scope={dirty:h,ctx:g}),e.$set(O);const A={};h[1]&2&&(A.tooltip=g[32]),h[0]&16|h[2]&65536&&(A.$$scope={dirty:h,ctx:g}),o.$set(A);const T={};h[0]&536870912&&(T.tooltip=g[29]),h[0]&32|h[2]&65536&&(T.$$scope={dirty:h,ctx:g}),a.$set(T);const D={};h[1]&1&&(D.tooltip=g[31]),h[0]&64|h[2]&65536&&(D.$$scope={dirty:h,ctx:g}),r.$set(D);const P={};h[0]&1073741824&&(P.tooltip=g[30]),h[0]&128|h[2]&65536&&(P.$$scope={dirty:h,ctx:g}),u.$set(P);const H={};h[0]&134217728&&(H.storageSources=g[27]),p.$set(H)},i(g){_||(I(e.$$.fragment,g),I(o.$$.fragment,g),I(a.$$.fragment,g),I(r.$$.fragment,g),I(u.$$.fragment,g),I(p.$$.fragment,g),_=!0)},o(g){S(e.$$.fragment,g),S(o.$$.fragment,g),S(a.$$.fragment,g),S(r.$$.fragment,g),S(u.$$.fragment,g),S(p.$$.fragment,g),_=!1},d(g){N(e,g),g&&m(t),N(o,g),g&&m(s),N(a,g),g&&m(i),N(r,g),g&&m(l),N(u,g),g&&m(d),N(p,g)}}}function ao(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,A,T,D,P,H,J,w,z,Y,U,X,te,le,ue,ne,V,Z,G,ie,q,K,fe,re;t=new pe({props:{title:"Theme",$$slots:{default:[mo]},$$scope:{ctx:n}}}),a=new pe({props:{title:"View mode",$$slots:{default:[_o]},$$scope:{ctx:n}}}),r=new pe({props:{title:"Font family (Group 1)",$$slots:{header:[bo],default:[ho]},$$scope:{ctx:n}}}),u=new pe({props:{title:"Font family (Group 2)",$$slots:{header:[vo],default:[$o]},$$scope:{ctx:n}}}),p=new pe({props:{title:"Font size",$$slots:{default:[ko]},$$scope:{ctx:n}}}),g=new pe({props:{title:"Line Height",$$slots:{default:[wo]},$$scope:{ctx:n}}}),O=new pe({props:{title:n[35]?"Reader Left/right margin":"Reader Top/bottom margin",$$slots:{header:[So],default:[Io]},$$scope:{ctx:n}}}),T=new pe({props:{title:n[35]?"Reader Max height":"Reader Max width",$$slots:{header:[To],default:[Oo]},$$scope:{ctx:n}}}),P=new pe({props:{title:"Swipe Threshold",tooltip:"Distance which you need to swipe in order trigger a navigation",$$slots:{default:[Eo]},$$scope:{ctx:n}}}),J=new pe({props:{title:"Writing mode",$$slots:{default:[Do]},$$scope:{ctx:n}}}),z=new pe({props:{title:"Disable Wheel Navigation",$$slots:{default:[Po]},$$scope:{ctx:n}}}),U=new pe({props:{title:"Close Confirmation",tooltip:"When enabled asks for confirmation on closing/reloading a reader tab and unsaved changes were detected",$$slots:{default:[Vo]},$$scope:{ctx:n}}}),te=new pe({props:{title:"Auto Bookmark",tooltip:"Set a bookmark after 3 seconds without scrolling/page change",$$slots:{default:[yo]},$$scope:{ctx:n}}}),ue=new pe({props:{title:"Blur image",$$slots:{default:[Fo]},$$scope:{ctx:n}}}),V=new pe({props:{title:"Hide furigana",$$slots:{default:[Bo]},$$scope:{ctx:n}}}),G=new pe({props:{title:"Hide furigana style",tooltip:n[28],$$slots:{default:[Mo]},$$scope:{ctx:n}}});const ke=[Co,No],ve=[];function we(f,c){return f[9]===vt.Continuous?0:1}return q=we(n),K=ve[q]=ke[q](n),{c(){e=C("div"),F(t.$$.fragment),o=W(),s=C("div"),F(a.$$.fragment),i=W(),F(r.$$.fragment),l=W(),F(u.$$.fragment),d=W(),F(p.$$.fragment),_=W(),F(g.$$.fragment),h=W(),F(O.$$.fragment),A=W(),F(T.$$.fragment),D=W(),F(P.$$.fragment),H=W(),F(J.$$.fragment),w=W(),F(z.$$.fragment),Y=W(),F(U.$$.fragment),X=W(),F(te.$$.fragment),le=W(),F(ue.$$.fragment),ne=W(),F(V.$$.fragment),Z=W(),F(G.$$.fragment),ie=W(),K.c(),fe=ct(),this.h()},l(f){e=R(f,"DIV",{class:!0});var c=j(e);B(t.$$.fragment,c),c.forEach(m),o=L(f),s=R(f,"DIV",{class:!0});var _e=j(s);B(a.$$.fragment,_e),_e.forEach(m),i=L(f),B(r.$$.fragment,f),l=L(f),B(u.$$.fragment,f),d=L(f),B(p.$$.fragment,f),_=L(f),B(g.$$.fragment,f),h=L(f),B(O.$$.fragment,f),A=L(f),B(T.$$.fragment,f),D=L(f),B(P.$$.fragment,f),H=L(f),B(J.$$.fragment,f),w=L(f),B(z.$$.fragment,f),Y=L(f),B(U.$$.fragment,f),X=L(f),B(te.$$.fragment,f),le=L(f),B(ue.$$.fragment,f),ne=L(f),B(V.$$.fragment,f),Z=L(f),B(G.$$.fragment,f),ie=L(f),K.l(f),fe=ct(),this.h()},h(){b(e,"class","lg:col-span-2"),b(s,"class","h-full")},m(f,c){y(f,e,c),M(t,e,null),y(f,o,c),y(f,s,c),M(a,s,null),y(f,i,c),M(r,f,c),y(f,l,c),M(u,f,c),y(f,d,c),M(p,f,c),y(f,_,c),M(g,f,c),y(f,h,c),M(O,f,c),y(f,A,c),M(T,f,c),y(f,D,c),M(P,f,c),y(f,H,c),M(J,f,c),y(f,w,c),M(z,f,c),y(f,Y,c),M(U,f,c),y(f,X,c),M(te,f,c),y(f,le,c),M(ue,f,c),y(f,ne,c),M(V,f,c),y(f,Z,c),M(G,f,c),y(f,ie,c),ve[q].m(f,c),y(f,fe,c),re=!0},p(f,c){const _e={};c[0]&256|c[2]&65536&&(_e.$$scope={dirty:c,ctx:f}),t.$set(_e);const Se={};c[0]&512|c[2]&65536&&(Se.$$scope={dirty:c,ctx:f}),a.$set(Se);const Oe={};c[0]&1024|c[2]&65536&&(Oe.$$scope={dirty:c,ctx:f}),r.$set(Oe);const Ee={};c[0]&2048|c[2]&65536&&(Ee.$$scope={dirty:c,ctx:f}),u.$set(Ee);const Le={};c[0]&4096|c[2]&65536&&(Le.$$scope={dirty:c,ctx:f}),p.$set(Le);const qe={};c[0]&8192|c[2]&65536&&(qe.$$scope={dirty:c,ctx:f}),g.$set(qe);const Re={};c[1]&16&&(Re.title=f[35]?"Reader Left/right margin":"Reader Top/bottom margin"),c[0]&131072|c[1]&16|c[2]&65536&&(Re.$$scope={dirty:c,ctx:f}),O.$set(Re);const Ae={};c[1]&16&&(Ae.title=f[35]?"Reader Max height":"Reader Max width"),c[0]&65536|c[1]&16|c[2]&65536&&(Ae.$$scope={dirty:c,ctx:f}),T.$set(Ae);const je={};c[0]&262144|c[2]&65536&&(je.$$scope={dirty:c,ctx:f}),P.$set(je);const Je={};c[0]&2|c[2]&65536&&(Je.$$scope={dirty:c,ctx:f}),J.$set(Je);const Ye={};c[0]&524288|c[2]&65536&&(Ye.$$scope={dirty:c,ctx:f}),z.$set(Ye);const Ke={};c[0]&16777216|c[2]&65536&&(Ke.$$scope={dirty:c,ctx:f}),U.$set(Ke);const Qe={};c[0]&33554432|c[2]&65536&&(Qe.$$scope={dirty:c,ctx:f}),te.$set(Qe);const Xe={};c[0]&16384|c[2]&65536&&(Xe.$$scope={dirty:c,ctx:f}),ue.$set(Xe);const Ze={};c[0]&32768|c[2]&65536&&(Ze.$$scope={dirty:c,ctx:f}),V.$set(Ze);const Ge={};c[0]&268435456&&(Ge.tooltip=f[28]),c[0]&1|c[2]&65536&&(Ge.$$scope={dirty:c,ctx:f}),G.$set(Ge);let He=q;q=we(f),q===He?ve[q].p(f,c):(Fe(),S(ve[He],1,1,()=>{ve[He]=null}),Be(),K=ve[q],K?K.p(f,c):(K=ve[q]=ke[q](f),K.c()),I(K,1),K.m(fe.parentNode,fe))},i(f){re||(I(t.$$.fragment,f),I(a.$$.fragment,f),I(r.$$.fragment,f),I(u.$$.fragment,f),I(p.$$.fragment,f),I(g.$$.fragment,f),I(O.$$.fragment,f),I(T.$$.fragment,f),I(P.$$.fragment,f),I(J.$$.fragment,f),I(z.$$.fragment,f),I(U.$$.fragment,f),I(te.$$.fragment,f),I(ue.$$.fragment,f),I(V.$$.fragment,f),I(G.$$.fragment,f),I(K),re=!0)},o(f){S(t.$$.fragment,f),S(a.$$.fragment,f),S(r.$$.fragment,f),S(u.$$.fragment,f),S(p.$$.fragment,f),S(g.$$.fragment,f),S(O.$$.fragment,f),S(T.$$.fragment,f),S(P.$$.fragment,f),S(J.$$.fragment,f),S(z.$$.fragment,f),S(U.$$.fragment,f),S(te.$$.fragment,f),S(ue.$$.fragment,f),S(V.$$.fragment,f),S(G.$$.fragment,f),S(K),re=!1},d(f){f&&m(e),N(t),f&&m(o),f&&m(s),N(a),f&&m(i),N(r,f),f&&m(l),N(u,f),f&&m(d),N(p,f),f&&m(_),N(g,f),f&&m(h),N(O,f),f&&m(A),N(T,f),f&&m(D),N(P,f),f&&m(H),N(J,f),f&&m(w),N(z,f),f&&m(Y),N(U,f),f&&m(X),N(te,f),f&&m(le),N(ue,f),f&&m(ne),N(V,f),f&&m(Z),N(G,f),f&&m(ie),ve[q].d(f),f&&m(fe)}}}function uo(n){let e,t,o;function s(i){n[72](i)}let a={options:n[37]};return n[3]!==void 0&&(a.selectedOptionId=n[3]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[3])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&8&&(t=!0,l.selectedOptionId=i[3],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function fo(n){let e,t,o;function s(i){n[73](i)}let a={options:n[37]};return n[4]!==void 0&&(a.selectedOptionId=n[4]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[4])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&16&&(t=!0,l.selectedOptionId=i[4],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function go(n){let e,t,o;function s(i){n[74](i)}let a={options:n[41]};return n[5]!==void 0&&(a.selectedOptionId=n[5]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[5])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&32&&(t=!0,l.selectedOptionId=i[5],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function co(n){let e,t,o;function s(i){n[75](i)}let a={options:n[42]};return n[6]!==void 0&&(a.selectedOptionId=n[6]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[6])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&64&&(t=!0,l.selectedOptionId=i[6],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function po(n){let e,t,o;function s(i){n[76](i)}let a={options:n[37]};return n[7]!==void 0&&(a.selectedOptionId=n[7]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[7])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&128&&(t=!0,l.selectedOptionId=i[7],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function mo(n){let e,t,o;function s(i){n[44](i)}let a={options:n[36]};return n[8]!==void 0&&(a.selectedOptionId=n[8]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[8])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&256&&(t=!0,l.selectedOptionId=i[8],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function _o(n){let e,t,o;function s(i){n[45](i)}let a={options:n[40]};return n[9]!==void 0&&(a.selectedOptionId=n[9]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[9])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&512&&(t=!0,l.selectedOptionId=i[9],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function ho(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){b(e,"type","text"),b(e,"class",et),b(e,"placeholder","Noto Serif JP")},m(s,a){y(s,e,a),be(e,n[10]),t||(o=se(e,"input",n[47]),t=!0)},p(s,a){a[0]&1024&&e.value!==s[10]&&be(e,s[10])},d(s){s&&m(e),t=!1,o()}}}function bo(n){let e,t,o;function s(i){n[46](i)}let a={slot:"header",availableFonts:[it.NOTOSERIFJP,it.GENEI,it.KLEEONE,it.SHIPPORIMINCHO]};return n[10]!==void 0&&(a.fontValue=n[10]),e=new Fn({props:a}),Q.push(()=>x(e,"fontValue",s,n[10])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&1024&&(t=!0,l.fontValue=i[10],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function $o(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){b(e,"type","text"),b(e,"class",et),b(e,"placeholder","Noto Sans JP")},m(s,a){y(s,e,a),be(e,n[11]),t||(o=se(e,"input",n[49]),t=!0)},p(s,a){a[0]&2048&&e.value!==s[11]&&be(e,s[11])},d(s){s&&m(e),t=!1,o()}}}function vo(n){let e,t,o;function s(i){n[48](i)}let a={slot:"header"};return n[11]!==void 0&&(a.fontValue=n[11]),e=new Fn({props:a}),Q.push(()=>x(e,"fontValue",s,n[11])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&2048&&(t=!0,l.fontValue=i[11],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function ko(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","1")},m(s,a){y(s,e,a),be(e,n[12]),t||(o=se(e,"input",n[50]),t=!0)},p(s,a){a[0]&4096&&De(e.value)!==s[12]&&be(e,s[12])},d(s){s&&m(e),t=!1,o()}}}function wo(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","0.05"),b(e,"min","1")},m(s,a){y(s,e,a),be(e,n[13]),t||(o=[se(e,"input",n[51]),se(e,"change",n[52])],t=!0)},p(s,a){a[0]&8192&&De(e.value)!==s[13]&&be(e,s[13])},d(s){s&&m(e),t=!1,We(o)}}}function Io(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","0")},m(s,a){y(s,e,a),be(e,n[17]),t||(o=se(e,"input",n[54]),t=!0)},p(s,a){a[0]&131072&&De(e.value)!==s[17]&&be(e,s[17])},d(s){s&&m(e),t=!1,o()}}}function So(n){let e,t,o;function s(i){n[53](i)}let a={slot:"header",isFirstDimension:!0,isVertical:n[35]};return n[17]!==void 0&&(a.dimensionValue=n[17]),e=new yn({props:a}),Q.push(()=>x(e,"dimensionValue",s,n[17])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};r[1]&16&&(l.isVertical=i[35]),!t&&r[0]&131072&&(t=!0,l.dimensionValue=i[17],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Oo(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","0")},m(s,a){y(s,e,a),be(e,n[16]),t||(o=se(e,"input",n[56]),t=!0)},p(s,a){a[0]&65536&&De(e.value)!==s[16]&&be(e,s[16])},d(s){s&&m(e),t=!1,o()}}}function To(n){let e,t,o;function s(i){n[55](i)}let a={slot:"header",isVertical:n[35]};return n[16]!==void 0&&(a.dimensionValue=n[16]),e=new yn({props:a}),Q.push(()=>x(e,"dimensionValue",s,n[16])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};r[1]&16&&(l.isVertical=i[35]),!t&&r[0]&65536&&(t=!0,l.dimensionValue=i[16],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Eo(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,step:!0,min:!0,class:!0}),this.h()},h(){b(e,"type","number"),b(e,"step","1"),b(e,"min","10"),b(e,"class",et)},m(s,a){y(s,e,a),be(e,n[18]),t||(o=[se(e,"input",n[57]),se(e,"blur",n[58])],t=!0)},p(s,a){a[0]&262144&&De(e.value)!==s[18]&&be(e,s[18])},d(s){s&&m(e),t=!1,We(o)}}}function Do(n){let e,t,o;function s(i){n[59](i)}let a={options:n[39]};return n[1]!==void 0&&(a.selectedOptionId=n[1]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[1])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&2&&(t=!0,l.selectedOptionId=i[1],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Po(n){let e,t,o;function s(i){n[60](i)}let a={options:n[37]};return n[19]!==void 0&&(a.selectedOptionId=n[19]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[19])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&524288&&(t=!0,l.selectedOptionId=i[19],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Vo(n){let e,t,o;function s(i){n[61](i)}let a={options:n[37]};return n[24]!==void 0&&(a.selectedOptionId=n[24]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[24])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&16777216&&(t=!0,l.selectedOptionId=i[24],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function yo(n){let e,t,o;function s(i){n[62](i)}let a={options:n[37]};return n[25]!==void 0&&(a.selectedOptionId=n[25]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[25])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&33554432&&(t=!0,l.selectedOptionId=i[25],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Fo(n){let e,t,o;function s(i){n[63](i)}let a={options:n[37]};return n[14]!==void 0&&(a.selectedOptionId=n[14]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[14])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&16384&&(t=!0,l.selectedOptionId=i[14],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Bo(n){let e,t,o;function s(i){n[64](i)}let a={options:n[37]};return n[15]!==void 0&&(a.selectedOptionId=n[15]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[15])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&32768&&(t=!0,l.selectedOptionId=i[15],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Mo(n){let e,t,o;function s(i){n[65](i)}let a={options:n[38]};return n[0]!==void 0&&(a.selectedOptionId=n[0]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[0])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&1&&(t=!0,l.selectedOptionId=i[0],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function No(n){let e,t,o,s,a,i;e=new pe({props:{title:"Avoid Page Break",tooltip:n[34],$$slots:{default:[Ro]},$$scope:{ctx:n}}}),o=new pe({props:{title:"Selection to Bookmark",tooltip:"When enabled bookmarks will be placed to a near paragraph of current/previous selected text instead of page start",$$slots:{default:[Ao]},$$scope:{ctx:n}}});let r=!n[35]&&$n(n);return{c(){F(e.$$.fragment),t=W(),F(o.$$.fragment),s=W(),r&&r.c(),a=ct()},l(l){B(e.$$.fragment,l),t=L(l),B(o.$$.fragment,l),s=L(l),r&&r.l(l),a=ct()},m(l,u){M(e,l,u),y(l,t,u),M(o,l,u),y(l,s,u),r&&r.m(l,u),y(l,a,u),i=!0},p(l,u){const d={};u[1]&8&&(d.tooltip=l[34]),u[0]&4|u[2]&65536&&(d.$$scope={dirty:u,ctx:l}),e.$set(d);const p={};u[0]&4194304|u[2]&65536&&(p.$$scope={dirty:u,ctx:l}),o.$set(p),l[35]?r&&(Fe(),S(r,1,1,()=>{r=null}),Be()):r?(r.p(l,u),u[1]&16&&I(r,1)):(r=$n(l),r.c(),I(r,1),r.m(a.parentNode,a))},i(l){i||(I(e.$$.fragment,l),I(o.$$.fragment,l),I(r),i=!0)},o(l){S(e.$$.fragment,l),S(o.$$.fragment,l),S(r),i=!1},d(l){N(e,l),l&&m(t),N(o,l),l&&m(s),r&&r.d(l),l&&m(a)}}}function Co(n){let e,t,o,s;return e=new pe({props:{title:"Custom Reading Point",tooltip:"Allows to set a persistent custom point in the reader from which the current progress and bookmark is calculated when enabled",$$slots:{default:[Ho]},$$scope:{ctx:n}}}),o=new pe({props:{title:"Auto position on resize",$$slots:{default:[zo]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=W(),F(o.$$.fragment)},l(a){B(e.$$.fragment,a),t=L(a),B(o.$$.fragment,a)},m(a,i){M(e,a,i),y(a,t,i),M(o,a,i),s=!0},p(a,i){const r={};i[0]&2097152|i[2]&65536&&(r.$$scope={dirty:i,ctx:a}),e.$set(r);const l={};i[0]&1048576|i[2]&65536&&(l.$$scope={dirty:i,ctx:a}),o.$set(l)},i(a){s||(I(e.$$.fragment,a),I(o.$$.fragment,a),s=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),s=!1},d(a){N(e,a),a&&m(t),N(o,a)}}}function Ro(n){let e,t,o;function s(i){n[69](i)}let a={options:n[37]};return n[2]!==void 0&&(a.selectedOptionId=n[2]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[2])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&4&&(t=!0,l.selectedOptionId=i[2],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Ao(n){let e,t,o;function s(i){n[70](i)}let a={options:n[37]};return n[22]!==void 0&&(a.selectedOptionId=n[22]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[22])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&4194304&&(t=!0,l.selectedOptionId=i[22],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function $n(n){let e,t;return e=new pe({props:{title:"Page Columns",$$slots:{default:[Go]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){M(e,o,s),t=!0},p(o,s){const a={};s[0]&8388608|s[2]&65536&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function Go(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","0")},m(s,a){y(s,e,a),be(e,n[23]),t||(o=se(e,"input",n[71]),t=!0)},p(s,a){a[0]&8388608&&De(e.value)!==s[23]&&be(e,s[23])},d(s){s&&m(e),t=!1,o()}}}function vn(n){let e,t,o,s;return{c(){e=C("div"),t=de("Reset Points"),this.h()},l(a){e=R(a,"DIV",{role:!0,class:!0});var i=j(e);t=me(i,"Reset Points"),i.forEach(m),this.h()},h(){b(e,"role","button"),b(e,"class","ml-4 hover:underline")},m(a,i){y(a,e,i),E(e,t),o||(s=[se(e,"click",n[67]),se(e,"keyup",nt)],o=!0)},p:Te,d(a){a&&m(e),o=!1,We(s)}}}function Ho(n){let e,t,o,s,a;function i(u){n[66](u)}let r={options:n[37]};n[21]!==void 0&&(r.selectedOptionId=n[21]),t=new Ie({props:r}),Q.push(()=>x(t,"selectedOptionId",i,n[21]));let l=n[21]&&vn(n);return{c(){e=C("div"),F(t.$$.fragment),s=W(),l&&l.c(),this.h()},l(u){e=R(u,"DIV",{class:!0});var d=j(e);B(t.$$.fragment,d),s=L(d),l&&l.l(d),d.forEach(m),this.h()},h(){b(e,"class","flex items-center")},m(u,d){y(u,e,d),M(t,e,null),E(e,s),l&&l.m(e,null),a=!0},p(u,d){const p={};!o&&d[0]&2097152&&(o=!0,p.selectedOptionId=u[21],ee(()=>o=!1)),t.$set(p),u[21]?l?l.p(u,d):(l=vn(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(u){a||(I(t.$$.fragment,u),a=!0)},o(u){S(t.$$.fragment,u),a=!1},d(u){u&&m(e),N(t),l&&l.d()}}}function zo(n){let e,t,o;function s(i){n[68](i)}let a={options:n[37]};return n[20]!==void 0&&(a.selectedOptionId=n[20]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s,n[20])),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){M(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&1048576&&(t=!0,l.selectedOptionId=i[20],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){N(e,i)}}}function Uo(n){let e,t,o,s;const a=[ao,ro],i=[];function r(l,u){return l[26]==="Reader"?0:1}return t=r(n),o=i[t]=a[t](n),{c(){e=C("div"),o.c(),this.h()},l(l){e=R(l,"DIV",{class:!0});var u=j(e);o.l(u),u.forEach(m),this.h()},h(){b(e,"class","grid grid-cols-1 items-center sm:grid-cols-2 sm:gap-6 lg:md:gap-8 lg:grid-cols-3")},m(l,u){y(l,e,u),i[t].m(e,null),s=!0},p(l,u){let d=t;t=r(l),t===d?i[t].p(l,u):(Fe(),S(i[d],1,1,()=>{i[d]=null}),Be(),o=i[t],o?o.p(l,u):(o=i[t]=a[t](l),o.c()),I(o,1),o.m(e,null))},i(l){s||(I(o),s=!0)},o(l){S(o),s=!1},d(l){l&&m(e),i[t].d()}}}function Wo(n,e,t){let o,s,a,i,r,l,u,{selectedTheme:d}=e,{viewMode:p}=e,{fontFamilyGroupOne:_}=e,{fontFamilyGroupTwo:g}=e,{fontSize:h}=e,{lineHeight:O}=e,{blurImage:A}=e,{hideFurigana:T}=e,{furiganaStyle:D}=e,{writingMode:P}=e,{secondDimensionMaxValue:H}=e,{firstDimensionMargin:J}=e,{swipeThreshold:w}=e,{disableWheelNavigation:z}=e,{autoPositionOnResize:Y}=e,{avoidPageBreak:U}=e,{customReadingPointEnabled:X}=e,{selectionToBookmarkEnabled:te}=e,{pageColumns:le}=e,{persistentStorage:ue}=e,{confirmClose:ne}=e,{autoBookmark:V}=e,{activeSettings:Z}=e,{cacheStorageData:G}=e,{autoReplication:ie}=e,{replicationSaveBehavior:q}=e,{showExternalPlaceholder:K}=e;const re=Array.from(Oi.entries()).map(([k,Pe])=>({theme:k,option:Pe})).map(({theme:k,option:Pe})=>({id:k,text:"",style:{color:Pe.fontColor,"background-color":Pe.backgroundColor},thickBorders:!0})),ke=[{id:!1,text:"Off"},{id:!0,text:"On"}],ve=[{id:rt.Partial,text:"Partial"},{id:rt.Full,text:"Full"},{id:rt.Toggle,text:"Toggle"}],we=[{id:"horizontal-tb",text:"Horizontal"},{id:"vertical-rl",text:"Vertical"}],f=[{id:vt.Continuous,text:"Continuous"},{id:vt.Paginated,text:"Paginated"}],c=[{id:ze.Off,text:"Off"},{id:ze.Up,text:"Up"},{id:ze.Down,text:"Down"},{id:ze.All,text:"All"}],_e=[{id:bt.NewOnly,text:"New Only"},{id:bt.Overwrite,text:"Overwrite"}],Se=Ue.storageSourcesChanged$.pipe(ti(k=>[...ni.filter(Pe=>ii(Pe.type,Pe.name,window)).map(Pe=>({name:Pe.name,type:Pe.type,data:new ArrayBuffer(0),lastSourceModified:0})),...k.filter(Pe=>!wt(Pe.name))]));ae(n,Se,k=>t(27,u=k));let Oe="",Ee="";function Le(k){d=k,t(8,d)}function qe(k){p=k,t(9,p)}function Re(k){_=k,t(10,_)}function Ae(){_=this.value,t(10,_)}function je(k){g=k,t(11,g)}function Je(){g=this.value,t(11,g)}function Ye(){h=De(this.value),t(12,h)}function Ke(){O=De(this.value),t(13,O)}const Qe=()=>{(!O||O<1)&&t(13,O=1.65)};function Xe(k){J=k,t(17,J)}function Ze(){J=De(this.value),t(17,J)}function Ge(k){H=k,t(16,H)}function He(){H=De(this.value),t(16,H)}function st(){w=De(this.value),t(18,w)}const lt=()=>{(w<10||typeof w!="number")&&t(18,w=10)};function $(k){P=k,t(1,P)}function tt(k){z=k,t(19,z)}function mt(k){ne=k,t(24,ne)}function _t(k){V=k,t(25,V)}function ht(k){A=k,t(14,A)}function ce(k){T=k,t(15,T)}function v(k){D=k,t(0,D)}function oe(k){X=k,t(21,X)}const xe=()=>{oi.next(100),si.next(0)};function ge(k){Y=k,t(20,Y)}function ft(k){U=k,t(2,U)}function Bn(k){te=k,t(22,te)}function Mn(){le=De(this.value),t(23,le)}function Nn(k){ue=k,t(3,ue)}function Cn(k){G=k,t(4,G)}function Rn(k){ie=k,t(5,ie)}function An(k){q=k,t(6,q)}function Gn(k){K=k,t(7,K)}return n.$$set=k=>{"selectedTheme"in k&&t(8,d=k.selectedTheme),"viewMode"in k&&t(9,p=k.viewMode),"fontFamilyGroupOne"in k&&t(10,_=k.fontFamilyGroupOne),"fontFamilyGroupTwo"in k&&t(11,g=k.fontFamilyGroupTwo),"fontSize"in k&&t(12,h=k.fontSize),"lineHeight"in k&&t(13,O=k.lineHeight),"blurImage"in k&&t(14,A=k.blurImage),"hideFurigana"in k&&t(15,T=k.hideFurigana),"furiganaStyle"in k&&t(0,D=k.furiganaStyle),"writingMode"in k&&t(1,P=k.writingMode),"secondDimensionMaxValue"in k&&t(16,H=k.secondDimensionMaxValue),"firstDimensionMargin"in k&&t(17,J=k.firstDimensionMargin),"swipeThreshold"in k&&t(18,w=k.swipeThreshold),"disableWheelNavigation"in k&&t(19,z=k.disableWheelNavigation),"autoPositionOnResize"in k&&t(20,Y=k.autoPositionOnResize),"avoidPageBreak"in k&&t(2,U=k.avoidPageBreak),"customReadingPointEnabled"in k&&t(21,X=k.customReadingPointEnabled),"selectionToBookmarkEnabled"in k&&t(22,te=k.selectionToBookmarkEnabled),"pageColumns"in k&&t(23,le=k.pageColumns),"persistentStorage"in k&&t(3,ue=k.persistentStorage),"confirmClose"in k&&t(24,ne=k.confirmClose),"autoBookmark"in k&&t(25,V=k.autoBookmark),"activeSettings"in k&&t(26,Z=k.activeSettings),"cacheStorageData"in k&&t(4,G=k.cacheStorageData),"autoReplication"in k&&t(5,ie=k.autoReplication),"replicationSaveBehavior"in k&&t(6,q=k.replicationSaveBehavior),"showExternalPlaceholder"in k&&t(7,K=k.showExternalPlaceholder)},n.$$.update=()=>{if(n.$$.dirty[0]&2&&t(35,o=P==="vertical-rl"),n.$$.dirty[0]&1)switch(D){case rt.Full:t(28,Oe="Hidden by default, show on hover or click");break;case rt.Toggle:t(28,Oe="Hidden by default, can be toggled on click");break;default:t(28,Oe="Display furigana as grayed out text");break}if(n.$$.dirty[0]&4&&t(34,s=U?"Avoids breaking words/sentences into different pages":"Allow words/sentences to break into different pages"),n.$$.dirty[0]&8&&t(33,a=ue?"Reader uses higher storage limit for local data":`Uses lower temporary storage for local data.
May require bookmark or notification permissions for enablement`),n.$$.dirty[0]&16&&t(32,i=G?"Storage data is cached. Saves network traffic/latency but requires to reload current/open a new tab to retrieve data changes":"Storage data is refetched on every action. May consume more network traffic/latency but ensures current data"),n.$$.dirty[0]&64&&t(31,r=q===bt.Overwrite?"Data will always be overwritten":"Data will only be written if none exist on target, no time data is present or if target data is older"),n.$$.dirty[0]&32)switch(ie){case ze.Up:t(29,Ee="Updated data will be exported to sync target when reading once per minute");break;case ze.Down:t(29,Ee="Data will be imported from sync target when opening a book");break;case ze.All:t(29,Ee="Data will be synced in both directions");break;default:t(29,Ee="No automatic import/export of data");break}n.$$.dirty[0]&128&&t(30,l=K?"Placeholder data for external books is shown in the browser source manager":"Placeholder data for external books is hidden"),n.$$.dirty[0]&201326592&&Z==="Data"&&!u&&Ue.getStorageSources().then(k=>{Ue.storageSourcesChanged$.next(k)}).catch(k=>{Si.error(`Failed to retrieve storage sources: ${k.message}`),Ue.storageSourcesChanged$.next([])})},[D,P,U,ue,G,ie,q,K,d,p,_,g,h,O,A,T,H,J,w,z,Y,X,te,le,ne,V,Z,u,Oe,Ee,l,r,i,a,s,o,re,ke,ve,we,f,c,_e,Se,Le,qe,Re,Ae,je,Je,Ye,Ke,Qe,Xe,Ze,Ge,He,st,lt,$,tt,mt,_t,ht,ce,v,oe,xe,ge,ft,Bn,Mn,Nn,Cn,Rn,An,Gn]}class Lo extends Me{constructor(e){super(),Ne(this,e,Wo,Uo,Ce,{selectedTheme:8,viewMode:9,fontFamilyGroupOne:10,fontFamilyGroupTwo:11,fontSize:12,lineHeight:13,blurImage:14,hideFurigana:15,furiganaStyle:0,writingMode:1,secondDimensionMaxValue:16,firstDimensionMargin:17,swipeThreshold:18,disableWheelNavigation:19,autoPositionOnResize:20,avoidPageBreak:2,customReadingPointEnabled:21,selectionToBookmarkEnabled:22,pageColumns:23,persistentStorage:3,confirmClose:24,autoBookmark:25,activeSettings:26,cacheStorageData:4,autoReplication:5,replicationSaveBehavior:6,showExternalPlaceholder:7},null,[-1,-1,-1])}}function kn(n,e,t){const o=n.slice();return o[4]=e[t],o}function wn(n,e){let t,o,s,a=e[4].label+"",i,r,l,u,d,p,_;o=new Ve({props:{class:"mb-1",icon:e[4].icon}}),l=new ot({});function g(){return e[3](e[4])}return{key:n,first:null,c(){t=C("button"),F(o.$$.fragment),s=W(),i=de(a),r=W(),F(l.$$.fragment),u=W(),this.h()},l(h){t=R(h,"BUTTON",{class:!0});var O=j(t);B(o.$$.fragment,O),s=L(O),i=me(O,a),r=L(O),B(l.$$.fragment,O),u=L(O),O.forEach(m),this.h()},h(){b(t,"class","flex grow flex-col items-center justify-center text-xs"),he(t,"bg-gray-900",e[0]===e[4].label),he(t,"hover:bg-gray-900",e[0]!==e[4].label),this.first=t},m(h,O){y(h,t,O),M(o,t,null),E(t,s),E(t,i),E(t,r),M(l,t,null),E(t,u),d=!0,p||(_=se(t,"click",g),p=!0)},p(h,O){e=h,(!d||O&5)&&he(t,"bg-gray-900",e[0]===e[4].label),(!d||O&5)&&he(t,"hover:bg-gray-900",e[0]!==e[4].label)},i(h){d||(I(o.$$.fragment,h),I(l.$$.fragment,h),d=!0)},o(h){S(o.$$.fragment,h),S(l.$$.fragment,h),d=!1},d(h){h&&m(t),N(o),N(l),p=!1,_()}}}function qo(n){let e,t,o,s=[],a=new Map,i,r,l,u=n[2];const d=p=>p[4].label;for(let p=0;p<u.length;p+=1){let _=kn(n,u,p),g=d(_);a.set(g,s[p]=wn(g,_))}return r=new ki({props:{leavePageLink:n[1]}}),{c(){e=C("div"),t=C("div"),o=C("div");for(let p=0;p<s.length;p+=1)s[p].c();i=W(),F(r.$$.fragment),this.h()},l(p){e=R(p,"DIV",{class:!0});var _=j(e);t=R(_,"DIV",{class:!0});var g=j(t);o=R(g,"DIV",{class:!0});var h=j(o);for(let O=0;O<s.length;O+=1)s[O].l(h);h.forEach(m),i=L(g),B(r.$$.fragment,g),g.forEach(m),_.forEach(m),this.h()},h(){b(o,"class","h12 flex grow justify-evenly xl:h-10"),b(t,"class",Pn+" flex px-0 md:px-5"),b(e,"class",li)},m(p,_){y(p,e,_),E(e,t),E(t,o);for(let g=0;g<s.length;g+=1)s[g].m(o,null);E(t,i),M(r,t,null),l=!0},p(p,[_]){_&5&&(u=p[2],Fe(),s=dt(s,_,d,1,p,u,a,o,On,wn,null,kn),Be());const g={};_&2&&(g.leavePageLink=p[1]),r.$set(g)},i(p){if(!l){for(let _=0;_<u.length;_+=1)I(s[_]);I(r.$$.fragment,p),l=!0}},o(p){for(let _=0;_<s.length;_+=1)S(s[_]);S(r.$$.fragment,p),l=!1},d(p){p&&m(e);for(let _=0;_<s.length;_+=1)s[_].d();N(r)}}}function jo(n,e,t){let{leavePageLink:o}=e,{activeSettings:s}=e;const a=[{label:"Reader",icon:$i},{label:"Data",icon:vi}],i=r=>t(0,s=r.label);return n.$$set=r=>{"leavePageLink"in r&&t(1,o=r.leavePageLink),"activeSettings"in r&&t(0,s=r.activeSettings)},[s,o,a,i]}class Jo extends Me{constructor(e){super(),Ne(this,e,jo,qo,Ce,{leavePageLink:1,activeSettings:0})}}function Yo(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,A,T,D,P,H,J,w,z,Y,U,X,te,le,ue,ne,V,Z,G,ie,q,K,fe=(n[28]??"")+"",re,ke;document.title=e=Vt("Settings");function ve(v){n[31](v)}let we={leavePageLink:n[0]};n[1]!==void 0&&(we.activeSettings=n[1]),s=new Jo({props:we}),Q.push(()=>x(s,"activeSettings",ve,n[1]));function f(v){n[32](v)}function c(v){n[33](v)}function _e(v){n[34](v)}function Se(v){n[35](v)}function Oe(v){n[36](v)}function Ee(v){n[37](v)}function Le(v){n[38](v)}function qe(v){n[39](v)}function Re(v){n[40](v)}function Ae(v){n[41](v)}function je(v){n[42](v)}function Je(v){n[43](v)}function Ye(v){n[44](v)}function Ke(v){n[45](v)}function Qe(v){n[46](v)}function Xe(v){n[47](v)}function Ze(v){n[48](v)}function Ge(v){n[49](v)}function He(v){n[50](v)}function st(v){n[51](v)}function lt(v){n[52](v)}function $(v){n[53](v)}function tt(v){n[54](v)}function mt(v){n[55](v)}function _t(v){n[56](v)}function ht(v){n[57](v)}let ce={activeSettings:n[1]};return n[2]!==void 0&&(ce.selectedTheme=n[2]),n[3]!==void 0&&(ce.fontFamilyGroupOne=n[3]),n[4]!==void 0&&(ce.fontFamilyGroupTwo=n[4]),n[5]!==void 0&&(ce.fontSize=n[5]),n[6]!==void 0&&(ce.lineHeight=n[6]),n[7]!==void 0&&(ce.blurImage=n[7]),n[8]!==void 0&&(ce.hideFurigana=n[8]),n[9]!==void 0&&(ce.furiganaStyle=n[9]),n[10]!==void 0&&(ce.writingMode=n[10]),n[11]!==void 0&&(ce.viewMode=n[11]),n[12]!==void 0&&(ce.secondDimensionMaxValue=n[12]),n[13]!==void 0&&(ce.firstDimensionMargin=n[13]),n[14]!==void 0&&(ce.swipeThreshold=n[14]),n[15]!==void 0&&(ce.disableWheelNavigation=n[15]),n[16]!==void 0&&(ce.autoPositionOnResize=n[16]),n[17]!==void 0&&(ce.avoidPageBreak=n[17]),n[18]!==void 0&&(ce.customReadingPointEnabled=n[18]),n[19]!==void 0&&(ce.selectionToBookmarkEnabled=n[19]),n[20]!==void 0&&(ce.pageColumns=n[20]),n[21]!==void 0&&(ce.persistentStorage=n[21]),n[22]!==void 0&&(ce.confirmClose=n[22]),n[23]!==void 0&&(ce.autoBookmark=n[23]),n[24]!==void 0&&(ce.cacheStorageData=n[24]),n[25]!==void 0&&(ce.replicationSaveBehavior=n[25]),n[26]!==void 0&&(ce.autoReplication=n[26]),n[27]!==void 0&&(ce.showExternalPlaceholder=n[27]),u=new Lo({props:ce}),Q.push(()=>x(u,"selectedTheme",f,n[2])),Q.push(()=>x(u,"fontFamilyGroupOne",c,n[3])),Q.push(()=>x(u,"fontFamilyGroupTwo",_e,n[4])),Q.push(()=>x(u,"fontSize",Se,n[5])),Q.push(()=>x(u,"lineHeight",Oe,n[6])),Q.push(()=>x(u,"blurImage",Ee,n[7])),Q.push(()=>x(u,"hideFurigana",Le,n[8])),Q.push(()=>x(u,"furiganaStyle",qe,n[9])),Q.push(()=>x(u,"writingMode",Re,n[10])),Q.push(()=>x(u,"viewMode",Ae,n[11])),Q.push(()=>x(u,"secondDimensionMaxValue",je,n[12])),Q.push(()=>x(u,"firstDimensionMargin",Je,n[13])),Q.push(()=>x(u,"swipeThreshold",Ye,n[14])),Q.push(()=>x(u,"disableWheelNavigation",Ke,n[15])),Q.push(()=>x(u,"autoPositionOnResize",Qe,n[16])),Q.push(()=>x(u,"avoidPageBreak",Xe,n[17])),Q.push(()=>x(u,"customReadingPointEnabled",Ze,n[18])),Q.push(()=>x(u,"selectionToBookmarkEnabled",Ge,n[19])),Q.push(()=>x(u,"pageColumns",He,n[20])),Q.push(()=>x(u,"persistentStorage",st,n[21])),Q.push(()=>x(u,"confirmClose",lt,n[22])),Q.push(()=>x(u,"autoBookmark",$,n[23])),Q.push(()=>x(u,"cacheStorageData",tt,n[24])),Q.push(()=>x(u,"replicationSaveBehavior",mt,n[25])),Q.push(()=>x(u,"autoReplication",_t,n[26])),Q.push(()=>x(u,"showExternalPlaceholder",ht,n[27])),{c(){t=W(),o=C("div"),F(s.$$.fragment),i=W(),r=C("div"),l=C("div"),F(u.$$.fragment),K=W(),re=de(fe),this.h()},l(v){qn("svelte-1mss3mt",document.head).forEach(m),t=L(v),o=R(v,"DIV",{class:!0});var xe=j(o);B(s.$$.fragment,xe),xe.forEach(m),i=L(v),r=R(v,"DIV",{class:!0});var ge=j(r);l=R(ge,"DIV",{class:!0});var ft=j(l);B(u.$$.fragment,ft),ft.forEach(m),ge.forEach(m),K=L(v),re=me(v,fe),this.h()},h(){b(o,"class","elevation-4 fixed inset-x-0 top-0 z-10"),b(l,"class","max-w-5xl"),b(r,"class",Pn+" h-full pt-16 xl:pt-14")},m(v,oe){y(v,t,oe),y(v,o,oe),M(s,o,null),y(v,i,oe),y(v,r,oe),E(r,l),M(u,l,null),y(v,K,oe),y(v,re,oe),ke=!0},p(v,oe){(!ke||oe&0)&&e!==(e=Vt("Settings"))&&(document.title=e);const xe={};oe[0]&1&&(xe.leavePageLink=v[0]),!a&&oe[0]&2&&(a=!0,xe.activeSettings=v[1],ee(()=>a=!1)),s.$set(xe);const ge={};oe[0]&2&&(ge.activeSettings=v[1]),!d&&oe[0]&4&&(d=!0,ge.selectedTheme=v[2],ee(()=>d=!1)),!p&&oe[0]&8&&(p=!0,ge.fontFamilyGroupOne=v[3],ee(()=>p=!1)),!_&&oe[0]&16&&(_=!0,ge.fontFamilyGroupTwo=v[4],ee(()=>_=!1)),!g&&oe[0]&32&&(g=!0,ge.fontSize=v[5],ee(()=>g=!1)),!h&&oe[0]&64&&(h=!0,ge.lineHeight=v[6],ee(()=>h=!1)),!O&&oe[0]&128&&(O=!0,ge.blurImage=v[7],ee(()=>O=!1)),!A&&oe[0]&256&&(A=!0,ge.hideFurigana=v[8],ee(()=>A=!1)),!T&&oe[0]&512&&(T=!0,ge.furiganaStyle=v[9],ee(()=>T=!1)),!D&&oe[0]&1024&&(D=!0,ge.writingMode=v[10],ee(()=>D=!1)),!P&&oe[0]&2048&&(P=!0,ge.viewMode=v[11],ee(()=>P=!1)),!H&&oe[0]&4096&&(H=!0,ge.secondDimensionMaxValue=v[12],ee(()=>H=!1)),!J&&oe[0]&8192&&(J=!0,ge.firstDimensionMargin=v[13],ee(()=>J=!1)),!w&&oe[0]&16384&&(w=!0,ge.swipeThreshold=v[14],ee(()=>w=!1)),!z&&oe[0]&32768&&(z=!0,ge.disableWheelNavigation=v[15],ee(()=>z=!1)),!Y&&oe[0]&65536&&(Y=!0,ge.autoPositionOnResize=v[16],ee(()=>Y=!1)),!U&&oe[0]&131072&&(U=!0,ge.avoidPageBreak=v[17],ee(()=>U=!1)),!X&&oe[0]&262144&&(X=!0,ge.customReadingPointEnabled=v[18],ee(()=>X=!1)),!te&&oe[0]&524288&&(te=!0,ge.selectionToBookmarkEnabled=v[19],ee(()=>te=!1)),!le&&oe[0]&1048576&&(le=!0,ge.pageColumns=v[20],ee(()=>le=!1)),!ue&&oe[0]&2097152&&(ue=!0,ge.persistentStorage=v[21],ee(()=>ue=!1)),!ne&&oe[0]&4194304&&(ne=!0,ge.confirmClose=v[22],ee(()=>ne=!1)),!V&&oe[0]&8388608&&(V=!0,ge.autoBookmark=v[23],ee(()=>V=!1)),!Z&&oe[0]&16777216&&(Z=!0,ge.cacheStorageData=v[24],ee(()=>Z=!1)),!G&&oe[0]&33554432&&(G=!0,ge.replicationSaveBehavior=v[25],ee(()=>G=!1)),!ie&&oe[0]&67108864&&(ie=!0,ge.autoReplication=v[26],ee(()=>ie=!1)),!q&&oe[0]&134217728&&(q=!0,ge.showExternalPlaceholder=v[27],ee(()=>q=!1)),u.$set(ge),(!ke||oe[0]&268435456)&&fe!==(fe=(v[28]??"")+"")&&ye(re,fe)},i(v){ke||(I(s.$$.fragment,v),I(u.$$.fragment,v),ke=!0)},o(v){S(s.$$.fragment,v),S(u.$$.fragment,v),ke=!1},d(v){v&&m(t),v&&m(o),N(s),v&&m(i),v&&m(r),N(u),v&&m(K),v&&m(re)}}}function Ko(n,e,t){let o,s,a,i,r,l,u,d,p,_,g,h,O,A,T,D,P,H,J,w,z,Y,U,X,te,le,ue;ae(n,Ct,$=>t(2,o=$)),ae(n,Rt,$=>t(3,s=$)),ae(n,At,$=>t(4,a=$)),ae(n,Gt,$=>t(5,i=$)),ae(n,Ht,$=>t(6,r=$)),ae(n,zt,$=>t(7,l=$)),ae(n,Ut,$=>t(8,u=$)),ae(n,Wt,$=>t(9,d=$)),ae(n,Lt,$=>t(10,p=$)),ae(n,qt,$=>t(11,_=$)),ae(n,jt,$=>t(12,g=$)),ae(n,Jt,$=>t(13,h=$)),ae(n,Yt,$=>t(14,O=$)),ae(n,Kt,$=>t(15,A=$)),ae(n,Qt,$=>t(16,T=$)),ae(n,Xt,$=>t(17,D=$)),ae(n,Zt,$=>t(18,P=$)),ae(n,xt,$=>t(19,H=$)),ae(n,en,$=>t(20,J=$)),ae(n,tn,$=>t(22,z=$)),ae(n,nn,$=>t(23,Y=$)),ae(n,on,$=>t(24,U=$)),ae(n,sn,$=>t(25,X=$)),ae(n,$t,$=>t(26,te=$)),ae(n,ln,$=>t(27,le=$));const ne=ri(!1);ae(n,ne,$=>t(21,w=$));let V=!1;In(()=>{Nt.persisted().then(q)});let Z=`${ui}${Ii.MANAGE.routeId}`,G="Reader";jn($=>{const{from:tt}=$;!tt||t(0,Z=`${tt.url.pathname}${tt.url.search}`)});const ie=ne.pipe(ai($=>{if(!!V){if(!$){q(!0);return}Nt.persist().then(q)}}),wi());ae(n,ie,$=>t(28,ue=$));function q($){V=!1,ne.next($),V=!0}function K($){G=$,t(1,G)}function fe($){o=$,Ct.set(o)}function re($){s=$,Rt.set(s)}function ke($){a=$,At.set(a)}function ve($){i=$,Gt.set(i)}function we($){r=$,Ht.set(r)}function f($){l=$,zt.set(l)}function c($){u=$,Ut.set(u)}function _e($){d=$,Wt.set(d)}function Se($){p=$,Lt.set(p)}function Oe($){_=$,qt.set(_)}function Ee($){g=$,jt.set(g)}function Le($){h=$,Jt.set(h)}function qe($){O=$,Yt.set(O)}function Re($){A=$,Kt.set(A)}function Ae($){T=$,Qt.set(T)}function je($){D=$,Xt.set(D)}function Je($){P=$,Zt.set(P)}function Ye($){H=$,xt.set(H)}function Ke($){J=$,en.set(J)}function Qe($){w=$,ne.set(w)}function Xe($){z=$,tn.set(z)}function Ze($){Y=$,nn.set(Y)}function Ge($){U=$,on.set(U)}function He($){X=$,sn.set(X)}function st($){te=$,$t.set(te)}function lt($){le=$,ln.set(le)}return[Z,G,o,s,a,i,r,l,u,d,p,_,g,h,O,A,T,D,P,H,J,w,z,Y,U,X,te,le,ue,ne,ie,K,fe,re,ke,ve,we,f,c,_e,Se,Oe,Ee,Le,qe,Re,Ae,je,Je,Ye,Ke,Qe,Xe,Ze,Ge,He,st,lt]}class is extends Me{constructor(e){super(),Ne(this,e,Ko,Yo,Ce,{},null,[-1,-1])}}export{is as default};
