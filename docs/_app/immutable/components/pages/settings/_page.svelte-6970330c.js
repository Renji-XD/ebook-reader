import{S as Ne,i as Me,n as Ce,j as C,k as R,l as j,f as m,m as b,a as y,d as I,g as Fe,b as Be,t as S,H as An,q as de,s as L,w as F,r as me,c as W,x as B,a8 as he,G as E,y as N,N as se,u as ye,z as M,a4 as be,B as Te,R as Le,o as In,A as zn,aj as De,a1 as Q,ab as x,ac as ee,Y as dt,Z as Sn,M as It,O as St,P as Ot,Q as Tt,D as ae,a2 as Un,L as Ln,ak as Et,al as Wn,af as On,a6 as Dt,a7 as Pt,e as ct,F as qn}from"../../../chunks/index-876111f7.js";import{f as Vt,a as jn}from"../../../chunks/format-page-title-91f1c985.js";import{aR as ot,f as it,aN as Jn,g as Tn,a4 as $e,aS as pt,aW as yt,aX as wt,aY as Kn,j as Ue,aZ as En,a_ as Dn,a$ as at,a3 as Ft,a5 as ze,aj as Bt,aD as Yn,aE as Qn,aF as Zn,ak as $t,a as gt,b0 as Nt,M as Xn,b1 as xn,aQ as ei,F as rt,V as vt,b2 as bt,m as ti,b3 as ni,aH as ii,am as oi,ac as si,b4 as et,aL as Pn,Y as li,P as ri,b5 as Mt,t as ai,p as ui,a6 as Ct,h as Rt,ao as Ht,ap as Gt,aq as At,ar as zt,as as Ut,at as Lt,a7 as Wt,Z as qt,au as jt,K as Jt,N as Kt,E as Yt,av as Qt,aw as Zt,G as Xt,L as xt,ax as en,al as tn,ay as nn,ag as on,ah as sn,aV as ln}from"../../../chunks/store-980e8526.js";import{F as Ve,B as fi,C as gi,D as Vn,E as ci,l as pi,f as di,G as mi,t as _i,H as hi,u as bi,I as $i,J as vi}from"../../../chunks/fa-26600f17.js";import{P as ut,M as ki,r as wi,m as Ii}from"../../../chunks/merged-header-icon-fd5992a9.js";import{m as Si}from"../../../chunks/error-handler-df8dffd6.js";import{a as Oi}from"../../../chunks/theme-option-f9f8f697.js";function rn(n,e,t){const o=n.slice();return o[3]=e[t],o}function an(n){let e,t=n[3].text+"",o,s,a,i,r,l,u,d;a=new ot({});function p(){return n[2](n[3])}return{c(){e=C("button"),o=de(t),s=L(),F(a.$$.fragment),i=L(),this.h()},l(_){e=R(_,"BUTTON",{class:!0,style:!0});var g=j(e);o=me(g,t),s=W(g),B(a.$$.fragment,g),i=W(g),g.forEach(m),this.h()},h(){b(e,"class","m-1 rounded-md border-2 border-gray-400 p-2 text-lg"),b(e,"style",r=un(n[3].style)),he(e,"border-4",n[3].thickBorders&&n[3].id===n[0]),he(e,"border-blue-300",n[3].id===n[0]),he(e,"bg-gray-700",n[3].id===n[0]),he(e,"text-white",n[3].id===n[0]),he(e,"bg-white",n[3].id!==n[0])},m(_,g){y(_,e,g),E(e,o),E(e,s),N(a,e,null),E(e,i),l=!0,u||(d=se(e,"click",p),u=!0)},p(_,g){n=_,(!l||g&2)&&t!==(t=n[3].text+"")&&ye(o,t),(!l||g&2&&r!==(r=un(n[3].style)))&&b(e,"style",r),(!l||g&3)&&he(e,"border-4",n[3].thickBorders&&n[3].id===n[0]),(!l||g&3)&&he(e,"border-blue-300",n[3].id===n[0]),(!l||g&3)&&he(e,"bg-gray-700",n[3].id===n[0]),(!l||g&3)&&he(e,"text-white",n[3].id===n[0]),(!l||g&3)&&he(e,"bg-white",n[3].id!==n[0])},i(_){l||(I(a.$$.fragment,_),l=!0)},o(_){S(a.$$.fragment,_),l=!1},d(_){_&&m(e),M(a),u=!1,d()}}}function Ti(n){let e,t,o=n[1],s=[];for(let i=0;i<o.length;i+=1)s[i]=an(rn(n,o,i));const a=i=>S(s[i],1,1,()=>{s[i]=null});return{c(){e=C("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=R(i,"DIV",{class:!0});var r=j(e);for(let l=0;l<s.length;l+=1)s[l].l(r);r.forEach(m),this.h()},h(){b(e,"class","-m-1")},m(i,r){y(i,e,r);for(let l=0;l<s.length;l+=1)s[l].m(e,null);t=!0},p(i,[r]){if(r&3){o=i[1];let l;for(l=0;l<o.length;l+=1){const u=rn(i,o,l);s[l]?(s[l].p(u,r),I(s[l],1)):(s[l]=an(u),s[l].c(),I(s[l],1),s[l].m(e,null))}for(Fe(),l=o.length;l<s.length;l+=1)a(l);Be()}},i(i){if(!t){for(let r=0;r<o.length;r+=1)I(s[r]);t=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)S(s[r]);t=!1},d(i){i&&m(e),An(s,i)}}}function un(n){return n?Object.entries(n).map(([e,t])=>`${e}: ${t}`).join(";"):""}function Ei(n,e,t){let{options:o}=e,{selectedOptionId:s}=e;const a=i=>t(0,s=i.id);return n.$$set=i=>{"options"in i&&t(1,o=i.options),"selectedOptionId"in i&&t(0,s=i.selectedOptionId)},[s,o,a]}class Ie extends Ne{constructor(e){super(),Me(this,e,Ei,Ti,Ce,{options:1,selectedOptionId:0})}}function Di(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,H,T;return{c(){e=C("div"),t=de(n[1]),o=de("% - "),s=de(n[4]),a=de("px"),i=L(),r=C("input"),l=L(),u=C("div"),d=C("button"),p=de(n[5]),_=de("%"),g=L(),h=C("button"),O=de("50%"),this.h()},l(D){e=R(D,"DIV",{class:!0});var P=j(e);t=me(P,n[1]),o=me(P,"% - "),s=me(P,n[4]),a=me(P,"px"),P.forEach(m),i=W(D),r=R(D,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),l=W(D),u=R(D,"DIV",{class:!0});var A=j(u);d=R(A,"BUTTON",{});var J=j(d);p=me(J,n[5]),_=me(J,"%"),J.forEach(m),g=W(A),h=R(A,"BUTTON",{});var w=j(h);O=me(w,"50%"),w.forEach(m),A.forEach(m),this.h()},h(){b(e,"class","text-center"),b(r,"class","mb-2 mt-4"),b(r,"type","range"),b(r,"step",kt),b(r,"min",n[3]),b(r,"max",n[2]),b(u,"class","flex justify-evenly")},m(D,P){y(D,e,P),E(e,t),E(e,o),E(e,s),E(e,a),y(D,i,P),y(D,r,P),be(r,n[1]),y(D,l,P),y(D,u,P),E(u,d),E(d,p),E(d,_),E(u,g),E(u,h),E(h,O),H||(T=[se(r,"change",n[9]),se(r,"input",n[9]),se(r,"change",n[10]),se(d,"click",n[11]),se(h,"click",n[12])],H=!0)},p(D,[P]){P&2&&ye(t,D[1]),P&16&&ye(s,D[4]),P&8&&b(r,"min",D[3]),P&4&&b(r,"max",D[2]),P&2&&be(r,D[1]),P&32&&ye(p,D[5])},i:Te,o:Te,d(D){D&&m(e),D&&m(i),D&&m(r),D&&m(l),D&&m(u),H=!1,Le(T)}}}const kt=5;function Pi(n,e,t){let o,s,a,i,{dimensionValue:r=0}=e,{isVertical:l=!0}=e,{isFirstDimension:u=!1}=e,d=0;function p(){return l?u?"innerWidth":"innerHeight":u?"innerHeight":"innerWidth"}async function _(T=0){t(1,d=T),await zn(),t(0,r=o)}In(()=>{const T=Math.min(Math.max(Math.round(r*(u?2:1)/window[p()]*100),!u&&!r?a:s),a);_(Math.round(T/kt)*kt)});function g(){d=De(this.value),t(1,d)}const h=()=>t(0,r=o),O=()=>_(i),H=()=>_(50);return n.$$set=T=>{"dimensionValue"in T&&t(0,r=T.dimensionValue),"isVertical"in T&&t(7,l=T.isVertical),"isFirstDimension"in T&&t(8,u=T.isFirstDimension)},n.$$.update=()=>{n.$$.dirty&258&&t(4,o=Math.ceil(window[p()]*(d/100/(u?2:1)))),n.$$.dirty&256&&t(3,s=u?5:50),n.$$.dirty&256&&t(2,a=u?50:95),n.$$.dirty&256&&t(5,i=u?25:75)},[r,d,a,s,o,i,_,l,u,g,h,O,H]}class Vi extends Ne{constructor(e){super(),Me(this,e,Pi,Di,Ce,{dimensionValue:0,isVertical:7,isFirstDimension:8})}}function yi(n){let e,t;return e=new Ve({props:{icon:fi,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Fi(n){let e,t,o;function s(i){n[3](i)}let a={slot:"content",isFirstDimension:n[1],isVertical:n[2]};return n[0]!==void 0&&(a.dimensionValue=n[0]),e=new Vi({props:a}),Q.push(()=>x(e,"dimensionValue",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};r&2&&(l.isFirstDimension=i[1]),r&4&&(l.isVertical=i[2]),!t&&r&1&&(t=!0,l.dimensionValue=i[0],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Bi(n){let e,t;return e=new ut({props:{$$slots:{content:[Fi],icon:[yi]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p(o,[s]){const a={};s&23&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Ni(n,e,t){let{isFirstDimension:o=!1}=e,{isVertical:s=!1}=e,{dimensionValue:a=0}=e;function i(r){a=r,t(0,a)}return n.$$set=r=>{"isFirstDimension"in r&&t(1,o=r.isFirstDimension),"isVertical"in r&&t(2,s=r.isVertical),"dimensionValue"in r&&t(0,a=r.dimensionValue)},[a,o,s,i]}class yn extends Ne{constructor(e){super(),Me(this,e,Ni,Bi,Ce,{isFirstDimension:1,isVertical:2,dimensionValue:0})}}var nt=(n=>(n.GENEI="Genei Koburi Mincho v5",n.KLEEONE="Klee One",n.KLEEONESEMIBOLD="Klee One SemiBold",n.NOTOSANSJP="Noto Sans JP",n.NOTOSERIFJP="Noto Serif JP",n.SHIPPORIMINCHO="Shippori Mincho",n))(nt||{});function fn(n,e,t){const o=n.slice();return o[5]=e[t],o}function Mi(n){let e,t;return e=new Ve({props:{icon:gi,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function gn(n,e){let t,o=e[5]+"",s,a,i,r;function l(){return e[3](e[5])}return{key:n,first:null,c(){t=C("div"),s=de(o),a=L(),this.h()},l(u){t=R(u,"DIV",{role:!0,class:!0});var d=j(t);s=me(d,o),a=W(d),d.forEach(m),this.h()},h(){b(t,"role","button"),b(t,"class","px-4 py-2 hover:bg-gray-900"),this.first=t},m(u,d){y(u,t,d),E(t,s),E(t,a),i||(r=[se(t,"click",l),se(t,"keyup",it)],i=!0)},p(u,d){e=u,d&2&&o!==(o=e[5]+"")&&ye(s,o)},d(u){u&&m(t),i=!1,Le(r)}}}function Ci(n){let e,t=[],o=new Map,s=n[1];const a=i=>i[5];for(let i=0;i<s.length;i+=1){let r=fn(n,s,i),l=a(r);o.set(l,t[i]=gn(l,r))}return{c(){e=C("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=R(i,"DIV",{slot:!0});var r=j(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(m),this.h()},h(){b(e,"slot","content")},m(i,r){y(i,e,r);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(i,r){r&7&&(s=i[1],t=dt(t,r,a,1,i,s,o,e,Sn,gn,null,fn))},d(i){i&&m(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Ri(n){let e,t,o={placement:"bottom",$$slots:{content:[Ci],icon:[Mi]},$$scope:{ctx:n}};return e=new ut({props:o}),n[4](e),{c(){F(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,a){N(e,s,a),t=!0},p(s,[a]){const i={};a&263&&(i.$$scope={dirty:a,ctx:s}),e.$set(i)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){n[4](null),M(e,s)}}}function Hi(n,e,t){let{availableFonts:o=[nt.NOTOSANSJP]}=e,{fontValue:s}=e,a;const i=l=>{t(0,s=l),a.toggleOpen()};function r(l){Q[l?"unshift":"push"](()=>{a=l,t(2,a)})}return n.$$set=l=>{"availableFonts"in l&&t(1,o=l.availableFonts),"fontValue"in l&&t(0,s=l.fontValue)},[s,o,a,i,r]}class Fn extends Ne{constructor(e){super(),Me(this,e,Hi,Ri,Ce,{availableFonts:1,fontValue:0})}}const Gi=n=>({}),cn=n=>({});function Ai(n){let e,t;return{c(){e=C("span"),t=de(n[0]),this.h()},l(o){e=R(o,"SPAN",{class:!0});var s=j(e);t=me(s,n[0]),s.forEach(m),this.h()},h(){b(e,"class","capitalize")},m(o,s){y(o,e,s),E(e,t)},p(o,s){s&1&&ye(t,o[0])},i:Te,o:Te,d(o){o&&m(e)}}}function zi(n){let e,t;return e=new ut({props:{contentText:n[1],contentStyles:"padding: 0.5rem;",$$slots:{icon:[Li],default:[Ui]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p(o,s){const a={};s&2&&(a.contentText=o[1]),s&9&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Ui(n){let e,t;return{c(){e=C("span"),t=de(n[0]),this.h()},l(o){e=R(o,"SPAN",{class:!0});var s=j(e);t=me(s,n[0]),s.forEach(m),this.h()},h(){b(e,"class","capitalize")},m(o,s){y(o,e,s),E(e,t)},p(o,s){s&1&&ye(t,o[0])},d(o){o&&m(e)}}}function Li(n){let e,t;return e=new Ve({props:{icon:Vn,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Wi(n){let e,t,o,s,a,i,r,l,u;const d=[zi,Ai],p=[];function _(T,D){return T[1]?0:1}s=_(n),a=p[s]=d[s](n);const g=n[2].header,h=It(g,n,n[3],cn),O=n[2].default,H=It(O,n,n[3],null);return{c(){e=C("section"),t=C("div"),o=C("h2"),a.c(),i=L(),h&&h.c(),r=L(),l=C("div"),H&&H.c(),this.h()},l(T){e=R(T,"SECTION",{class:!0});var D=j(e);t=R(D,"DIV",{class:!0});var P=j(t);o=R(P,"H2",{class:!0});var A=j(o);a.l(A),A.forEach(m),i=W(P),h&&h.l(P),P.forEach(m),r=W(D),l=R(D,"DIV",{});var J=j(l);H&&H.l(J),J.forEach(m),D.forEach(m),this.h()},h(){b(o,"class","mb-2 text-xl font-medium"),b(t,"class","flex"),b(e,"class","pb-8 md:pb-3")},m(T,D){y(T,e,D),E(e,t),E(t,o),p[s].m(o,null),E(t,i),h&&h.m(t,null),E(e,r),E(e,l),H&&H.m(l,null),u=!0},p(T,[D]){let P=s;s=_(T),s===P?p[s].p(T,D):(Fe(),S(p[P],1,1,()=>{p[P]=null}),Be(),a=p[s],a?a.p(T,D):(a=p[s]=d[s](T),a.c()),I(a,1),a.m(o,null)),h&&h.p&&(!u||D&8)&&St(h,g,T,T[3],u?Tt(g,T[3],D,Gi):Ot(T[3]),cn),H&&H.p&&(!u||D&8)&&St(H,O,T,T[3],u?Tt(O,T[3],D,null):Ot(T[3]),null)},i(T){u||(I(a),I(h,T),I(H,T),u=!0)},o(T){S(a),S(h,T),S(H,T),u=!1},d(T){T&&m(e),p[s].d(),h&&h.d(T),H&&H.d(T)}}}function qi(n,e,t){let{$$slots:o={},$$scope:s}=e,{title:a}=e,{tooltip:i=""}=e;return n.$$set=r=>{"title"in r&&t(0,a=r.title),"tooltip"in r&&t(1,i=r.tooltip),"$$scope"in r&&t(3,s=r.$$scope)},[a,i,o,s]}class pe extends Ne{constructor(e){super(),Me(this,e,qi,Wi,Ce,{title:0,tooltip:1})}}function pn(n,e,t){const o=n.slice();return o[40]=e[t],o}function dn(n,e){let t,o=e[40].label+"",s,a,i;return{key:n,first:null,c(){t=C("option"),s=de(o),a=L(),this.h()},l(r){t=R(r,"OPTION",{});var l=j(t);s=me(l,o),a=W(l),l.forEach(m),this.h()},h(){t.__value=i=e[40].key,t.value=t.__value,this.first=t},m(r,l){y(r,t,l),E(t,s),E(t,a)},p(r,l){e=r,l[0]&1&&o!==(o=e[40].label+"")&&ye(s,o),l[0]&1&&i!==(i=e[40].key)&&(t.__value=i,t.value=t.__value)},d(r){r&&m(t)}}}function ji(n){let e,t,o,s,a,i,r,l,u;return{c(){e=C("input"),t=L(),o=C("input"),s=L(),a=C("input"),i=L(),r=C("input"),this.h()},l(d){e=R(d,"INPUT",{type:!0,placeholder:!0}),t=W(d),o=R(d,"INPUT",{class:!0,type:!0,placeholder:!0}),s=W(d),a=R(d,"INPUT",{class:!0,type:!0,placeholder:!0}),i=W(d),r=R(d,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){e.required=!0,b(e,"type","text"),b(e,"placeholder","Client ID"),b(o,"class","mt-4"),b(o,"type","text"),b(o,"placeholder","Client Secret"),a.required=!0,b(a,"class","mt-4"),b(a,"type","password"),b(a,"placeholder","Password"),r.required=!0,b(r,"class","mt-4"),b(r,"type","password"),b(r,"placeholder","Confirm Password")},m(d,p){y(d,e,p),be(e,n[10]),y(d,t,p),y(d,o,p),be(o,n[11]),y(d,s,p),y(d,a,p),n[33](a),y(d,i,p),y(d,r,p),n[34](r),l||(u=[se(e,"input",n[31]),se(o,"input",n[32])],l=!0)},p(d,p){p[0]&1024&&e.value!==d[10]&&be(e,d[10]),p[0]&2048&&o.value!==d[11]&&be(o,d[11])},i:Te,o:Te,d(d){d&&m(e),d&&m(t),d&&m(o),d&&m(s),d&&m(a),n[33](null),d&&m(i),d&&m(r),n[34](null),l=!1,Le(u)}}}function Ji(n){let e,t,o,s,a,i=(n[13]||"Nothing selected")+"",r,l,u,d;return o=new ot({}),{c(){e=C("button"),t=de(`Select Directory
        `),F(o.$$.fragment),s=L(),a=C("div"),r=de(i),this.h()},l(p){e=R(p,"BUTTON",{class:!0});var _=j(e);t=me(_,`Select Directory
        `),B(o.$$.fragment,_),_.forEach(m),s=W(p),a=R(p,"DIV",{class:!0});var g=j(a);r=me(g,i),g.forEach(m),this.h()},h(){b(e,"class",pt),b(a,"class","my-4 text-center")},m(p,_){y(p,e,_),E(e,t),N(o,e,null),y(p,s,_),y(p,a,_),E(a,r),l=!0,u||(d=se(e,"click",n[14]),u=!0)},p(p,_){(!l||_[0]&8192)&&i!==(i=(p[13]||"Nothing selected")+"")&&ye(r,i)},i(p){l||(I(o.$$.fragment,p),l=!0)},o(p){S(o.$$.fragment,p),l=!1},d(p){p&&m(e),M(o),p&&m(s),p&&m(a),u=!1,d()}}}function mn(n){let e,t,o;return{c(){e=C("div"),t=de("Error: "),o=de(n[5]),this.h()},l(s){e=R(s,"DIV",{class:!0});var a=j(e);t=me(a,"Error: "),o=me(a,n[5]),a.forEach(m),this.h()},h(){b(e,"class","text-red-500")},m(s,a){y(s,e,a),E(e,t),E(e,o)},p(s,a){a[0]&32&&ye(o,s[5])},d(s){s&&m(e)}}}function Ki(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,H=[],T=new Map,D,P,A,J,w,z,K,U=n[0];const Z=V=>V[40].key;for(let V=0;V<U.length;V+=1){let X=pn(n,U,V),G=Z(X);T.set(G,H[V]=dn(G,X))}const te=[Ji,ji],le=[];function ue(V,X){return V[9]===$e.FS?0:1}P=ue(n),A=le[P]=te[P](n);let ne=n[5]&&mn(n);return{c(){e=C("div"),t=C("input"),o=L(),s=C("div"),a=C("input"),i=L(),r=C("label"),l=de("Is Sync Target"),u=L(),d=C("input"),p=L(),_=C("label"),g=de("Is Source Default"),h=L(),O=C("select");for(let V=0;V<H.length;V+=1)H[V].c();D=L(),A.c(),J=L(),ne&&ne.c(),this.h()},l(V){e=R(V,"DIV",{class:!0,slot:!0});var X=j(e);t=R(X,"INPUT",{type:!0,placeholder:!0}),o=W(X),s=R(X,"DIV",{class:!0});var G=j(s);a=R(G,"INPUT",{id:!0,type:!0}),i=W(G),r=R(G,"LABEL",{for:!0,class:!0});var ie=j(r);l=me(ie,"Is Sync Target"),ie.forEach(m),u=W(G),d=R(G,"INPUT",{id:!0,type:!0}),p=W(G),_=R(G,"LABEL",{for:!0,class:!0});var q=j(_);g=me(q,"Is Source Default"),q.forEach(m),G.forEach(m),h=W(X),O=R(X,"SELECT",{class:!0});var Y=j(O);for(let fe=0;fe<H.length;fe+=1)H[fe].l(Y);Y.forEach(m),D=W(X),A.l(X),J=W(X),ne&&ne.l(X),X.forEach(m),this.h()},h(){t.required=!0,b(t,"type","text"),b(t,"placeholder","Name"),b(a,"id","cbx-source"),b(a,"type","checkbox"),b(r,"for","cbx-source"),b(r,"class","ml-2 mr-6"),b(d,"id","cbx-manager"),b(d,"type","checkbox"),b(_,"for","cbx-source"),b(_,"class","ml-2"),b(s,"class","mt-4 flex items-center"),b(O,"class","my-4"),n[9]===void 0&&Ln(()=>n[29].call(O)),b(e,"class","flex max-h-[50vh] flex-col overflow-auto"),b(e,"slot","content")},m(V,X){y(V,e,X),E(e,t),be(t,n[6]),n[26](t),E(e,o),E(e,s),E(s,a),a.checked=n[7],E(s,i),E(s,r),E(r,l),E(s,u),E(s,d),d.checked=n[8],E(s,p),E(s,_),E(_,g),E(e,h),E(e,O);for(let G=0;G<H.length;G+=1)H[G].m(O,null);Et(O,n[9]),E(e,D),le[P].m(e,null),E(e,J),ne&&ne.m(e,null),n[35](e),w=!0,z||(K=[se(t,"input",n[25]),se(a,"change",n[27]),se(d,"change",n[28]),se(O,"change",n[29]),se(O,"change",n[30])],z=!0)},p(V,X){X[0]&64&&t.value!==V[6]&&be(t,V[6]),X[0]&128&&(a.checked=V[7]),X[0]&256&&(d.checked=V[8]),X[0]&1&&(U=V[0],H=dt(H,X,Z,1,V,U,T,O,Sn,dn,null,pn)),X[0]&513&&Et(O,V[9]);let G=P;P=ue(V),P===G?le[P].p(V,X):(Fe(),S(le[G],1,1,()=>{le[G]=null}),Be(),A=le[P],A?A.p(V,X):(A=le[P]=te[P](V),A.c()),I(A,1),A.m(e,J)),V[5]?ne?ne.p(V,X):(ne=mn(V),ne.c(),ne.m(e,null)):ne&&(ne.d(1),ne=null)},i(V){w||(I(A),w=!0)},o(V){S(A),w=!1},d(V){V&&m(e),n[26](null);for(let X=0;X<H.length;X+=1)H[X].d();le[P].d(),ne&&ne.d(),n[35](null),z=!1,Le(K)}}}function Yi(n){let e,t,o,s,a,i,r,l,u,d,p;return s=new ot({}),l=new ot({}),{c(){e=C("div"),t=C("button"),o=de(`Cancel
      `),F(s.$$.fragment),a=L(),i=C("button"),r=de(`Save
      `),F(l.$$.fragment),this.h()},l(_){e=R(_,"DIV",{class:!0,slot:!0});var g=j(e);t=R(g,"BUTTON",{class:!0});var h=j(t);o=me(h,`Cancel
      `),B(s.$$.fragment,h),h.forEach(m),a=W(g),i=R(g,"BUTTON",{class:!0});var O=j(i);r=me(O,`Save
      `),B(l.$$.fragment,O),O.forEach(m),g.forEach(m),this.h()},h(){b(t,"class",pt),b(i,"class",pt),b(e,"class","mt-4 flex grow justify-between"),b(e,"slot","footer")},m(_,g){y(_,e,g),E(e,t),E(t,o),N(s,t,null),E(e,a),E(e,i),E(i,r),N(l,i,null),u=!0,d||(p=[se(t,"click",n[24]),se(i,"click",n[15])],d=!0)},p:Te,i(_){u||(I(s.$$.fragment,_),I(l.$$.fragment,_),u=!0)},o(_){S(s.$$.fragment,_),S(l.$$.fragment,_),u=!1},d(_){_&&m(e),M(s),M(l),d=!1,Le(p)}}}function Qi(n){let e,t;return e=new Jn({props:{$$slots:{footer:[Yi],content:[Ki]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p(o,s){const a={};s[0]&16383|s[1]&4096&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Zi(n,e,t){let o;ae(n,Tn,c=>t(36,o=c));let{configuredName:s}=e,{configuredIsSyncTarget:a}=e,{configuredIsStorageSourceDefault:i}=e,{configuredType:r}=e,{configuredRemoteData:l}=e,{configuredFSData:u}=e,{resolver:d}=e,p,_,g,h,O="",H=s||"",T=a||!1,D=i||!1,P=r||$e.GDRIVE,A=(l==null?void 0:l.clientId)||"",J=(l==null?void 0:l.clientSecret)||"";const w=(l==null?void 0:l.refreshToken)||"";let z=u==null?void 0:u.directoryHandle,K=(u==null?void 0:u.fsPath)||"";const U=Un();let Z=[{key:$e.GDRIVE,label:"GDrive"},{key:$e.ONEDRIVE,label:"OneDrive"}];async function te(){ue();try{const c=await window.showDirectoryPicker({id:"ttu-reader-root",mode:"readwrite"});t(12,z=await c.getDirectoryHandle(yt.rootName,{create:!0})),t(13,K=`${c.name==="\\"?"":`${c.name}/`}${yt.rootName}`)}catch(c){t(12,z=void 0),t(13,K=""),c.name!=="AbortError"&&t(5,O=c.message)}}async function le(){if(ue(),!![...p.querySelectorAll("input")].every(c=>{let _e=c.reportValidity();return _e?(c===_?P===$e.FS&&!z?(_.setCustomValidity("You need to select a directory"),_e=!1):wt(H)&&(_.setCustomValidity("Please select a different name"),_e=!1):c===h&&g.value!==h.value&&(h.setCustomValidity("Password does not match"),_e=!1),_e||c.reportValidity(),_e):!1}))try{let c,_e=!1,Se=!1;if(P===$e.FS){if(!z)throw new Error("Directory handle not defined");c={directoryHandle:z,fsPath:K}}else{if(_e=A!==(l==null?void 0:l.clientId)||J!==(l==null?void 0:l.clientSecret),Se=!J||_e,Se&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&!o)throw new Error("You need to be online in order to make this change to the credentials");c=await Kn(window,JSON.stringify({clientId:A,clientSecret:J,refreshToken:Se?"":w}),h.value)}const Oe={name:H,type:P,data:c,lastSourceModified:Date.now()};await Ue.saveStorageSource(Oe,s,T,D),Se&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&En.revokeToken(Dn,l.refreshToken),_e&&(at.delete(s),P!==$e.FS&&Ft(window,P).clearData()),P===$e.FS&&z&&!await(u==null?void 0:u.directoryHandle.isSameEntry(z))&&Ft(window,$e.FS).clearData(),ne({new:Oe,old:s})}catch(c){t(5,O=c.message)}}function ue(){t(5,O=""),_.setCustomValidity(""),h==null||h.setCustomValidity("")}function ne(c){d(c),U("close")}const V=()=>ne();function X(){H=this.value,t(6,H)}function G(c){Q[c?"unshift":"push"](()=>{_=c,t(2,_)})}function ie(){T=this.checked,t(7,T)}function q(){D=this.checked,t(8,D)}function Y(){P=Wn(this),t(9,P),t(0,Z)}const fe=()=>{P===$e.FS?(t(10,A=""),t(11,J="")):(t(12,z=void 0),t(13,K=""))};function re(){A=this.value,t(10,A)}function ke(){J=this.value,t(11,J)}function ve(c){Q[c?"unshift":"push"](()=>{g=c,t(3,g)})}function we(c){Q[c?"unshift":"push"](()=>{h=c,t(4,h)})}function f(c){Q[c?"unshift":"push"](()=>{p=c,t(1,p)})}return n.$$set=c=>{"configuredName"in c&&t(17,s=c.configuredName),"configuredIsSyncTarget"in c&&t(18,a=c.configuredIsSyncTarget),"configuredIsStorageSourceDefault"in c&&t(19,i=c.configuredIsStorageSourceDefault),"configuredType"in c&&t(20,r=c.configuredType),"configuredRemoteData"in c&&t(21,l=c.configuredRemoteData),"configuredFSData"in c&&t(22,u=c.configuredFSData),"resolver"in c&&t(23,d=c.resolver)},n.$$.update=()=>{n.$$.dirty[0]&1&&"showDirectoryPicker"in window&&t(0,Z=[...Z,{key:$e.FS,label:"Filesystem"}])},[Z,p,_,g,h,O,H,T,D,P,A,J,z,K,te,le,ne,s,a,i,r,l,u,d,V,X,G,ie,q,Y,fe,re,ke,ve,we,f]}class Xi extends Ne{constructor(e){super(),Me(this,e,Zi,Qi,Ce,{configuredName:17,configuredIsSyncTarget:18,configuredIsStorageSourceDefault:19,configuredType:20,configuredRemoteData:21,configuredFSData:22,resolver:23},null,[-1,-1])}}function _n(n,e,t){const o=n.slice();o[19]=e[t];const s=ei(o[19].type);o[20]=s;const a=wt(o[19].name);o[21]=a;const i=oo(o[19].name,o[3]);o[22]=i;const r=o[8](o[19].name,o[19].type,[o[6],o[5],o[4]]);return o[23]=r,o}function xi(n){let e,t;return e=new Ve({props:{icon:Vn,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function hn(n){let e,t;return e=new ut({props:{contentText:"Auto import/export enabled but no source as sync target from list selected",contentStyles:"padding: 0.25rem;",$$slots:{icon:[eo]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p(o,s){const a={};s&67108864&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function eo(n){let e,t;return e=new Ve({props:{icon:pi,slot:"icon",class:"mx-2"}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p:Te,i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function to(n){let e,t,o;return t=new Ve({props:{icon:di,spin:!0}}),{c(){e=C("div"),F(t.$$.fragment),this.h()},l(s){e=R(s,"DIV",{class:!0});var a=j(e);B(t.$$.fragment,a),a.forEach(m),this.h()},h(){b(e,"class","text-xl")},m(s,a){y(s,e,a),N(t,e,null),o=!0},p:Te,i(s){o||(I(t.$$.fragment,s),o=!0)},o(s){S(t.$$.fragment,s),o=!1},d(s){s&&m(e),M(t)}}}function no(n){let e,t=[],o=new Map,s,a=n[0];const i=r=>r[19].name;for(let r=0;r<a.length;r+=1){let l=_n(n,a,r),u=i(l);o.set(u,t[r]=bn(u,l))}return{c(){e=C("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=R(r,"DIV",{class:!0});var l=j(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(m),this.h()},h(){b(e,"class","grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 lg:grid-cols-3")},m(r,l){y(r,e,l);for(let u=0;u<t.length;u+=1)t[u].m(e,null);s=!0},p(r,l){l&1913&&(a=r[0],Fe(),t=dt(t,l,i,1,r,a,o,e,On,bn,null,_n),Be())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)S(t[l]);s=!1},d(r){r&&m(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function bn(n,e){let t,o,s,a,i,r,l,u,d=e[19].name+"",p,_,g,h,O,H,T,D,P,A,J,w,z,K,U,Z,te,le;O=new Ve({props:{icon:mi}});function ue(){return e[13](e[19])}D=new Ve({props:{icon:_i}});function ne(){return e[14](e[19])}J=new Ve({props:{icon:hi}});function V(){return e[15](e[23],e[19])}K=new Ve({props:{icon:bi}});function X(){return e[16](e[19],e[22],e[23])}return{key:n,first:null,c(){t=C("div"),o=C("div"),s=Dt("svg"),a=Dt("path"),l=L(),u=C("div"),p=de(d),_=L(),g=C("div"),h=C("div"),F(O.$$.fragment),H=L(),T=C("div"),F(D.$$.fragment),P=L(),A=C("div"),F(J.$$.fragment),w=L(),z=C("div"),F(K.$$.fragment),U=L(),this.h()},l(G){t=R(G,"DIV",{class:!0});var ie=j(t);o=R(ie,"DIV",{class:!0});var q=j(o);s=Pt(q,"svg",{class:!0,xmlns:!0,viewBox:!0});var Y=j(s);a=Pt(Y,"path",{class:!0,d:!0}),j(a).forEach(m),Y.forEach(m),l=W(q),u=R(q,"DIV",{class:!0});var fe=j(u);p=me(fe,d),fe.forEach(m),q.forEach(m),_=W(ie),g=R(ie,"DIV",{class:!0});var re=j(g);h=R(re,"DIV",{class:!0});var ke=j(h);B(O.$$.fragment,ke),ke.forEach(m),H=W(re),T=R(re,"DIV",{title:!0,class:!0});var ve=j(T);B(D.$$.fragment,ve),ve.forEach(m),P=W(re),A=R(re,"DIV",{title:!0,class:!0});var we=j(A);B(J.$$.fragment,we),we.forEach(m),w=W(re),z=R(re,"DIV",{class:!0});var f=j(z);B(K.$$.fragment,f),f.forEach(m),re.forEach(m),U=W(ie),ie.forEach(m),this.h()},h(){b(a,"class","fill-current"),b(a,"d",i=e[20].d),b(s,"class","inline-block h-6 w-6 self-center"),b(s,"xmlns","http://www.w3.org/2000/svg"),b(s,"viewBox",r=e[20].viewBox),b(u,"class","ml-3 self-center"),b(o,"class","flex"),b(h,"class","mr-4 cursor-pointer"),he(h,"hidden",e[21]),b(T,"title","Toggle source as sync target"),b(T,"class","mr-4 cursor-pointer"),he(T,"opacity-50",!e[22]),b(A,"title","Toggle source as data source for this type"),b(A,"class","mr-4 cursor-pointer"),he(A,"opacity-50",!e[23]),b(z,"class","cursor-pointer"),he(z,"hidden",e[21]),b(g,"class","mt-4 flex"),b(t,"class","flex flex-col"),this.first=t},m(G,ie){y(G,t,ie),E(t,o),E(o,s),E(s,a),E(o,l),E(o,u),E(u,p),E(t,_),E(t,g),E(g,h),N(O,h,null),E(g,H),E(g,T),N(D,T,null),E(g,P),E(g,A),N(J,A,null),E(g,w),E(g,z),N(K,z,null),E(t,U),Z=!0,te||(le=[se(h,"click",ue),se(h,"keyup",it),se(T,"click",ne),se(T,"keyup",it),se(A,"click",V),se(A,"keyup",it),se(z,"click",X),se(z,"keyup",it)],te=!0)},p(G,ie){e=G,(!Z||ie&1&&i!==(i=e[20].d))&&b(a,"d",i),(!Z||ie&1&&r!==(r=e[20].viewBox))&&b(s,"viewBox",r),(!Z||ie&1)&&d!==(d=e[19].name+"")&&ye(p,d),(!Z||ie&1)&&he(h,"hidden",e[21]),(!Z||ie&9)&&he(T,"opacity-50",!e[22]),(!Z||ie&369)&&he(A,"opacity-50",!e[23]),(!Z||ie&1)&&he(z,"hidden",e[21])},i(G){Z||(I(O.$$.fragment,G),I(D.$$.fragment,G),I(J.$$.fragment,G),I(K.$$.fragment,G),Z=!0)},o(G){S(O.$$.fragment,G),S(D.$$.fragment,G),S(J.$$.fragment,G),S(K.$$.fragment,G),Z=!1},d(G){G&&m(t),M(O),M(D),M(J),M(K),te=!1,Le(le)}}}function io(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,H,T,D,P,A,J,w,z,K,U,Z,te,le,ue,ne;l=new ut({props:{contentText:n[2],contentStyles:"padding: 0.5rem;",$$slots:{icon:[xi]},$$scope:{ctx:n}}});let V=n[7]!==ze.Off&&!n[3]&&hn(n);g=new Ve({props:{icon:ci}}),D=new ot({});const X=[no,to],G=[];function ie(q,Y){return!q[1]&&q[0]?0:1}return K=ie(n),U=G[K]=X[K](n),{c(){e=C("div"),t=C("div"),o=C("div"),s=C("h1"),a=C("span"),i=de("Storage Sources"),r=L(),F(l.$$.fragment),u=L(),V&&V.c(),d=L(),p=C("button"),_=C("div"),F(g.$$.fragment),h=L(),O=C("span"),H=de("Add"),T=L(),F(D.$$.fragment),A=L(),J=C("hr"),w=L(),z=C("div"),U.c(),Z=L(),te=C("div"),this.h()},l(q){e=R(q,"DIV",{class:!0});var Y=j(e);t=R(Y,"DIV",{class:!0});var fe=j(t);o=R(fe,"DIV",{class:!0});var re=j(o);s=R(re,"H1",{class:!0});var ke=j(s);a=R(ke,"SPAN",{class:!0});var ve=j(a);i=me(ve,"Storage Sources"),ve.forEach(m),ke.forEach(m),r=W(re),B(l.$$.fragment,re),u=W(re),V&&V.l(re),re.forEach(m),d=W(fe),p=R(fe,"BUTTON",{class:!0});var we=j(p);_=R(we,"DIV",{class:!0});var f=j(_);B(g.$$.fragment,f),h=W(f),O=R(f,"SPAN",{class:!0});var c=j(O);H=me(c,"Add"),c.forEach(m),f.forEach(m),T=W(we),B(D.$$.fragment,we),we.forEach(m),fe.forEach(m),A=W(Y),J=R(Y,"HR",{class:!0}),w=W(Y),z=R(Y,"DIV",{class:!0});var _e=j(z);U.l(_e),_e.forEach(m),Z=W(Y),te=R(Y,"DIV",{}),j(te).forEach(m),Y.forEach(m),this.h()},h(){b(a,"class","capitalize"),b(s,"class","mb-2 text-xl font-medium"),b(o,"class","flex grow"),b(O,"class","ml-1 hidden sm:block"),b(_,"class","flex items-center justify-center"),b(p,"class",pt),p.disabled=P=!n[0],he(p,"cursor-not-allowed",!n[0]),b(t,"class","flex"),b(J,"class","border border-black"),b(z,"class","mt-6"),b(e,"class","mb-8 sm:col-span-2 lg:col-span-3")},m(q,Y){y(q,e,Y),E(e,t),E(t,o),E(o,s),E(s,a),E(a,i),E(o,r),N(l,o,null),E(o,u),V&&V.m(o,null),E(t,d),E(t,p),E(p,_),N(g,_,null),E(_,h),E(_,O),E(O,H),E(p,T),N(D,p,null),E(e,A),E(e,J),E(e,w),E(e,z),G[K].m(z,null),E(e,Z),E(e,te),le=!0,ue||(ne=se(p,"click",n[12]),ue=!0)},p(q,[Y]){const fe={};Y&4&&(fe.contentText=q[2]),Y&67108864&&(fe.$$scope={dirty:Y,ctx:q}),l.$set(fe),q[7]!==ze.Off&&!q[3]?V?(V.p(q,Y),Y&136&&I(V,1)):(V=hn(q),V.c(),I(V,1),V.m(o,null)):V&&(Fe(),S(V,1,1,()=>{V=null}),Be()),(!le||Y&1&&P!==(P=!q[0]))&&(p.disabled=P),(!le||Y&1)&&he(p,"cursor-not-allowed",!q[0]);let re=K;K=ie(q),K===re?G[K].p(q,Y):(Fe(),S(G[re],1,1,()=>{G[re]=null}),Be(),U=G[K],U?U.p(q,Y):(U=G[K]=X[K](q),U.c()),I(U,1),U.m(z,null))},i(q){le||(I(l.$$.fragment,q),I(V),I(g.$$.fragment,q),I(D.$$.fragment,q),I(U),le=!0)},o(q){S(l.$$.fragment,q),S(V),S(g.$$.fragment,q),S(D.$$.fragment,q),S(U),le=!1},d(q){q&&m(e),M(l),V&&V.d(),M(g),M(D),G[K].d(),ue=!1,ne()}}}function oo(n,e){return n===e}function so(n,e,t){let o,s,a,i,r,l,u;ae(n,Tn,w=>t(17,s=w)),ae(n,Bt,w=>t(3,a=w)),ae(n,Yn,w=>t(4,i=w)),ae(n,Qn,w=>t(5,r=w)),ae(n,Zn,w=>t(6,l=w)),ae(n,$t,w=>t(7,u=w));let{storageSources:d}=e,p=!0,_="Allows you to add a custom set of credentials";function g(w,z,K=[]){let U=!1;switch(z){case $e.GDRIVE:U=w===l;break;case $e.ONEDRIVE:U=w===r;break;case $e.FS:U=w===i;break}return U}async function h(w){let z,K;if(w&&w.type!==$e.FS){const Z=await new Promise(te=>{gt.dialogs$.next([{component:Nt,props:{description:"You are trying to access protected data",action:`Enter the correct password for ${w.name} to proceed`,encryptedData:w.data,resolver:te},disableCloseOnClick:!0}])});if(!Z)return;z=Z}else w&&O(w.type,w.data)&&(K={directoryHandle:w.data.directoryHandle,fsPath:w.data.fsPath});const U=await new Promise(Z=>{gt.dialogs$.next([{component:Xi,props:{configuredName:w==null?void 0:w.name,configuredType:w==null?void 0:w.type,configuredIsSyncTarget:w?a===w.name:!1,configuredIsStorageSourceDefault:w?g(w.name,w.type):!1,configuredFSData:K,configuredRemoteData:z,resolver:Z},disableCloseOnClick:!0}])});if(!!U)if(U.old){const Z=at.get(U.old);at.delete(U.old),Z&&U.new.type===(w==null?void 0:w.type)&&at.set(U.new.name,Z),Ue.storageSourcesChanged$.next(d.map(te=>te.name===U.old?U.new:te))}else Ue.storageSourcesChanged$.next([...d,U.new])}function O(w,z){return z&&w===$e.FS}async function H(w,z,K){const U=await new Promise(te=>{gt.dialogs$.next([{component:Nt,props:{description:w.type===$e.FS?"You are trying to delete data":"You are trying to delete protected data",action:w.type===$e.FS?`Please confirm to proceed with deleting ${w.name}`:`Enter the correct password for ${w.name} to proceed`,requiresSecret:w.type!==$e.FS,showCancel:!0,encryptedData:w.type!==$e.FS?w.data:void 0,resolver:te},disableCloseOnClick:!0}])});if(!U)return;const Z=w.type===$e.GDRIVE&&U.refreshToken;if(Z&&!s){gt.dialogs$.next([{component:Xn,props:{title:"Error",message:"You need to be online to delete this storage source"},disableCloseOnClick:!0}]);return}await Ue.deleteStorageSource(w,z,K),at.delete(w.name),Z&&U.refreshToken&&En.revokeToken(Dn,U.refreshToken),Ue.storageSourcesChanged$.next(d.filter(te=>te.name!==w.name))}const T=()=>{h()},D=w=>h(w),P=w=>Bt.next(a===w.name?"":w.name),A=(w,z)=>xn(w?"":z.name,z.type),J=(w,z,K)=>H(w,z,K);return n.$$set=w=>{"storageSources"in w&&t(0,d=w.storageSources)},n.$$.update=()=>{n.$$.dirty&1&&d&&t(1,p=!1),n.$$.dirty&2052&&o&&t(2,_+=" or filesystem access")},t(11,o="showDirectoryPicker"in window),[d,p,_,a,i,r,l,u,g,h,H,o,T,D,P,A,J]}class lo extends Ne{constructor(e){super(),Me(this,e,so,io,Ce,{storageSources:0})}}function ro(n){let e,t,o,s,a,i,r,l,u,d,p,_;return e=new pe({props:{title:"Persistent storage",tooltip:n[33],$$slots:{default:[uo]},$$scope:{ctx:n}}}),o=new pe({props:{title:"Cache Data",tooltip:n[32],$$slots:{default:[fo]},$$scope:{ctx:n}}}),a=new pe({props:{title:"Auto Import/Export",tooltip:n[29],$$slots:{default:[go]},$$scope:{ctx:n}}}),r=new pe({props:{title:"Import/Export Behavior",tooltip:n[31],$$slots:{default:[co]},$$scope:{ctx:n}}}),u=new pe({props:{title:"Show Placeholder",tooltip:n[30],$$slots:{default:[po]},$$scope:{ctx:n}}}),p=new lo({props:{storageSources:n[27]}}),{c(){F(e.$$.fragment),t=L(),F(o.$$.fragment),s=L(),F(a.$$.fragment),i=L(),F(r.$$.fragment),l=L(),F(u.$$.fragment),d=L(),F(p.$$.fragment)},l(g){B(e.$$.fragment,g),t=W(g),B(o.$$.fragment,g),s=W(g),B(a.$$.fragment,g),i=W(g),B(r.$$.fragment,g),l=W(g),B(u.$$.fragment,g),d=W(g),B(p.$$.fragment,g)},m(g,h){N(e,g,h),y(g,t,h),N(o,g,h),y(g,s,h),N(a,g,h),y(g,i,h),N(r,g,h),y(g,l,h),N(u,g,h),y(g,d,h),N(p,g,h),_=!0},p(g,h){const O={};h[1]&4&&(O.tooltip=g[33]),h[0]&8|h[2]&65536&&(O.$$scope={dirty:h,ctx:g}),e.$set(O);const H={};h[1]&2&&(H.tooltip=g[32]),h[0]&16|h[2]&65536&&(H.$$scope={dirty:h,ctx:g}),o.$set(H);const T={};h[0]&536870912&&(T.tooltip=g[29]),h[0]&32|h[2]&65536&&(T.$$scope={dirty:h,ctx:g}),a.$set(T);const D={};h[1]&1&&(D.tooltip=g[31]),h[0]&64|h[2]&65536&&(D.$$scope={dirty:h,ctx:g}),r.$set(D);const P={};h[0]&1073741824&&(P.tooltip=g[30]),h[0]&128|h[2]&65536&&(P.$$scope={dirty:h,ctx:g}),u.$set(P);const A={};h[0]&134217728&&(A.storageSources=g[27]),p.$set(A)},i(g){_||(I(e.$$.fragment,g),I(o.$$.fragment,g),I(a.$$.fragment,g),I(r.$$.fragment,g),I(u.$$.fragment,g),I(p.$$.fragment,g),_=!0)},o(g){S(e.$$.fragment,g),S(o.$$.fragment,g),S(a.$$.fragment,g),S(r.$$.fragment,g),S(u.$$.fragment,g),S(p.$$.fragment,g),_=!1},d(g){M(e,g),g&&m(t),M(o,g),g&&m(s),M(a,g),g&&m(i),M(r,g),g&&m(l),M(u,g),g&&m(d),M(p,g)}}}function ao(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,H,T,D,P,A,J,w,z,K,U,Z,te,le,ue,ne,V,X,G,ie,q,Y,fe,re;t=new pe({props:{title:"Theme",$$slots:{default:[mo]},$$scope:{ctx:n}}}),a=new pe({props:{title:"View mode",$$slots:{default:[_o]},$$scope:{ctx:n}}}),r=new pe({props:{title:"Font family (Group 1)",$$slots:{header:[bo],default:[ho]},$$scope:{ctx:n}}}),u=new pe({props:{title:"Font family (Group 2)",$$slots:{header:[vo],default:[$o]},$$scope:{ctx:n}}}),p=new pe({props:{title:"Font size",$$slots:{default:[ko]},$$scope:{ctx:n}}}),g=new pe({props:{title:"Line Height",$$slots:{default:[wo]},$$scope:{ctx:n}}}),O=new pe({props:{title:n[35]?"Reader Left/right margin":"Reader Top/bottom margin",$$slots:{header:[So],default:[Io]},$$scope:{ctx:n}}}),T=new pe({props:{title:n[35]?"Reader Max height":"Reader Max width",$$slots:{header:[To],default:[Oo]},$$scope:{ctx:n}}}),P=new pe({props:{title:"Swipe Threshold",tooltip:"Distance which you need to swipe in order trigger a navigation",$$slots:{default:[Eo]},$$scope:{ctx:n}}}),J=new pe({props:{title:"Writing mode",$$slots:{default:[Do]},$$scope:{ctx:n}}}),z=new pe({props:{title:"Disable Wheel Navigation",$$slots:{default:[Po]},$$scope:{ctx:n}}}),U=new pe({props:{title:"Close Confirmation",tooltip:"When enabled asks for confirmation on closing/reloading a reader tab and unsaved changes were detected",$$slots:{default:[Vo]},$$scope:{ctx:n}}}),te=new pe({props:{title:"Auto Bookmark",tooltip:"Set a bookmark after 3 seconds without scrolling/page change",$$slots:{default:[yo]},$$scope:{ctx:n}}}),ue=new pe({props:{title:"Blur image",$$slots:{default:[Fo]},$$scope:{ctx:n}}}),V=new pe({props:{title:"Hide furigana",$$slots:{default:[Bo]},$$scope:{ctx:n}}}),G=new pe({props:{title:"Hide furigana style",tooltip:n[28],$$slots:{default:[No]},$$scope:{ctx:n}}});const ke=[Co,Mo],ve=[];function we(f,c){return f[9]===vt.Continuous?0:1}return q=we(n),Y=ve[q]=ke[q](n),{c(){e=C("div"),F(t.$$.fragment),o=L(),s=C("div"),F(a.$$.fragment),i=L(),F(r.$$.fragment),l=L(),F(u.$$.fragment),d=L(),F(p.$$.fragment),_=L(),F(g.$$.fragment),h=L(),F(O.$$.fragment),H=L(),F(T.$$.fragment),D=L(),F(P.$$.fragment),A=L(),F(J.$$.fragment),w=L(),F(z.$$.fragment),K=L(),F(U.$$.fragment),Z=L(),F(te.$$.fragment),le=L(),F(ue.$$.fragment),ne=L(),F(V.$$.fragment),X=L(),F(G.$$.fragment),ie=L(),Y.c(),fe=ct(),this.h()},l(f){e=R(f,"DIV",{class:!0});var c=j(e);B(t.$$.fragment,c),c.forEach(m),o=W(f),s=R(f,"DIV",{class:!0});var _e=j(s);B(a.$$.fragment,_e),_e.forEach(m),i=W(f),B(r.$$.fragment,f),l=W(f),B(u.$$.fragment,f),d=W(f),B(p.$$.fragment,f),_=W(f),B(g.$$.fragment,f),h=W(f),B(O.$$.fragment,f),H=W(f),B(T.$$.fragment,f),D=W(f),B(P.$$.fragment,f),A=W(f),B(J.$$.fragment,f),w=W(f),B(z.$$.fragment,f),K=W(f),B(U.$$.fragment,f),Z=W(f),B(te.$$.fragment,f),le=W(f),B(ue.$$.fragment,f),ne=W(f),B(V.$$.fragment,f),X=W(f),B(G.$$.fragment,f),ie=W(f),Y.l(f),fe=ct(),this.h()},h(){b(e,"class","lg:col-span-2"),b(s,"class","h-full")},m(f,c){y(f,e,c),N(t,e,null),y(f,o,c),y(f,s,c),N(a,s,null),y(f,i,c),N(r,f,c),y(f,l,c),N(u,f,c),y(f,d,c),N(p,f,c),y(f,_,c),N(g,f,c),y(f,h,c),N(O,f,c),y(f,H,c),N(T,f,c),y(f,D,c),N(P,f,c),y(f,A,c),N(J,f,c),y(f,w,c),N(z,f,c),y(f,K,c),N(U,f,c),y(f,Z,c),N(te,f,c),y(f,le,c),N(ue,f,c),y(f,ne,c),N(V,f,c),y(f,X,c),N(G,f,c),y(f,ie,c),ve[q].m(f,c),y(f,fe,c),re=!0},p(f,c){const _e={};c[0]&256|c[2]&65536&&(_e.$$scope={dirty:c,ctx:f}),t.$set(_e);const Se={};c[0]&512|c[2]&65536&&(Se.$$scope={dirty:c,ctx:f}),a.$set(Se);const Oe={};c[0]&1024|c[2]&65536&&(Oe.$$scope={dirty:c,ctx:f}),r.$set(Oe);const Ee={};c[0]&2048|c[2]&65536&&(Ee.$$scope={dirty:c,ctx:f}),u.$set(Ee);const We={};c[0]&4096|c[2]&65536&&(We.$$scope={dirty:c,ctx:f}),p.$set(We);const qe={};c[0]&8192|c[2]&65536&&(qe.$$scope={dirty:c,ctx:f}),g.$set(qe);const Re={};c[1]&16&&(Re.title=f[35]?"Reader Left/right margin":"Reader Top/bottom margin"),c[0]&131072|c[1]&16|c[2]&65536&&(Re.$$scope={dirty:c,ctx:f}),O.$set(Re);const He={};c[1]&16&&(He.title=f[35]?"Reader Max height":"Reader Max width"),c[0]&65536|c[1]&16|c[2]&65536&&(He.$$scope={dirty:c,ctx:f}),T.$set(He);const je={};c[0]&262144|c[2]&65536&&(je.$$scope={dirty:c,ctx:f}),P.$set(je);const Je={};c[0]&2|c[2]&65536&&(Je.$$scope={dirty:c,ctx:f}),J.$set(Je);const Ke={};c[0]&524288|c[2]&65536&&(Ke.$$scope={dirty:c,ctx:f}),z.$set(Ke);const Ye={};c[0]&16777216|c[2]&65536&&(Ye.$$scope={dirty:c,ctx:f}),U.$set(Ye);const Qe={};c[0]&33554432|c[2]&65536&&(Qe.$$scope={dirty:c,ctx:f}),te.$set(Qe);const Ze={};c[0]&16384|c[2]&65536&&(Ze.$$scope={dirty:c,ctx:f}),ue.$set(Ze);const Xe={};c[0]&32768|c[2]&65536&&(Xe.$$scope={dirty:c,ctx:f}),V.$set(Xe);const Ge={};c[0]&268435456&&(Ge.tooltip=f[28]),c[0]&1|c[2]&65536&&(Ge.$$scope={dirty:c,ctx:f}),G.$set(Ge);let Ae=q;q=we(f),q===Ae?ve[q].p(f,c):(Fe(),S(ve[Ae],1,1,()=>{ve[Ae]=null}),Be(),Y=ve[q],Y?Y.p(f,c):(Y=ve[q]=ke[q](f),Y.c()),I(Y,1),Y.m(fe.parentNode,fe))},i(f){re||(I(t.$$.fragment,f),I(a.$$.fragment,f),I(r.$$.fragment,f),I(u.$$.fragment,f),I(p.$$.fragment,f),I(g.$$.fragment,f),I(O.$$.fragment,f),I(T.$$.fragment,f),I(P.$$.fragment,f),I(J.$$.fragment,f),I(z.$$.fragment,f),I(U.$$.fragment,f),I(te.$$.fragment,f),I(ue.$$.fragment,f),I(V.$$.fragment,f),I(G.$$.fragment,f),I(Y),re=!0)},o(f){S(t.$$.fragment,f),S(a.$$.fragment,f),S(r.$$.fragment,f),S(u.$$.fragment,f),S(p.$$.fragment,f),S(g.$$.fragment,f),S(O.$$.fragment,f),S(T.$$.fragment,f),S(P.$$.fragment,f),S(J.$$.fragment,f),S(z.$$.fragment,f),S(U.$$.fragment,f),S(te.$$.fragment,f),S(ue.$$.fragment,f),S(V.$$.fragment,f),S(G.$$.fragment,f),S(Y),re=!1},d(f){f&&m(e),M(t),f&&m(o),f&&m(s),M(a),f&&m(i),M(r,f),f&&m(l),M(u,f),f&&m(d),M(p,f),f&&m(_),M(g,f),f&&m(h),M(O,f),f&&m(H),M(T,f),f&&m(D),M(P,f),f&&m(A),M(J,f),f&&m(w),M(z,f),f&&m(K),M(U,f),f&&m(Z),M(te,f),f&&m(le),M(ue,f),f&&m(ne),M(V,f),f&&m(X),M(G,f),f&&m(ie),ve[q].d(f),f&&m(fe)}}}function uo(n){let e,t,o;function s(i){n[72](i)}let a={options:n[37]};return n[3]!==void 0&&(a.selectedOptionId=n[3]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&8&&(t=!0,l.selectedOptionId=i[3],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function fo(n){let e,t,o;function s(i){n[73](i)}let a={options:n[37]};return n[4]!==void 0&&(a.selectedOptionId=n[4]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&16&&(t=!0,l.selectedOptionId=i[4],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function go(n){let e,t,o;function s(i){n[74](i)}let a={options:n[41]};return n[5]!==void 0&&(a.selectedOptionId=n[5]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&32&&(t=!0,l.selectedOptionId=i[5],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function co(n){let e,t,o;function s(i){n[75](i)}let a={options:n[42]};return n[6]!==void 0&&(a.selectedOptionId=n[6]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&64&&(t=!0,l.selectedOptionId=i[6],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function po(n){let e,t,o;function s(i){n[76](i)}let a={options:n[37]};return n[7]!==void 0&&(a.selectedOptionId=n[7]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&128&&(t=!0,l.selectedOptionId=i[7],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function mo(n){let e,t,o;function s(i){n[44](i)}let a={options:n[36]};return n[8]!==void 0&&(a.selectedOptionId=n[8]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&256&&(t=!0,l.selectedOptionId=i[8],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function _o(n){let e,t,o;function s(i){n[45](i)}let a={options:n[40]};return n[9]!==void 0&&(a.selectedOptionId=n[9]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&512&&(t=!0,l.selectedOptionId=i[9],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function ho(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){b(e,"type","text"),b(e,"class",et),b(e,"placeholder","Noto Serif JP")},m(s,a){y(s,e,a),be(e,n[10]),t||(o=se(e,"input",n[47]),t=!0)},p(s,a){a[0]&1024&&e.value!==s[10]&&be(e,s[10])},d(s){s&&m(e),t=!1,o()}}}function bo(n){let e,t,o;function s(i){n[46](i)}let a={slot:"header",availableFonts:[nt.NOTOSERIFJP,nt.GENEI,nt.KLEEONE,nt.KLEEONESEMIBOLD,nt.SHIPPORIMINCHO]};return n[10]!==void 0&&(a.fontValue=n[10]),e=new Fn({props:a}),Q.push(()=>x(e,"fontValue",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&1024&&(t=!0,l.fontValue=i[10],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function $o(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){b(e,"type","text"),b(e,"class",et),b(e,"placeholder","Noto Sans JP")},m(s,a){y(s,e,a),be(e,n[11]),t||(o=se(e,"input",n[49]),t=!0)},p(s,a){a[0]&2048&&e.value!==s[11]&&be(e,s[11])},d(s){s&&m(e),t=!1,o()}}}function vo(n){let e,t,o;function s(i){n[48](i)}let a={slot:"header"};return n[11]!==void 0&&(a.fontValue=n[11]),e=new Fn({props:a}),Q.push(()=>x(e,"fontValue",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&2048&&(t=!0,l.fontValue=i[11],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function ko(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","1")},m(s,a){y(s,e,a),be(e,n[12]),t||(o=se(e,"input",n[50]),t=!0)},p(s,a){a[0]&4096&&De(e.value)!==s[12]&&be(e,s[12])},d(s){s&&m(e),t=!1,o()}}}function wo(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","0.05"),b(e,"min","1")},m(s,a){y(s,e,a),be(e,n[13]),t||(o=[se(e,"input",n[51]),se(e,"change",n[52])],t=!0)},p(s,a){a[0]&8192&&De(e.value)!==s[13]&&be(e,s[13])},d(s){s&&m(e),t=!1,Le(o)}}}function Io(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","0")},m(s,a){y(s,e,a),be(e,n[17]),t||(o=se(e,"input",n[54]),t=!0)},p(s,a){a[0]&131072&&De(e.value)!==s[17]&&be(e,s[17])},d(s){s&&m(e),t=!1,o()}}}function So(n){let e,t,o;function s(i){n[53](i)}let a={slot:"header",isFirstDimension:!0,isVertical:n[35]};return n[17]!==void 0&&(a.dimensionValue=n[17]),e=new yn({props:a}),Q.push(()=>x(e,"dimensionValue",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};r[1]&16&&(l.isVertical=i[35]),!t&&r[0]&131072&&(t=!0,l.dimensionValue=i[17],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Oo(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","0")},m(s,a){y(s,e,a),be(e,n[16]),t||(o=se(e,"input",n[56]),t=!0)},p(s,a){a[0]&65536&&De(e.value)!==s[16]&&be(e,s[16])},d(s){s&&m(e),t=!1,o()}}}function To(n){let e,t,o;function s(i){n[55](i)}let a={slot:"header",isVertical:n[35]};return n[16]!==void 0&&(a.dimensionValue=n[16]),e=new yn({props:a}),Q.push(()=>x(e,"dimensionValue",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};r[1]&16&&(l.isVertical=i[35]),!t&&r[0]&65536&&(t=!0,l.dimensionValue=i[16],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Eo(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,step:!0,min:!0,class:!0}),this.h()},h(){b(e,"type","number"),b(e,"step","1"),b(e,"min","10"),b(e,"class",et)},m(s,a){y(s,e,a),be(e,n[18]),t||(o=[se(e,"input",n[57]),se(e,"blur",n[58])],t=!0)},p(s,a){a[0]&262144&&De(e.value)!==s[18]&&be(e,s[18])},d(s){s&&m(e),t=!1,Le(o)}}}function Do(n){let e,t,o;function s(i){n[59](i)}let a={options:n[39]};return n[1]!==void 0&&(a.selectedOptionId=n[1]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&2&&(t=!0,l.selectedOptionId=i[1],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Po(n){let e,t,o;function s(i){n[60](i)}let a={options:n[37]};return n[19]!==void 0&&(a.selectedOptionId=n[19]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&524288&&(t=!0,l.selectedOptionId=i[19],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Vo(n){let e,t,o;function s(i){n[61](i)}let a={options:n[37]};return n[24]!==void 0&&(a.selectedOptionId=n[24]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&16777216&&(t=!0,l.selectedOptionId=i[24],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function yo(n){let e,t,o;function s(i){n[62](i)}let a={options:n[37]};return n[25]!==void 0&&(a.selectedOptionId=n[25]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&33554432&&(t=!0,l.selectedOptionId=i[25],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Fo(n){let e,t,o;function s(i){n[63](i)}let a={options:n[37]};return n[14]!==void 0&&(a.selectedOptionId=n[14]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&16384&&(t=!0,l.selectedOptionId=i[14],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Bo(n){let e,t,o;function s(i){n[64](i)}let a={options:n[37]};return n[15]!==void 0&&(a.selectedOptionId=n[15]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&32768&&(t=!0,l.selectedOptionId=i[15],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function No(n){let e,t,o;function s(i){n[65](i)}let a={options:n[38]};return n[0]!==void 0&&(a.selectedOptionId=n[0]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&1&&(t=!0,l.selectedOptionId=i[0],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Mo(n){let e,t,o,s,a,i;e=new pe({props:{title:"Avoid Page Break",tooltip:n[34],$$slots:{default:[Ro]},$$scope:{ctx:n}}}),o=new pe({props:{title:"Selection to Bookmark",tooltip:"When enabled bookmarks will be placed to a near paragraph of current/previous selected text instead of page start",$$slots:{default:[Ho]},$$scope:{ctx:n}}});let r=!n[35]&&$n(n);return{c(){F(e.$$.fragment),t=L(),F(o.$$.fragment),s=L(),r&&r.c(),a=ct()},l(l){B(e.$$.fragment,l),t=W(l),B(o.$$.fragment,l),s=W(l),r&&r.l(l),a=ct()},m(l,u){N(e,l,u),y(l,t,u),N(o,l,u),y(l,s,u),r&&r.m(l,u),y(l,a,u),i=!0},p(l,u){const d={};u[1]&8&&(d.tooltip=l[34]),u[0]&4|u[2]&65536&&(d.$$scope={dirty:u,ctx:l}),e.$set(d);const p={};u[0]&4194304|u[2]&65536&&(p.$$scope={dirty:u,ctx:l}),o.$set(p),l[35]?r&&(Fe(),S(r,1,1,()=>{r=null}),Be()):r?(r.p(l,u),u[1]&16&&I(r,1)):(r=$n(l),r.c(),I(r,1),r.m(a.parentNode,a))},i(l){i||(I(e.$$.fragment,l),I(o.$$.fragment,l),I(r),i=!0)},o(l){S(e.$$.fragment,l),S(o.$$.fragment,l),S(r),i=!1},d(l){M(e,l),l&&m(t),M(o,l),l&&m(s),r&&r.d(l),l&&m(a)}}}function Co(n){let e,t,o,s;return e=new pe({props:{title:"Custom Reading Point",tooltip:"Allows to set a persistent custom point in the reader from which the current progress and bookmark is calculated when enabled",$$slots:{default:[Ao]},$$scope:{ctx:n}}}),o=new pe({props:{title:"Auto position on resize",$$slots:{default:[zo]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment),t=L(),F(o.$$.fragment)},l(a){B(e.$$.fragment,a),t=W(a),B(o.$$.fragment,a)},m(a,i){N(e,a,i),y(a,t,i),N(o,a,i),s=!0},p(a,i){const r={};i[0]&2097152|i[2]&65536&&(r.$$scope={dirty:i,ctx:a}),e.$set(r);const l={};i[0]&1048576|i[2]&65536&&(l.$$scope={dirty:i,ctx:a}),o.$set(l)},i(a){s||(I(e.$$.fragment,a),I(o.$$.fragment,a),s=!0)},o(a){S(e.$$.fragment,a),S(o.$$.fragment,a),s=!1},d(a){M(e,a),a&&m(t),M(o,a)}}}function Ro(n){let e,t,o;function s(i){n[69](i)}let a={options:n[37]};return n[2]!==void 0&&(a.selectedOptionId=n[2]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&4&&(t=!0,l.selectedOptionId=i[2],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Ho(n){let e,t,o;function s(i){n[70](i)}let a={options:n[37]};return n[22]!==void 0&&(a.selectedOptionId=n[22]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&4194304&&(t=!0,l.selectedOptionId=i[22],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function $n(n){let e,t;return e=new pe({props:{title:"Page Columns",$$slots:{default:[Go]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,s){N(e,o,s),t=!0},p(o,s){const a={};s[0]&8388608|s[2]&65536&&(a.$$scope={dirty:s,ctx:o}),e.$set(a)},i(o){t||(I(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function Go(n){let e,t,o;return{c(){e=C("input"),this.h()},l(s){e=R(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){b(e,"type","number"),b(e,"class",et),b(e,"step","1"),b(e,"min","0")},m(s,a){y(s,e,a),be(e,n[23]),t||(o=se(e,"input",n[71]),t=!0)},p(s,a){a[0]&8388608&&De(e.value)!==s[23]&&be(e,s[23])},d(s){s&&m(e),t=!1,o()}}}function vn(n){let e,t,o,s;return{c(){e=C("div"),t=de("Reset Points"),this.h()},l(a){e=R(a,"DIV",{role:!0,class:!0});var i=j(e);t=me(i,"Reset Points"),i.forEach(m),this.h()},h(){b(e,"role","button"),b(e,"class","ml-4 hover:underline")},m(a,i){y(a,e,i),E(e,t),o||(s=[se(e,"click",n[67]),se(e,"keyup",it)],o=!0)},p:Te,d(a){a&&m(e),o=!1,Le(s)}}}function Ao(n){let e,t,o,s,a;function i(u){n[66](u)}let r={options:n[37]};n[21]!==void 0&&(r.selectedOptionId=n[21]),t=new Ie({props:r}),Q.push(()=>x(t,"selectedOptionId",i));let l=n[21]&&vn(n);return{c(){e=C("div"),F(t.$$.fragment),s=L(),l&&l.c(),this.h()},l(u){e=R(u,"DIV",{class:!0});var d=j(e);B(t.$$.fragment,d),s=W(d),l&&l.l(d),d.forEach(m),this.h()},h(){b(e,"class","flex items-center")},m(u,d){y(u,e,d),N(t,e,null),E(e,s),l&&l.m(e,null),a=!0},p(u,d){const p={};!o&&d[0]&2097152&&(o=!0,p.selectedOptionId=u[21],ee(()=>o=!1)),t.$set(p),u[21]?l?l.p(u,d):(l=vn(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(u){a||(I(t.$$.fragment,u),a=!0)},o(u){S(t.$$.fragment,u),a=!1},d(u){u&&m(e),M(t),l&&l.d()}}}function zo(n){let e,t,o;function s(i){n[68](i)}let a={options:n[37]};return n[20]!==void 0&&(a.selectedOptionId=n[20]),e=new Ie({props:a}),Q.push(()=>x(e,"selectedOptionId",s)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,r){N(e,i,r),o=!0},p(i,r){const l={};!t&&r[0]&1048576&&(t=!0,l.selectedOptionId=i[20],ee(()=>t=!1)),e.$set(l)},i(i){o||(I(e.$$.fragment,i),o=!0)},o(i){S(e.$$.fragment,i),o=!1},d(i){M(e,i)}}}function Uo(n){let e,t,o,s;const a=[ao,ro],i=[];function r(l,u){return l[26]==="Reader"?0:1}return t=r(n),o=i[t]=a[t](n),{c(){e=C("div"),o.c(),this.h()},l(l){e=R(l,"DIV",{class:!0});var u=j(e);o.l(u),u.forEach(m),this.h()},h(){b(e,"class","grid grid-cols-1 items-center sm:grid-cols-2 sm:gap-6 lg:md:gap-8 lg:grid-cols-3")},m(l,u){y(l,e,u),i[t].m(e,null),s=!0},p(l,u){let d=t;t=r(l),t===d?i[t].p(l,u):(Fe(),S(i[d],1,1,()=>{i[d]=null}),Be(),o=i[t],o?o.p(l,u):(o=i[t]=a[t](l),o.c()),I(o,1),o.m(e,null))},i(l){s||(I(o),s=!0)},o(l){S(o),s=!1},d(l){l&&m(e),i[t].d()}}}function Lo(n,e,t){let o,s,a,i,r,l,u,{selectedTheme:d}=e,{viewMode:p}=e,{fontFamilyGroupOne:_}=e,{fontFamilyGroupTwo:g}=e,{fontSize:h}=e,{lineHeight:O}=e,{blurImage:H}=e,{hideFurigana:T}=e,{furiganaStyle:D}=e,{writingMode:P}=e,{secondDimensionMaxValue:A}=e,{firstDimensionMargin:J}=e,{swipeThreshold:w}=e,{disableWheelNavigation:z}=e,{autoPositionOnResize:K}=e,{avoidPageBreak:U}=e,{customReadingPointEnabled:Z}=e,{selectionToBookmarkEnabled:te}=e,{pageColumns:le}=e,{persistentStorage:ue}=e,{confirmClose:ne}=e,{autoBookmark:V}=e,{activeSettings:X}=e,{cacheStorageData:G}=e,{autoReplication:ie}=e,{replicationSaveBehavior:q}=e,{showExternalPlaceholder:Y}=e;const re=Array.from(Oi.entries()).map(([k,Pe])=>({theme:k,option:Pe})).map(({theme:k,option:Pe})=>({id:k,text:"",style:{color:Pe.fontColor,"background-color":Pe.backgroundColor},thickBorders:!0})),ke=[{id:!1,text:"Off"},{id:!0,text:"On"}],ve=[{id:rt.Partial,text:"Partial"},{id:rt.Full,text:"Full"},{id:rt.Toggle,text:"Toggle"}],we=[{id:"horizontal-tb",text:"Horizontal"},{id:"vertical-rl",text:"Vertical"}],f=[{id:vt.Continuous,text:"Continuous"},{id:vt.Paginated,text:"Paginated"}],c=[{id:ze.Off,text:"Off"},{id:ze.Up,text:"Up"},{id:ze.Down,text:"Down"},{id:ze.All,text:"All"}],_e=[{id:bt.NewOnly,text:"New Only"},{id:bt.Overwrite,text:"Overwrite"}],Se=Ue.storageSourcesChanged$.pipe(ti(k=>[...ni.filter(Pe=>ii(Pe.type,Pe.name,window)).map(Pe=>({name:Pe.name,type:Pe.type,data:new ArrayBuffer(0),lastSourceModified:0})),...k.filter(Pe=>!wt(Pe.name))]));ae(n,Se,k=>t(27,u=k));let Oe="",Ee="";function We(k){d=k,t(8,d)}function qe(k){p=k,t(9,p)}function Re(k){_=k,t(10,_)}function He(){_=this.value,t(10,_)}function je(k){g=k,t(11,g)}function Je(){g=this.value,t(11,g)}function Ke(){h=De(this.value),t(12,h)}function Ye(){O=De(this.value),t(13,O)}const Qe=()=>{(!O||O<1)&&t(13,O=1.65)};function Ze(k){J=k,t(17,J)}function Xe(){J=De(this.value),t(17,J)}function Ge(k){A=k,t(16,A)}function Ae(){A=De(this.value),t(16,A)}function st(){w=De(this.value),t(18,w)}const lt=()=>{(w<10||typeof w!="number")&&t(18,w=10)};function $(k){P=k,t(1,P)}function tt(k){z=k,t(19,z)}function mt(k){ne=k,t(24,ne)}function _t(k){V=k,t(25,V)}function ht(k){H=k,t(14,H)}function ce(k){T=k,t(15,T)}function v(k){D=k,t(0,D)}function oe(k){Z=k,t(21,Z)}const xe=()=>{oi.next(100),si.next(0)};function ge(k){K=k,t(20,K)}function ft(k){U=k,t(2,U)}function Bn(k){te=k,t(22,te)}function Nn(){le=De(this.value),t(23,le)}function Mn(k){ue=k,t(3,ue)}function Cn(k){G=k,t(4,G)}function Rn(k){ie=k,t(5,ie)}function Hn(k){q=k,t(6,q)}function Gn(k){Y=k,t(7,Y)}return n.$$set=k=>{"selectedTheme"in k&&t(8,d=k.selectedTheme),"viewMode"in k&&t(9,p=k.viewMode),"fontFamilyGroupOne"in k&&t(10,_=k.fontFamilyGroupOne),"fontFamilyGroupTwo"in k&&t(11,g=k.fontFamilyGroupTwo),"fontSize"in k&&t(12,h=k.fontSize),"lineHeight"in k&&t(13,O=k.lineHeight),"blurImage"in k&&t(14,H=k.blurImage),"hideFurigana"in k&&t(15,T=k.hideFurigana),"furiganaStyle"in k&&t(0,D=k.furiganaStyle),"writingMode"in k&&t(1,P=k.writingMode),"secondDimensionMaxValue"in k&&t(16,A=k.secondDimensionMaxValue),"firstDimensionMargin"in k&&t(17,J=k.firstDimensionMargin),"swipeThreshold"in k&&t(18,w=k.swipeThreshold),"disableWheelNavigation"in k&&t(19,z=k.disableWheelNavigation),"autoPositionOnResize"in k&&t(20,K=k.autoPositionOnResize),"avoidPageBreak"in k&&t(2,U=k.avoidPageBreak),"customReadingPointEnabled"in k&&t(21,Z=k.customReadingPointEnabled),"selectionToBookmarkEnabled"in k&&t(22,te=k.selectionToBookmarkEnabled),"pageColumns"in k&&t(23,le=k.pageColumns),"persistentStorage"in k&&t(3,ue=k.persistentStorage),"confirmClose"in k&&t(24,ne=k.confirmClose),"autoBookmark"in k&&t(25,V=k.autoBookmark),"activeSettings"in k&&t(26,X=k.activeSettings),"cacheStorageData"in k&&t(4,G=k.cacheStorageData),"autoReplication"in k&&t(5,ie=k.autoReplication),"replicationSaveBehavior"in k&&t(6,q=k.replicationSaveBehavior),"showExternalPlaceholder"in k&&t(7,Y=k.showExternalPlaceholder)},n.$$.update=()=>{if(n.$$.dirty[0]&2&&t(35,o=P==="vertical-rl"),n.$$.dirty[0]&1)switch(D){case rt.Full:t(28,Oe="Hidden by default, show on hover or click");break;case rt.Toggle:t(28,Oe="Hidden by default, can be toggled on click");break;default:t(28,Oe="Display furigana as grayed out text");break}if(n.$$.dirty[0]&4&&t(34,s=U?"Avoids breaking words/sentences into different pages":"Allow words/sentences to break into different pages"),n.$$.dirty[0]&8&&t(33,a=ue?"Reader uses higher storage limit for local data":`Uses lower temporary storage for local data.
May require bookmark or notification permissions for enablement`),n.$$.dirty[0]&16&&t(32,i=G?"Storage data is cached. Saves network traffic/latency but requires to reload current/open a new tab to retrieve data changes":"Storage data is refetched on every action. May consume more network traffic/latency but ensures current data"),n.$$.dirty[0]&64&&t(31,r=q===bt.Overwrite?"Data will always be overwritten":"Data will only be written if none exist on target, no time data is present or if target data is older"),n.$$.dirty[0]&32)switch(ie){case ze.Up:t(29,Ee="Updated data will be exported to sync target when reading once per minute");break;case ze.Down:t(29,Ee="Data will be imported from sync target when opening a book");break;case ze.All:t(29,Ee="Data will be synced in both directions");break;default:t(29,Ee="No automatic import/export of data");break}n.$$.dirty[0]&128&&t(30,l=Y?"Placeholder data for external books is shown in the browser source manager":"Placeholder data for external books is hidden"),n.$$.dirty[0]&201326592&&X==="Data"&&!u&&Ue.getStorageSources().then(k=>{Ue.storageSourcesChanged$.next(k)}).catch(k=>{Si.error(`Failed to retrieve storage sources: ${k.message}`),Ue.storageSourcesChanged$.next([])})},[D,P,U,ue,G,ie,q,Y,d,p,_,g,h,O,H,T,A,J,w,z,K,Z,te,le,ne,V,X,u,Oe,Ee,l,r,i,a,s,o,re,ke,ve,we,f,c,_e,Se,We,qe,Re,He,je,Je,Ke,Ye,Qe,Ze,Xe,Ge,Ae,st,lt,$,tt,mt,_t,ht,ce,v,oe,xe,ge,ft,Bn,Nn,Mn,Cn,Rn,Hn,Gn]}class Wo extends Ne{constructor(e){super(),Me(this,e,Lo,Uo,Ce,{selectedTheme:8,viewMode:9,fontFamilyGroupOne:10,fontFamilyGroupTwo:11,fontSize:12,lineHeight:13,blurImage:14,hideFurigana:15,furiganaStyle:0,writingMode:1,secondDimensionMaxValue:16,firstDimensionMargin:17,swipeThreshold:18,disableWheelNavigation:19,autoPositionOnResize:20,avoidPageBreak:2,customReadingPointEnabled:21,selectionToBookmarkEnabled:22,pageColumns:23,persistentStorage:3,confirmClose:24,autoBookmark:25,activeSettings:26,cacheStorageData:4,autoReplication:5,replicationSaveBehavior:6,showExternalPlaceholder:7},null,[-1,-1,-1])}}function kn(n,e,t){const o=n.slice();return o[4]=e[t],o}function wn(n,e){let t,o,s,a=e[4].label+"",i,r,l,u,d,p,_;o=new Ve({props:{class:"mb-1",icon:e[4].icon}}),l=new ot({});function g(){return e[3](e[4])}return{key:n,first:null,c(){t=C("button"),F(o.$$.fragment),s=L(),i=de(a),r=L(),F(l.$$.fragment),u=L(),this.h()},l(h){t=R(h,"BUTTON",{class:!0});var O=j(t);B(o.$$.fragment,O),s=W(O),i=me(O,a),r=W(O),B(l.$$.fragment,O),u=W(O),O.forEach(m),this.h()},h(){b(t,"class","flex grow flex-col items-center justify-center text-xs"),he(t,"bg-gray-900",e[0]===e[4].label),he(t,"hover:bg-gray-900",e[0]!==e[4].label),this.first=t},m(h,O){y(h,t,O),N(o,t,null),E(t,s),E(t,i),E(t,r),N(l,t,null),E(t,u),d=!0,p||(_=se(t,"click",g),p=!0)},p(h,O){e=h,(!d||O&5)&&he(t,"bg-gray-900",e[0]===e[4].label),(!d||O&5)&&he(t,"hover:bg-gray-900",e[0]!==e[4].label)},i(h){d||(I(o.$$.fragment,h),I(l.$$.fragment,h),d=!0)},o(h){S(o.$$.fragment,h),S(l.$$.fragment,h),d=!1},d(h){h&&m(t),M(o),M(l),p=!1,_()}}}function qo(n){let e,t,o,s=[],a=new Map,i,r,l,u=n[2];const d=p=>p[4].label;for(let p=0;p<u.length;p+=1){let _=kn(n,u,p),g=d(_);a.set(g,s[p]=wn(g,_))}return r=new ki({props:{leavePageLink:n[1]}}),{c(){e=C("div"),t=C("div"),o=C("div");for(let p=0;p<s.length;p+=1)s[p].c();i=L(),F(r.$$.fragment),this.h()},l(p){e=R(p,"DIV",{class:!0});var _=j(e);t=R(_,"DIV",{class:!0});var g=j(t);o=R(g,"DIV",{class:!0});var h=j(o);for(let O=0;O<s.length;O+=1)s[O].l(h);h.forEach(m),i=W(g),B(r.$$.fragment,g),g.forEach(m),_.forEach(m),this.h()},h(){b(o,"class","h12 flex grow justify-evenly xl:h-10"),b(t,"class",Pn+" flex px-0 md:px-5"),b(e,"class",li)},m(p,_){y(p,e,_),E(e,t),E(t,o);for(let g=0;g<s.length;g+=1)s[g].m(o,null);E(t,i),N(r,t,null),l=!0},p(p,[_]){_&5&&(u=p[2],Fe(),s=dt(s,_,d,1,p,u,a,o,On,wn,null,kn),Be());const g={};_&2&&(g.leavePageLink=p[1]),r.$set(g)},i(p){if(!l){for(let _=0;_<u.length;_+=1)I(s[_]);I(r.$$.fragment,p),l=!0}},o(p){for(let _=0;_<s.length;_+=1)S(s[_]);S(r.$$.fragment,p),l=!1},d(p){p&&m(e);for(let _=0;_<s.length;_+=1)s[_].d();M(r)}}}function jo(n,e,t){let{leavePageLink:o}=e,{activeSettings:s}=e;const a=[{label:"Reader",icon:$i},{label:"Data",icon:vi}],i=r=>t(0,s=r.label);return n.$$set=r=>{"leavePageLink"in r&&t(1,o=r.leavePageLink),"activeSettings"in r&&t(0,s=r.activeSettings)},[s,o,a,i]}class Jo extends Ne{constructor(e){super(),Me(this,e,jo,qo,Ce,{leavePageLink:1,activeSettings:0})}}function Ko(n){let e,t,o,s,a,i,r,l,u,d,p,_,g,h,O,H,T,D,P,A,J,w,z,K,U,Z,te,le,ue,ne,V,X,G,ie,q,Y,fe=(n[28]??"")+"",re,ke;document.title=e=Vt("Settings");function ve(v){n[31](v)}let we={leavePageLink:n[0]};n[1]!==void 0&&(we.activeSettings=n[1]),s=new Jo({props:we}),Q.push(()=>x(s,"activeSettings",ve));function f(v){n[32](v)}function c(v){n[33](v)}function _e(v){n[34](v)}function Se(v){n[35](v)}function Oe(v){n[36](v)}function Ee(v){n[37](v)}function We(v){n[38](v)}function qe(v){n[39](v)}function Re(v){n[40](v)}function He(v){n[41](v)}function je(v){n[42](v)}function Je(v){n[43](v)}function Ke(v){n[44](v)}function Ye(v){n[45](v)}function Qe(v){n[46](v)}function Ze(v){n[47](v)}function Xe(v){n[48](v)}function Ge(v){n[49](v)}function Ae(v){n[50](v)}function st(v){n[51](v)}function lt(v){n[52](v)}function $(v){n[53](v)}function tt(v){n[54](v)}function mt(v){n[55](v)}function _t(v){n[56](v)}function ht(v){n[57](v)}let ce={activeSettings:n[1]};return n[2]!==void 0&&(ce.selectedTheme=n[2]),n[3]!==void 0&&(ce.fontFamilyGroupOne=n[3]),n[4]!==void 0&&(ce.fontFamilyGroupTwo=n[4]),n[5]!==void 0&&(ce.fontSize=n[5]),n[6]!==void 0&&(ce.lineHeight=n[6]),n[7]!==void 0&&(ce.blurImage=n[7]),n[8]!==void 0&&(ce.hideFurigana=n[8]),n[9]!==void 0&&(ce.furiganaStyle=n[9]),n[10]!==void 0&&(ce.writingMode=n[10]),n[11]!==void 0&&(ce.viewMode=n[11]),n[12]!==void 0&&(ce.secondDimensionMaxValue=n[12]),n[13]!==void 0&&(ce.firstDimensionMargin=n[13]),n[14]!==void 0&&(ce.swipeThreshold=n[14]),n[15]!==void 0&&(ce.disableWheelNavigation=n[15]),n[16]!==void 0&&(ce.autoPositionOnResize=n[16]),n[17]!==void 0&&(ce.avoidPageBreak=n[17]),n[18]!==void 0&&(ce.customReadingPointEnabled=n[18]),n[19]!==void 0&&(ce.selectionToBookmarkEnabled=n[19]),n[20]!==void 0&&(ce.pageColumns=n[20]),n[21]!==void 0&&(ce.persistentStorage=n[21]),n[22]!==void 0&&(ce.confirmClose=n[22]),n[23]!==void 0&&(ce.autoBookmark=n[23]),n[24]!==void 0&&(ce.cacheStorageData=n[24]),n[25]!==void 0&&(ce.replicationSaveBehavior=n[25]),n[26]!==void 0&&(ce.autoReplication=n[26]),n[27]!==void 0&&(ce.showExternalPlaceholder=n[27]),u=new Wo({props:ce}),Q.push(()=>x(u,"selectedTheme",f)),Q.push(()=>x(u,"fontFamilyGroupOne",c)),Q.push(()=>x(u,"fontFamilyGroupTwo",_e)),Q.push(()=>x(u,"fontSize",Se)),Q.push(()=>x(u,"lineHeight",Oe)),Q.push(()=>x(u,"blurImage",Ee)),Q.push(()=>x(u,"hideFurigana",We)),Q.push(()=>x(u,"furiganaStyle",qe)),Q.push(()=>x(u,"writingMode",Re)),Q.push(()=>x(u,"viewMode",He)),Q.push(()=>x(u,"secondDimensionMaxValue",je)),Q.push(()=>x(u,"firstDimensionMargin",Je)),Q.push(()=>x(u,"swipeThreshold",Ke)),Q.push(()=>x(u,"disableWheelNavigation",Ye)),Q.push(()=>x(u,"autoPositionOnResize",Qe)),Q.push(()=>x(u,"avoidPageBreak",Ze)),Q.push(()=>x(u,"customReadingPointEnabled",Xe)),Q.push(()=>x(u,"selectionToBookmarkEnabled",Ge)),Q.push(()=>x(u,"pageColumns",Ae)),Q.push(()=>x(u,"persistentStorage",st)),Q.push(()=>x(u,"confirmClose",lt)),Q.push(()=>x(u,"autoBookmark",$)),Q.push(()=>x(u,"cacheStorageData",tt)),Q.push(()=>x(u,"replicationSaveBehavior",mt)),Q.push(()=>x(u,"autoReplication",_t)),Q.push(()=>x(u,"showExternalPlaceholder",ht)),{c(){t=L(),o=C("div"),F(s.$$.fragment),i=L(),r=C("div"),l=C("div"),F(u.$$.fragment),Y=L(),re=de(fe),this.h()},l(v){qn("svelte-1mss3mt",document.head).forEach(m),t=W(v),o=R(v,"DIV",{class:!0});var xe=j(o);B(s.$$.fragment,xe),xe.forEach(m),i=W(v),r=R(v,"DIV",{class:!0});var ge=j(r);l=R(ge,"DIV",{class:!0});var ft=j(l);B(u.$$.fragment,ft),ft.forEach(m),ge.forEach(m),Y=W(v),re=me(v,fe),this.h()},h(){b(o,"class","elevation-4 fixed inset-x-0 top-0 z-10"),b(l,"class","max-w-5xl"),b(r,"class",Pn+" h-full pt-16 xl:pt-14")},m(v,oe){y(v,t,oe),y(v,o,oe),N(s,o,null),y(v,i,oe),y(v,r,oe),E(r,l),N(u,l,null),y(v,Y,oe),y(v,re,oe),ke=!0},p(v,oe){(!ke||oe&0)&&e!==(e=Vt("Settings"))&&(document.title=e);const xe={};oe[0]&1&&(xe.leavePageLink=v[0]),!a&&oe[0]&2&&(a=!0,xe.activeSettings=v[1],ee(()=>a=!1)),s.$set(xe);const ge={};oe[0]&2&&(ge.activeSettings=v[1]),!d&&oe[0]&4&&(d=!0,ge.selectedTheme=v[2],ee(()=>d=!1)),!p&&oe[0]&8&&(p=!0,ge.fontFamilyGroupOne=v[3],ee(()=>p=!1)),!_&&oe[0]&16&&(_=!0,ge.fontFamilyGroupTwo=v[4],ee(()=>_=!1)),!g&&oe[0]&32&&(g=!0,ge.fontSize=v[5],ee(()=>g=!1)),!h&&oe[0]&64&&(h=!0,ge.lineHeight=v[6],ee(()=>h=!1)),!O&&oe[0]&128&&(O=!0,ge.blurImage=v[7],ee(()=>O=!1)),!H&&oe[0]&256&&(H=!0,ge.hideFurigana=v[8],ee(()=>H=!1)),!T&&oe[0]&512&&(T=!0,ge.furiganaStyle=v[9],ee(()=>T=!1)),!D&&oe[0]&1024&&(D=!0,ge.writingMode=v[10],ee(()=>D=!1)),!P&&oe[0]&2048&&(P=!0,ge.viewMode=v[11],ee(()=>P=!1)),!A&&oe[0]&4096&&(A=!0,ge.secondDimensionMaxValue=v[12],ee(()=>A=!1)),!J&&oe[0]&8192&&(J=!0,ge.firstDimensionMargin=v[13],ee(()=>J=!1)),!w&&oe[0]&16384&&(w=!0,ge.swipeThreshold=v[14],ee(()=>w=!1)),!z&&oe[0]&32768&&(z=!0,ge.disableWheelNavigation=v[15],ee(()=>z=!1)),!K&&oe[0]&65536&&(K=!0,ge.autoPositionOnResize=v[16],ee(()=>K=!1)),!U&&oe[0]&131072&&(U=!0,ge.avoidPageBreak=v[17],ee(()=>U=!1)),!Z&&oe[0]&262144&&(Z=!0,ge.customReadingPointEnabled=v[18],ee(()=>Z=!1)),!te&&oe[0]&524288&&(te=!0,ge.selectionToBookmarkEnabled=v[19],ee(()=>te=!1)),!le&&oe[0]&1048576&&(le=!0,ge.pageColumns=v[20],ee(()=>le=!1)),!ue&&oe[0]&2097152&&(ue=!0,ge.persistentStorage=v[21],ee(()=>ue=!1)),!ne&&oe[0]&4194304&&(ne=!0,ge.confirmClose=v[22],ee(()=>ne=!1)),!V&&oe[0]&8388608&&(V=!0,ge.autoBookmark=v[23],ee(()=>V=!1)),!X&&oe[0]&16777216&&(X=!0,ge.cacheStorageData=v[24],ee(()=>X=!1)),!G&&oe[0]&33554432&&(G=!0,ge.replicationSaveBehavior=v[25],ee(()=>G=!1)),!ie&&oe[0]&67108864&&(ie=!0,ge.autoReplication=v[26],ee(()=>ie=!1)),!q&&oe[0]&134217728&&(q=!0,ge.showExternalPlaceholder=v[27],ee(()=>q=!1)),u.$set(ge),(!ke||oe[0]&268435456)&&fe!==(fe=(v[28]??"")+"")&&ye(re,fe)},i(v){ke||(I(s.$$.fragment,v),I(u.$$.fragment,v),ke=!0)},o(v){S(s.$$.fragment,v),S(u.$$.fragment,v),ke=!1},d(v){v&&m(t),v&&m(o),M(s),v&&m(i),v&&m(r),M(u),v&&m(Y),v&&m(re)}}}function Yo(n,e,t){let o,s,a,i,r,l,u,d,p,_,g,h,O,H,T,D,P,A,J,w,z,K,U,Z,te,le,ue;ae(n,Ct,$=>t(2,o=$)),ae(n,Rt,$=>t(3,s=$)),ae(n,Ht,$=>t(4,a=$)),ae(n,Gt,$=>t(5,i=$)),ae(n,At,$=>t(6,r=$)),ae(n,zt,$=>t(7,l=$)),ae(n,Ut,$=>t(8,u=$)),ae(n,Lt,$=>t(9,d=$)),ae(n,Wt,$=>t(10,p=$)),ae(n,qt,$=>t(11,_=$)),ae(n,jt,$=>t(12,g=$)),ae(n,Jt,$=>t(13,h=$)),ae(n,Kt,$=>t(14,O=$)),ae(n,Yt,$=>t(15,H=$)),ae(n,Qt,$=>t(16,T=$)),ae(n,Zt,$=>t(17,D=$)),ae(n,Xt,$=>t(18,P=$)),ae(n,xt,$=>t(19,A=$)),ae(n,en,$=>t(20,J=$)),ae(n,tn,$=>t(22,z=$)),ae(n,nn,$=>t(23,K=$)),ae(n,on,$=>t(24,U=$)),ae(n,sn,$=>t(25,Z=$)),ae(n,$t,$=>t(26,te=$)),ae(n,ln,$=>t(27,le=$));const ne=ri(!1);ae(n,ne,$=>t(21,w=$));let V=!1;In(()=>{Mt.persisted().then(q)});let X=`${ui}${Ii.MANAGE.routeId}`,G="Reader";jn($=>{const{from:tt}=$;!tt||t(0,X=`${tt.url.pathname}${tt.url.search}`)});const ie=ne.pipe(ai($=>{if(!!V){if(!$){q(!0);return}Mt.persist().then(q)}}),wi());ae(n,ie,$=>t(28,ue=$));function q($){V=!1,ne.next($),V=!0}function Y($){G=$,t(1,G)}function fe($){o=$,Ct.set(o)}function re($){s=$,Rt.set(s)}function ke($){a=$,Ht.set(a)}function ve($){i=$,Gt.set(i)}function we($){r=$,At.set(r)}function f($){l=$,zt.set(l)}function c($){u=$,Ut.set(u)}function _e($){d=$,Lt.set(d)}function Se($){p=$,Wt.set(p)}function Oe($){_=$,qt.set(_)}function Ee($){g=$,jt.set(g)}function We($){h=$,Jt.set(h)}function qe($){O=$,Kt.set(O)}function Re($){H=$,Yt.set(H)}function He($){T=$,Qt.set(T)}function je($){D=$,Zt.set(D)}function Je($){P=$,Xt.set(P)}function Ke($){A=$,xt.set(A)}function Ye($){J=$,en.set(J)}function Qe($){w=$,ne.set(w)}function Ze($){z=$,tn.set(z)}function Xe($){K=$,nn.set(K)}function Ge($){U=$,on.set(U)}function Ae($){Z=$,sn.set(Z)}function st($){te=$,$t.set(te)}function lt($){le=$,ln.set(le)}return[X,G,o,s,a,i,r,l,u,d,p,_,g,h,O,H,T,D,P,A,J,w,z,K,U,Z,te,le,ue,ne,ie,Y,fe,re,ke,ve,we,f,c,_e,Se,Oe,Ee,We,qe,Re,He,je,Je,Ke,Ye,Qe,Ze,Xe,Ge,Ae,st,lt]}class is extends Ne{constructor(e){super(),Me(this,e,Yo,Ko,Ce,{},null,[-1,-1])}}export{is as default};
