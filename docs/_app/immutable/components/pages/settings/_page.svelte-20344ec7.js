import{S as Re,i as Le,n as Ae,j as y,k as F,l as G,f as d,m as h,a as N,d as I,g as Ee,b as Te,t as E,H as oi,q as pe,s as H,w as B,r as de,c as z,x as M,a8 as ne,G as S,y as R,N as Z,u as De,z as L,a4 as he,B as we,R as ye,o as Tt,A as si,aj as Pe,a1 as J,ab as ee,ac as te,Y as rt,Z as Dt,M as yt,O as Ft,P as Nt,Q as Ct,D as ue,a2 as li,L as ri,ak as Bt,al as ai,af as Vt,a6 as Mt,a7 as Rt,E as vt,e as st,F as ui}from"../../../chunks/index-876111f7.js";import{f as Lt,a as fi}from"../../../chunks/format-page-title-256dab77.js";import{aS as lt,f as Me,aO as Ln,g as An,a5 as $e,aT as mt,aX as At,aY as Pt,aZ as ci,j as je,a_ as Gn,a$ as Hn,b0 as ct,a4 as Gt,a6 as We,ak as Ht,aE as gi,aF as pi,aG as di,al as kt,a as it,b1 as zt,M as mi,b2 as _i,aR as hi,u as gt,F as ft,V as wt,b3 as $t,m as bi,b4 as $i,aI as vi,h as It,ap as St,an as ki,ad as wi,b5 as tt,aM as zn,Z as Ii,Q as Si,b6 as Ut,t as Oi,p as Ei,a7 as Wt,aq as jt,ar as qt,as as Yt,at as Jt,au as Kt,a8 as Qt,_ as Zt,av as Xt,L as xt,O as en,G as tn,aw as nn,ax as on,H as sn,N as ln,ay as rn,am as an,az as un,ah as fn,ai as cn,aW as gn}from"../../../chunks/store-34c5451e.js";import{F as Oe,B as Ti,C as Di,D as Un,E as Vi,l as Pi,f as Wn,G as yi,t as Fi,H as Ni,u as Ci,I as Bi,J as Mi,K as jn,L as Ri,M as Li}from"../../../chunks/fa-884f19f7.js";import{P as pt,M as Ai,r as Gi,m as Hi}from"../../../chunks/merged-header-icon-4609f9c6.js";import{L as ot,r as zi,u as Ui}from"../../../chunks/fonts-e5a631ed.js";import{m as Ot}from"../../../chunks/error-handler-df8dffd6.js";import{a as Wi}from"../../../chunks/theme-option-f9f8f697.js";function pn(i,e,t){const n=i.slice();return n[3]=e[t],n}function dn(i){let e,t=i[3].text+"",n,s,a,o,r,l,u,f;a=new lt({});function g(){return i[2](i[3])}return{c(){e=y("button"),n=pe(t),s=H(),B(a.$$.fragment),o=H(),this.h()},l(v){e=F(v,"BUTTON",{class:!0,style:!0});var c=G(e);n=de(c,t),s=z(c),M(a.$$.fragment,c),o=z(c),c.forEach(d),this.h()},h(){h(e,"class","m-1 rounded-md border-2 border-gray-400 p-2 text-lg"),h(e,"style",r=mn(i[3].style)),ne(e,"border-4",i[3].thickBorders&&i[3].id===i[0]),ne(e,"border-blue-300",i[3].id===i[0]),ne(e,"bg-gray-700",i[3].id===i[0]),ne(e,"text-white",i[3].id===i[0]),ne(e,"bg-white",i[3].id!==i[0])},m(v,c){N(v,e,c),S(e,n),S(e,s),R(a,e,null),S(e,o),l=!0,u||(f=Z(e,"click",g),u=!0)},p(v,c){i=v,(!l||c&2)&&t!==(t=i[3].text+"")&&De(n,t),(!l||c&2&&r!==(r=mn(i[3].style)))&&h(e,"style",r),(!l||c&3)&&ne(e,"border-4",i[3].thickBorders&&i[3].id===i[0]),(!l||c&3)&&ne(e,"border-blue-300",i[3].id===i[0]),(!l||c&3)&&ne(e,"bg-gray-700",i[3].id===i[0]),(!l||c&3)&&ne(e,"text-white",i[3].id===i[0]),(!l||c&3)&&ne(e,"bg-white",i[3].id!==i[0])},i(v){l||(I(a.$$.fragment,v),l=!0)},o(v){E(a.$$.fragment,v),l=!1},d(v){v&&d(e),L(a),u=!1,f()}}}function ji(i){let e,t,n=i[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=dn(pn(i,n,o));const a=o=>E(s[o],1,1,()=>{s[o]=null});return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=F(o,"DIV",{class:!0});var r=G(e);for(let l=0;l<s.length;l+=1)s[l].l(r);r.forEach(d),this.h()},h(){h(e,"class","-m-1")},m(o,r){N(o,e,r);for(let l=0;l<s.length;l+=1)s[l].m(e,null);t=!0},p(o,[r]){if(r&3){n=o[1];let l;for(l=0;l<n.length;l+=1){const u=pn(o,n,l);s[l]?(s[l].p(u,r),I(s[l],1)):(s[l]=dn(u),s[l].c(),I(s[l],1),s[l].m(e,null))}for(Ee(),l=n.length;l<s.length;l+=1)a(l);Te()}},i(o){if(!t){for(let r=0;r<n.length;r+=1)I(s[r]);t=!0}},o(o){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)E(s[r]);t=!1},d(o){o&&d(e),oi(s,o)}}}function mn(i){return i?Object.entries(i).map(([e,t])=>`${e}: ${t}`).join(";"):""}function qi(i,e,t){let{options:n}=e,{selectedOptionId:s}=e;const a=o=>t(0,s=o.id);return i.$$set=o=>{"options"in o&&t(1,n=o.options),"selectedOptionId"in o&&t(0,s=o.selectedOptionId)},[s,n,a]}class Se extends Re{constructor(e){super(),Le(this,e,qi,ji,Ae,{options:1,selectedOptionId:0})}}function Yi(i){let e,t,n,s,a,o,r,l,u,f,g,v,c,b,k,P,m;return{c(){e=y("div"),t=pe(i[1]),n=pe("% - "),s=pe(i[4]),a=pe("px"),o=H(),r=y("input"),l=H(),u=y("div"),f=y("button"),g=pe(i[5]),v=pe("%"),c=H(),b=y("button"),k=pe("50%"),this.h()},l(w){e=F(w,"DIV",{class:!0});var $=G(e);t=de($,i[1]),n=de($,"% - "),s=de($,i[4]),a=de($,"px"),$.forEach(d),o=z(w),r=F(w,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),l=z(w),u=F(w,"DIV",{class:!0});var C=G(u);f=F(C,"BUTTON",{});var W=G(f);g=de(W,i[5]),v=de(W,"%"),W.forEach(d),c=z(C),b=F(C,"BUTTON",{});var T=G(b);k=de(T,"50%"),T.forEach(d),C.forEach(d),this.h()},h(){h(e,"class","text-center"),h(r,"class","mb-2 mt-4"),h(r,"type","range"),h(r,"step",Et),h(r,"min",i[3]),h(r,"max",i[2]),h(u,"class","flex justify-evenly")},m(w,$){N(w,e,$),S(e,t),S(e,n),S(e,s),S(e,a),N(w,o,$),N(w,r,$),he(r,i[1]),N(w,l,$),N(w,u,$),S(u,f),S(f,g),S(f,v),S(u,c),S(u,b),S(b,k),P||(m=[Z(r,"change",i[9]),Z(r,"input",i[9]),Z(r,"change",i[10]),Z(f,"click",i[11]),Z(b,"click",i[12])],P=!0)},p(w,[$]){$&2&&De(t,w[1]),$&16&&De(s,w[4]),$&8&&h(r,"min",w[3]),$&4&&h(r,"max",w[2]),$&2&&he(r,w[1]),$&32&&De(g,w[5])},i:we,o:we,d(w){w&&d(e),w&&d(o),w&&d(r),w&&d(l),w&&d(u),P=!1,ye(m)}}}const Et=5;function Ji(i,e,t){let n,s,a,o,{dimensionValue:r=0}=e,{isVertical:l=!0}=e,{isFirstDimension:u=!1}=e,f=0;function g(){return l?u?"innerWidth":"innerHeight":u?"innerHeight":"innerWidth"}async function v(m=0){t(1,f=m),await si(),t(0,r=n)}Tt(()=>{const m=Math.min(Math.max(Math.round(r*(u?2:1)/window[g()]*100),!u&&!r?a:s),a);v(Math.round(m/Et)*Et)});function c(){f=Pe(this.value),t(1,f)}const b=()=>t(0,r=n),k=()=>v(o),P=()=>v(50);return i.$$set=m=>{"dimensionValue"in m&&t(0,r=m.dimensionValue),"isVertical"in m&&t(7,l=m.isVertical),"isFirstDimension"in m&&t(8,u=m.isFirstDimension)},i.$$.update=()=>{i.$$.dirty&258&&t(4,n=Math.ceil(window[g()]*(f/100/(u?2:1)))),i.$$.dirty&256&&t(3,s=u?5:50),i.$$.dirty&256&&t(2,a=u?50:95),i.$$.dirty&256&&t(5,o=u?25:75)},[r,f,a,s,n,o,v,l,u,c,b,k,P]}class Ki extends Re{constructor(e){super(),Le(this,e,Ji,Yi,Ae,{dimensionValue:0,isVertical:7,isFirstDimension:8})}}function Qi(i){let e,t;return e=new Oe({props:{icon:Ti,slot:"icon",class:"mx-2"}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Zi(i){let e,t,n;function s(o){i[3](o)}let a={slot:"content",isFirstDimension:i[1],isVertical:i[2]};return i[0]!==void 0&&(a.dimensionValue=i[0]),e=new Ki({props:a}),J.push(()=>ee(e,"dimensionValue",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};r&2&&(l.isFirstDimension=o[1]),r&4&&(l.isVertical=o[2]),!t&&r&1&&(t=!0,l.dimensionValue=o[0],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Xi(i){let e,t;return e=new pt({props:{$$slots:{content:[Zi],icon:[Qi]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const a={};s&23&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function xi(i,e,t){let{isFirstDimension:n=!1}=e,{isVertical:s=!1}=e,{dimensionValue:a=0}=e;function o(r){a=r,t(0,a)}return i.$$set=r=>{"isFirstDimension"in r&&t(1,n=r.isFirstDimension),"isVertical"in r&&t(2,s=r.isVertical),"dimensionValue"in r&&t(0,a=r.dimensionValue)},[a,n,s,o]}class qn extends Re{constructor(e){super(),Le(this,e,xi,Xi,Ae,{isFirstDimension:1,isVertical:2,dimensionValue:0})}}function _n(i,e,t){const n=i.slice();return n[5]=e[t],n}function eo(i){let e,t;return e=new Oe({props:{icon:Di,slot:"icon",class:"mx-2"}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function hn(i,e){let t,n=e[5]+"",s,a,o,r;function l(){return e[3](e[5])}return{key:i,first:null,c(){t=y("div"),s=pe(n),a=H(),this.h()},l(u){t=F(u,"DIV",{role:!0,class:!0});var f=G(t);s=de(f,n),a=z(f),f.forEach(d),this.h()},h(){h(t,"role","button"),h(t,"class","px-4 py-2 hover:bg-gray-900"),this.first=t},m(u,f){N(u,t,f),S(t,s),S(t,a),o||(r=[Z(t,"click",l),Z(t,"keyup",Me)],o=!0)},p(u,f){e=u,f&2&&n!==(n=e[5]+"")&&De(s,n)},d(u){u&&d(t),o=!1,ye(r)}}}function to(i){let e,t=[],n=new Map,s=i[1];const a=o=>o[5];for(let o=0;o<s.length;o+=1){let r=_n(i,s,o),l=a(r);n.set(l,t[o]=hn(l,r))}return{c(){e=y("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=F(o,"DIV",{slot:!0});var r=G(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(d),this.h()},h(){h(e,"slot","content")},m(o,r){N(o,e,r);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(o,r){r&7&&(s=o[1],t=rt(t,r,a,1,o,s,n,e,Dt,hn,null,_n))},d(o){o&&d(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function no(i){let e,t,n={placement:"bottom",$$slots:{content:[to],icon:[eo]},$$scope:{ctx:i}};return e=new pt({props:n}),i[4](e),{c(){B(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,a){R(e,s,a),t=!0},p(s,[a]){const o={};a&263&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){i[4](null),L(e,s)}}}function io(i,e,t){let{availableFonts:n=[ot.NOTOSANSJP]}=e,{fontValue:s}=e,a;const o=l=>{t(0,s=l),a.toggleOpen()};function r(l){J[l?"unshift":"push"](()=>{a=l,t(2,a)})}return i.$$set=l=>{"availableFonts"in l&&t(1,n=l.availableFonts),"fontValue"in l&&t(0,s=l.fontValue)},[s,n,a,o,r]}class Yn extends Re{constructor(e){super(),Le(this,e,io,no,Ae,{availableFonts:1,fontValue:0})}}const oo=i=>({}),bn=i=>({});function so(i){let e,t;return{c(){e=y("span"),t=pe(i[0]),this.h()},l(n){e=F(n,"SPAN",{class:!0});var s=G(e);t=de(s,i[0]),s.forEach(d),this.h()},h(){h(e,"class","capitalize")},m(n,s){N(n,e,s),S(e,t)},p(n,s){s&1&&De(t,n[0])},i:we,o:we,d(n){n&&d(e)}}}function lo(i){let e,t;return e=new pt({props:{contentText:i[1],contentStyles:"padding: 0.5rem;",$$slots:{icon:[ao],default:[ro]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,s){const a={};s&2&&(a.contentText=n[1]),s&9&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ro(i){let e,t;return{c(){e=y("span"),t=pe(i[0]),this.h()},l(n){e=F(n,"SPAN",{class:!0});var s=G(e);t=de(s,i[0]),s.forEach(d),this.h()},h(){h(e,"class","capitalize")},m(n,s){N(n,e,s),S(e,t)},p(n,s){s&1&&De(t,n[0])},d(n){n&&d(e)}}}function ao(i){let e,t;return e=new Oe({props:{icon:Un,slot:"icon",class:"mx-2"}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function uo(i){let e,t,n,s,a,o,r,l,u;const f=[lo,so],g=[];function v(m,w){return m[1]?0:1}s=v(i),a=g[s]=f[s](i);const c=i[2].header,b=yt(c,i,i[3],bn),k=i[2].default,P=yt(k,i,i[3],null);return{c(){e=y("section"),t=y("div"),n=y("h2"),a.c(),o=H(),b&&b.c(),r=H(),l=y("div"),P&&P.c(),this.h()},l(m){e=F(m,"SECTION",{class:!0});var w=G(e);t=F(w,"DIV",{class:!0});var $=G(t);n=F($,"H2",{class:!0});var C=G(n);a.l(C),C.forEach(d),o=z($),b&&b.l($),$.forEach(d),r=z(w),l=F(w,"DIV",{});var W=G(l);P&&P.l(W),W.forEach(d),w.forEach(d),this.h()},h(){h(n,"class","mb-2 text-xl font-medium"),h(t,"class","flex"),h(e,"class","pb-8 md:pb-3")},m(m,w){N(m,e,w),S(e,t),S(t,n),g[s].m(n,null),S(t,o),b&&b.m(t,null),S(e,r),S(e,l),P&&P.m(l,null),u=!0},p(m,[w]){let $=s;s=v(m),s===$?g[s].p(m,w):(Ee(),E(g[$],1,1,()=>{g[$]=null}),Te(),a=g[s],a?a.p(m,w):(a=g[s]=f[s](m),a.c()),I(a,1),a.m(n,null)),b&&b.p&&(!u||w&8)&&Ft(b,c,m,m[3],u?Ct(c,m[3],w,oo):Nt(m[3]),bn),P&&P.p&&(!u||w&8)&&Ft(P,k,m,m[3],u?Ct(k,m[3],w,null):Nt(m[3]),null)},i(m){u||(I(a),I(b,m),I(P,m),u=!0)},o(m){E(a),E(b,m),E(P,m),u=!1},d(m){m&&d(e),g[s].d(),b&&b.d(m),P&&P.d(m)}}}function fo(i,e,t){let{$$slots:n={},$$scope:s}=e,{title:a}=e,{tooltip:o=""}=e;return i.$$set=r=>{"title"in r&&t(0,a=r.title),"tooltip"in r&&t(1,o=r.tooltip),"$$scope"in r&&t(3,s=r.$$scope)},[a,o,n,s]}class _e extends Re{constructor(e){super(),Le(this,e,fo,uo,Ae,{title:0,tooltip:1})}}function $n(i,e,t){const n=i.slice();return n[40]=e[t],n}function vn(i,e){let t,n=e[40].label+"",s,a,o;return{key:i,first:null,c(){t=y("option"),s=pe(n),a=H(),this.h()},l(r){t=F(r,"OPTION",{});var l=G(t);s=de(l,n),a=z(l),l.forEach(d),this.h()},h(){t.__value=o=e[40].key,t.value=t.__value,this.first=t},m(r,l){N(r,t,l),S(t,s),S(t,a)},p(r,l){e=r,l[0]&1&&n!==(n=e[40].label+"")&&De(s,n),l[0]&1&&o!==(o=e[40].key)&&(t.__value=o,t.value=t.__value)},d(r){r&&d(t)}}}function co(i){let e,t,n,s,a,o,r,l,u;return{c(){e=y("input"),t=H(),n=y("input"),s=H(),a=y("input"),o=H(),r=y("input"),this.h()},l(f){e=F(f,"INPUT",{type:!0,placeholder:!0}),t=z(f),n=F(f,"INPUT",{class:!0,type:!0,placeholder:!0}),s=z(f),a=F(f,"INPUT",{class:!0,type:!0,placeholder:!0}),o=z(f),r=F(f,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){e.required=!0,h(e,"type","text"),h(e,"placeholder","Client ID"),h(n,"class","mt-4"),h(n,"type","text"),h(n,"placeholder","Client Secret"),a.required=!0,h(a,"class","mt-4"),h(a,"type","password"),h(a,"placeholder","Password"),r.required=!0,h(r,"class","mt-4"),h(r,"type","password"),h(r,"placeholder","Confirm Password")},m(f,g){N(f,e,g),he(e,i[10]),N(f,t,g),N(f,n,g),he(n,i[11]),N(f,s,g),N(f,a,g),i[33](a),N(f,o,g),N(f,r,g),i[34](r),l||(u=[Z(e,"input",i[31]),Z(n,"input",i[32])],l=!0)},p(f,g){g[0]&1024&&e.value!==f[10]&&he(e,f[10]),g[0]&2048&&n.value!==f[11]&&he(n,f[11])},i:we,o:we,d(f){f&&d(e),f&&d(t),f&&d(n),f&&d(s),f&&d(a),i[33](null),f&&d(o),f&&d(r),i[34](null),l=!1,ye(u)}}}function go(i){let e,t,n,s,a,o=(i[13]||"Nothing selected")+"",r,l,u,f;return n=new lt({}),{c(){e=y("button"),t=pe(`Select Directory
        `),B(n.$$.fragment),s=H(),a=y("div"),r=pe(o),this.h()},l(g){e=F(g,"BUTTON",{class:!0});var v=G(e);t=de(v,`Select Directory
        `),M(n.$$.fragment,v),v.forEach(d),s=z(g),a=F(g,"DIV",{class:!0});var c=G(a);r=de(c,o),c.forEach(d),this.h()},h(){h(e,"class",mt),h(a,"class","my-4 text-center")},m(g,v){N(g,e,v),S(e,t),R(n,e,null),N(g,s,v),N(g,a,v),S(a,r),l=!0,u||(f=Z(e,"click",i[14]),u=!0)},p(g,v){(!l||v[0]&8192)&&o!==(o=(g[13]||"Nothing selected")+"")&&De(r,o)},i(g){l||(I(n.$$.fragment,g),l=!0)},o(g){E(n.$$.fragment,g),l=!1},d(g){g&&d(e),L(n),g&&d(s),g&&d(a),u=!1,f()}}}function kn(i){let e,t,n;return{c(){e=y("div"),t=pe("Error: "),n=pe(i[5]),this.h()},l(s){e=F(s,"DIV",{class:!0});var a=G(e);t=de(a,"Error: "),n=de(a,i[5]),a.forEach(d),this.h()},h(){h(e,"class","text-red-500")},m(s,a){N(s,e,a),S(e,t),S(e,n)},p(s,a){a[0]&32&&De(n,s[5])},d(s){s&&d(e)}}}function po(i){let e,t,n,s,a,o,r,l,u,f,g,v,c,b,k,P=[],m=new Map,w,$,C,W,T,U,K,q=i[0];const X=A=>A[40].key;for(let A=0;A<q.length;A+=1){let x=$n(i,q,A),j=X(x);m.set(j,P[A]=vn(j,x))}const oe=[go,co],re=[];function ge(A,x){return A[9]===$e.FS?0:1}$=ge(i),C=re[$]=oe[$](i);let ie=i[5]&&kn(i);return{c(){e=y("div"),t=y("input"),n=H(),s=y("div"),a=y("input"),o=H(),r=y("label"),l=pe("Is Sync Target"),u=H(),f=y("input"),g=H(),v=y("label"),c=pe("Is Source Default"),b=H(),k=y("select");for(let A=0;A<P.length;A+=1)P[A].c();w=H(),C.c(),W=H(),ie&&ie.c(),this.h()},l(A){e=F(A,"DIV",{class:!0,slot:!0});var x=G(e);t=F(x,"INPUT",{type:!0,placeholder:!0}),n=z(x),s=F(x,"DIV",{class:!0});var j=G(s);a=F(j,"INPUT",{id:!0,type:!0}),o=z(j),r=F(j,"LABEL",{for:!0,class:!0});var se=G(r);l=de(se,"Is Sync Target"),se.forEach(d),u=z(j),f=F(j,"INPUT",{id:!0,type:!0}),g=z(j),v=F(j,"LABEL",{for:!0,class:!0});var Y=G(v);c=de(Y,"Is Source Default"),Y.forEach(d),j.forEach(d),b=z(x),k=F(x,"SELECT",{class:!0});var Q=G(k);for(let ae=0;ae<P.length;ae+=1)P[ae].l(Q);Q.forEach(d),w=z(x),C.l(x),W=z(x),ie&&ie.l(x),x.forEach(d),this.h()},h(){t.required=!0,h(t,"type","text"),h(t,"placeholder","Name"),h(a,"id","cbx-source"),h(a,"type","checkbox"),h(r,"for","cbx-source"),h(r,"class","ml-2 mr-6"),h(f,"id","cbx-manager"),h(f,"type","checkbox"),h(v,"for","cbx-source"),h(v,"class","ml-2"),h(s,"class","mt-4 flex items-center"),h(k,"class","my-4"),i[9]===void 0&&ri(()=>i[29].call(k)),h(e,"class","flex max-h-[50vh] flex-col overflow-auto"),h(e,"slot","content")},m(A,x){N(A,e,x),S(e,t),he(t,i[6]),i[26](t),S(e,n),S(e,s),S(s,a),a.checked=i[7],S(s,o),S(s,r),S(r,l),S(s,u),S(s,f),f.checked=i[8],S(s,g),S(s,v),S(v,c),S(e,b),S(e,k);for(let j=0;j<P.length;j+=1)P[j].m(k,null);Bt(k,i[9]),S(e,w),re[$].m(e,null),S(e,W),ie&&ie.m(e,null),i[35](e),T=!0,U||(K=[Z(t,"input",i[25]),Z(a,"change",i[27]),Z(f,"change",i[28]),Z(k,"change",i[29]),Z(k,"change",i[30])],U=!0)},p(A,x){x[0]&64&&t.value!==A[6]&&he(t,A[6]),x[0]&128&&(a.checked=A[7]),x[0]&256&&(f.checked=A[8]),x[0]&1&&(q=A[0],P=rt(P,x,X,1,A,q,m,k,Dt,vn,null,$n)),x[0]&513&&Bt(k,A[9]);let j=$;$=ge(A),$===j?re[$].p(A,x):(Ee(),E(re[j],1,1,()=>{re[j]=null}),Te(),C=re[$],C?C.p(A,x):(C=re[$]=oe[$](A),C.c()),I(C,1),C.m(e,W)),A[5]?ie?ie.p(A,x):(ie=kn(A),ie.c(),ie.m(e,null)):ie&&(ie.d(1),ie=null)},i(A){T||(I(C),T=!0)},o(A){E(C),T=!1},d(A){A&&d(e),i[26](null);for(let x=0;x<P.length;x+=1)P[x].d();re[$].d(),ie&&ie.d(),i[35](null),U=!1,ye(K)}}}function mo(i){let e,t,n,s,a,o,r,l,u,f,g;return s=new lt({}),l=new lt({}),{c(){e=y("div"),t=y("button"),n=pe(`Cancel
      `),B(s.$$.fragment),a=H(),o=y("button"),r=pe(`Save
      `),B(l.$$.fragment),this.h()},l(v){e=F(v,"DIV",{class:!0,slot:!0});var c=G(e);t=F(c,"BUTTON",{class:!0});var b=G(t);n=de(b,`Cancel
      `),M(s.$$.fragment,b),b.forEach(d),a=z(c),o=F(c,"BUTTON",{class:!0});var k=G(o);r=de(k,`Save
      `),M(l.$$.fragment,k),k.forEach(d),c.forEach(d),this.h()},h(){h(t,"class",mt),h(o,"class",mt),h(e,"class","mt-4 flex grow justify-between"),h(e,"slot","footer")},m(v,c){N(v,e,c),S(e,t),S(t,n),R(s,t,null),S(e,a),S(e,o),S(o,r),R(l,o,null),u=!0,f||(g=[Z(t,"click",i[24]),Z(o,"click",i[15])],f=!0)},p:we,i(v){u||(I(s.$$.fragment,v),I(l.$$.fragment,v),u=!0)},o(v){E(s.$$.fragment,v),E(l.$$.fragment,v),u=!1},d(v){v&&d(e),L(s),L(l),f=!1,ye(g)}}}function _o(i){let e,t;return e=new Ln({props:{$$slots:{footer:[mo],content:[po]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,s){const a={};s[0]&16383|s[1]&4096&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ho(i,e,t){let n;ue(i,An,_=>t(36,n=_));let{configuredName:s}=e,{configuredIsSyncTarget:a}=e,{configuredIsStorageSourceDefault:o}=e,{configuredType:r}=e,{configuredRemoteData:l}=e,{configuredFSData:u}=e,{resolver:f}=e,g,v,c,b,k="",P=s||"",m=a||!1,w=o||!1,$=r||$e.GDRIVE,C=(l==null?void 0:l.clientId)||"",W=(l==null?void 0:l.clientSecret)||"";const T=(l==null?void 0:l.refreshToken)||"";let U=u==null?void 0:u.directoryHandle,K=(u==null?void 0:u.fsPath)||"";const q=li();let X=[{key:$e.GDRIVE,label:"GDrive"},{key:$e.ONEDRIVE,label:"OneDrive"}];async function oe(){ge();try{const _=await window.showDirectoryPicker({id:"ttu-reader-root",mode:"readwrite"});t(12,U=await _.getDirectoryHandle(At.rootName,{create:!0})),t(13,K=`${_.name==="\\"?"":`${_.name}/`}${At.rootName}`)}catch(_){t(12,U=void 0),t(13,K=""),_.name!=="AbortError"&&t(5,k=_.message)}}async function re(){if(ge(),!![...g.querySelectorAll("input")].every(_=>{let be=_.reportValidity();return be?(_===v?$===$e.FS&&!U?(v.setCustomValidity("You need to select a directory"),be=!1):Pt(P)&&(v.setCustomValidity("Please select a different name"),be=!1):_===b&&c.value!==b.value&&(b.setCustomValidity("Password does not match"),be=!1),be||_.reportValidity(),be):!1}))try{let _,be=!1,Ve=!1;if($===$e.FS){if(!U)throw new Error("Directory handle not defined");_={directoryHandle:U,fsPath:K}}else{if(be=C!==(l==null?void 0:l.clientId)||W!==(l==null?void 0:l.clientSecret),Ve=!W||be,Ve&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&!n)throw new Error("You need to be online in order to make this change to the credentials");_=await ci(window,JSON.stringify({clientId:C,clientSecret:W,refreshToken:Ve?"":T}),b.value)}const Fe={name:P,type:$,data:_,lastSourceModified:Date.now()};await je.saveStorageSource(Fe,s,m,w),Ve&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&Gn.revokeToken(Hn,l.refreshToken),be&&(ct.delete(s),$!==$e.FS&&Gt(window,$).clearData()),$===$e.FS&&U&&!await(u==null?void 0:u.directoryHandle.isSameEntry(U))&&Gt(window,$e.FS).clearData(),ie({new:Fe,old:s})}catch(_){t(5,k=_.message)}}function ge(){t(5,k=""),v.setCustomValidity(""),b==null||b.setCustomValidity("")}function ie(_){f(_),q("close")}const A=()=>ie();function x(){P=this.value,t(6,P)}function j(_){J[_?"unshift":"push"](()=>{v=_,t(2,v)})}function se(){m=this.checked,t(7,m)}function Y(){w=this.checked,t(8,w)}function Q(){$=ai(this),t(9,$),t(0,X)}const ae=()=>{$===$e.FS?(t(10,C=""),t(11,W="")):(t(12,U=void 0),t(13,K=""))};function fe(){C=this.value,t(10,C)}function ke(){W=this.value,t(11,W)}function ve(_){J[_?"unshift":"push"](()=>{c=_,t(3,c)})}function Ie(_){J[_?"unshift":"push"](()=>{b=_,t(4,b)})}function p(_){J[_?"unshift":"push"](()=>{g=_,t(1,g)})}return i.$$set=_=>{"configuredName"in _&&t(17,s=_.configuredName),"configuredIsSyncTarget"in _&&t(18,a=_.configuredIsSyncTarget),"configuredIsStorageSourceDefault"in _&&t(19,o=_.configuredIsStorageSourceDefault),"configuredType"in _&&t(20,r=_.configuredType),"configuredRemoteData"in _&&t(21,l=_.configuredRemoteData),"configuredFSData"in _&&t(22,u=_.configuredFSData),"resolver"in _&&t(23,f=_.resolver)},i.$$.update=()=>{i.$$.dirty[0]&1&&"showDirectoryPicker"in window&&t(0,X=[...X,{key:$e.FS,label:"Filesystem"}])},[X,g,v,c,b,k,P,m,w,$,C,W,U,K,oe,re,ie,s,a,o,r,l,u,f,A,x,j,se,Y,Q,ae,fe,ke,ve,Ie,p]}class bo extends Re{constructor(e){super(),Le(this,e,ho,_o,Ae,{configuredName:17,configuredIsSyncTarget:18,configuredIsStorageSourceDefault:19,configuredType:20,configuredRemoteData:21,configuredFSData:22,resolver:23},null,[-1,-1])}}function wn(i,e,t){const n=i.slice();n[19]=e[t];const s=hi(n[19].type);n[20]=s;const a=Pt(n[19].name);n[21]=a;const o=So(n[19].name,n[3]);n[22]=o;const r=n[8](n[19].name,n[19].type,[n[6],n[5],n[4]]);return n[23]=r,n}function $o(i){let e,t;return e=new Oe({props:{icon:Un,slot:"icon",class:"mx-2"}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function In(i){let e,t;return e=new pt({props:{contentText:"Auto import/export enabled but no source as sync target from list selected",contentStyles:"padding: 0.25rem;",$$slots:{icon:[vo]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,s){const a={};s&67108864&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function vo(i){let e,t;return e=new Oe({props:{icon:Pi,slot:"icon",class:"mx-2"}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ko(i){let e,t,n;return t=new Oe({props:{icon:Wn,spin:!0}}),{c(){e=y("div"),B(t.$$.fragment),this.h()},l(s){e=F(s,"DIV",{class:!0});var a=G(e);M(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","text-xl")},m(s,a){N(s,e,a),R(t,e,null),n=!0},p:we,i(s){n||(I(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){s&&d(e),L(t)}}}function wo(i){let e,t=[],n=new Map,s,a=i[0];const o=r=>r[19].name;for(let r=0;r<a.length;r+=1){let l=wn(i,a,r),u=o(l);n.set(u,t[r]=Sn(u,l))}return{c(){e=y("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=F(r,"DIV",{class:!0});var l=G(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(d),this.h()},h(){h(e,"class","grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 lg:grid-cols-3")},m(r,l){N(r,e,l);for(let u=0;u<t.length;u+=1)t[u].m(e,null);s=!0},p(r,l){l&1913&&(a=r[0],Ee(),t=rt(t,l,o,1,r,a,n,e,Vt,Sn,null,wn),Te())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)E(t[l]);s=!1},d(r){r&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function Sn(i,e){let t,n,s,a,o,r,l,u,f=e[19].name+"",g,v,c,b,k,P,m,w,$,C,W,T,U,K,q,X,oe,re;k=new Oe({props:{icon:yi}});function ge(){return e[13](e[19])}w=new Oe({props:{icon:Fi}});function ie(){return e[14](e[19])}W=new Oe({props:{icon:Ni}});function A(){return e[15](e[23],e[19])}K=new Oe({props:{icon:Ci}});function x(){return e[16](e[19],e[22],e[23])}return{key:i,first:null,c(){t=y("div"),n=y("div"),s=Mt("svg"),a=Mt("path"),l=H(),u=y("div"),g=pe(f),v=H(),c=y("div"),b=y("div"),B(k.$$.fragment),P=H(),m=y("div"),B(w.$$.fragment),$=H(),C=y("div"),B(W.$$.fragment),T=H(),U=y("div"),B(K.$$.fragment),q=H(),this.h()},l(j){t=F(j,"DIV",{class:!0});var se=G(t);n=F(se,"DIV",{class:!0});var Y=G(n);s=Rt(Y,"svg",{class:!0,xmlns:!0,viewBox:!0});var Q=G(s);a=Rt(Q,"path",{class:!0,d:!0}),G(a).forEach(d),Q.forEach(d),l=z(Y),u=F(Y,"DIV",{class:!0});var ae=G(u);g=de(ae,f),ae.forEach(d),Y.forEach(d),v=z(se),c=F(se,"DIV",{class:!0});var fe=G(c);b=F(fe,"DIV",{class:!0});var ke=G(b);M(k.$$.fragment,ke),ke.forEach(d),P=z(fe),m=F(fe,"DIV",{title:!0,class:!0});var ve=G(m);M(w.$$.fragment,ve),ve.forEach(d),$=z(fe),C=F(fe,"DIV",{title:!0,class:!0});var Ie=G(C);M(W.$$.fragment,Ie),Ie.forEach(d),T=z(fe),U=F(fe,"DIV",{class:!0});var p=G(U);M(K.$$.fragment,p),p.forEach(d),fe.forEach(d),q=z(se),se.forEach(d),this.h()},h(){h(a,"class","fill-current"),h(a,"d",o=e[20].d),h(s,"class","inline-block h-6 w-6 self-center"),h(s,"xmlns","http://www.w3.org/2000/svg"),h(s,"viewBox",r=e[20].viewBox),h(u,"class","ml-3 self-center"),h(n,"class","flex"),h(b,"class","mr-4 cursor-pointer"),ne(b,"hidden",e[21]),h(m,"title","Toggle source as sync target"),h(m,"class","mr-4 cursor-pointer"),ne(m,"opacity-50",!e[22]),h(C,"title","Toggle source as data source for this type"),h(C,"class","mr-4 cursor-pointer"),ne(C,"opacity-50",!e[23]),h(U,"class","cursor-pointer"),ne(U,"hidden",e[21]),h(c,"class","mt-4 flex"),h(t,"class","flex flex-col"),this.first=t},m(j,se){N(j,t,se),S(t,n),S(n,s),S(s,a),S(n,l),S(n,u),S(u,g),S(t,v),S(t,c),S(c,b),R(k,b,null),S(c,P),S(c,m),R(w,m,null),S(c,$),S(c,C),R(W,C,null),S(c,T),S(c,U),R(K,U,null),S(t,q),X=!0,oe||(re=[Z(b,"click",ge),Z(b,"keyup",Me),Z(m,"click",ie),Z(m,"keyup",Me),Z(C,"click",A),Z(C,"keyup",Me),Z(U,"click",x),Z(U,"keyup",Me)],oe=!0)},p(j,se){e=j,(!X||se&1&&o!==(o=e[20].d))&&h(a,"d",o),(!X||se&1&&r!==(r=e[20].viewBox))&&h(s,"viewBox",r),(!X||se&1)&&f!==(f=e[19].name+"")&&De(g,f),(!X||se&1)&&ne(b,"hidden",e[21]),(!X||se&9)&&ne(m,"opacity-50",!e[22]),(!X||se&369)&&ne(C,"opacity-50",!e[23]),(!X||se&1)&&ne(U,"hidden",e[21])},i(j){X||(I(k.$$.fragment,j),I(w.$$.fragment,j),I(W.$$.fragment,j),I(K.$$.fragment,j),X=!0)},o(j){E(k.$$.fragment,j),E(w.$$.fragment,j),E(W.$$.fragment,j),E(K.$$.fragment,j),X=!1},d(j){j&&d(t),L(k),L(w),L(W),L(K),oe=!1,ye(re)}}}function Io(i){let e,t,n,s,a,o,r,l,u,f,g,v,c,b,k,P,m,w,$,C,W,T,U,K,q,X,oe,re,ge,ie;l=new pt({props:{contentText:i[2],contentStyles:"padding: 0.5rem;",$$slots:{icon:[$o]},$$scope:{ctx:i}}});let A=i[7]!==We.Off&&!i[3]&&In(i);c=new Oe({props:{icon:Vi}}),w=new lt({});const x=[wo,ko],j=[];function se(Y,Q){return!Y[1]&&Y[0]?0:1}return K=se(i),q=j[K]=x[K](i),{c(){e=y("div"),t=y("div"),n=y("div"),s=y("h1"),a=y("span"),o=pe("Storage Sources"),r=H(),B(l.$$.fragment),u=H(),A&&A.c(),f=H(),g=y("button"),v=y("div"),B(c.$$.fragment),b=H(),k=y("span"),P=pe("Add"),m=H(),B(w.$$.fragment),C=H(),W=y("hr"),T=H(),U=y("div"),q.c(),X=H(),oe=y("div"),this.h()},l(Y){e=F(Y,"DIV",{class:!0});var Q=G(e);t=F(Q,"DIV",{class:!0});var ae=G(t);n=F(ae,"DIV",{class:!0});var fe=G(n);s=F(fe,"H1",{class:!0});var ke=G(s);a=F(ke,"SPAN",{class:!0});var ve=G(a);o=de(ve,"Storage Sources"),ve.forEach(d),ke.forEach(d),r=z(fe),M(l.$$.fragment,fe),u=z(fe),A&&A.l(fe),fe.forEach(d),f=z(ae),g=F(ae,"BUTTON",{class:!0});var Ie=G(g);v=F(Ie,"DIV",{class:!0});var p=G(v);M(c.$$.fragment,p),b=z(p),k=F(p,"SPAN",{class:!0});var _=G(k);P=de(_,"Add"),_.forEach(d),p.forEach(d),m=z(Ie),M(w.$$.fragment,Ie),Ie.forEach(d),ae.forEach(d),C=z(Q),W=F(Q,"HR",{class:!0}),T=z(Q),U=F(Q,"DIV",{class:!0});var be=G(U);q.l(be),be.forEach(d),X=z(Q),oe=F(Q,"DIV",{}),G(oe).forEach(d),Q.forEach(d),this.h()},h(){h(a,"class","capitalize"),h(s,"class","mb-2 text-xl font-medium"),h(n,"class","flex grow"),h(k,"class","ml-1 hidden sm:block"),h(v,"class","flex items-center justify-center"),h(g,"class",mt),g.disabled=$=!i[0],ne(g,"cursor-not-allowed",!i[0]),h(t,"class","flex"),h(W,"class","border border-black"),h(U,"class","mt-6"),h(e,"class","mb-8 sm:col-span-2 lg:col-span-3")},m(Y,Q){N(Y,e,Q),S(e,t),S(t,n),S(n,s),S(s,a),S(a,o),S(n,r),R(l,n,null),S(n,u),A&&A.m(n,null),S(t,f),S(t,g),S(g,v),R(c,v,null),S(v,b),S(v,k),S(k,P),S(g,m),R(w,g,null),S(e,C),S(e,W),S(e,T),S(e,U),j[K].m(U,null),S(e,X),S(e,oe),re=!0,ge||(ie=Z(g,"click",i[12]),ge=!0)},p(Y,[Q]){const ae={};Q&4&&(ae.contentText=Y[2]),Q&67108864&&(ae.$$scope={dirty:Q,ctx:Y}),l.$set(ae),Y[7]!==We.Off&&!Y[3]?A?(A.p(Y,Q),Q&136&&I(A,1)):(A=In(Y),A.c(),I(A,1),A.m(n,null)):A&&(Ee(),E(A,1,1,()=>{A=null}),Te()),(!re||Q&1&&$!==($=!Y[0]))&&(g.disabled=$),(!re||Q&1)&&ne(g,"cursor-not-allowed",!Y[0]);let fe=K;K=se(Y),K===fe?j[K].p(Y,Q):(Ee(),E(j[fe],1,1,()=>{j[fe]=null}),Te(),q=j[K],q?q.p(Y,Q):(q=j[K]=x[K](Y),q.c()),I(q,1),q.m(U,null))},i(Y){re||(I(l.$$.fragment,Y),I(A),I(c.$$.fragment,Y),I(w.$$.fragment,Y),I(q),re=!0)},o(Y){E(l.$$.fragment,Y),E(A),E(c.$$.fragment,Y),E(w.$$.fragment,Y),E(q),re=!1},d(Y){Y&&d(e),L(l),A&&A.d(),L(c),L(w),j[K].d(),ge=!1,ie()}}}function So(i,e){return i===e}function Oo(i,e,t){let n,s,a,o,r,l,u;ue(i,An,T=>t(17,s=T)),ue(i,Ht,T=>t(3,a=T)),ue(i,gi,T=>t(4,o=T)),ue(i,pi,T=>t(5,r=T)),ue(i,di,T=>t(6,l=T)),ue(i,kt,T=>t(7,u=T));let{storageSources:f}=e,g=!0,v="Allows you to add a custom set of credentials";function c(T,U,K=[]){let q=!1;switch(U){case $e.GDRIVE:q=T===l;break;case $e.ONEDRIVE:q=T===r;break;case $e.FS:q=T===o;break}return q}async function b(T){let U,K;if(T&&T.type!==$e.FS){const X=await new Promise(oe=>{it.dialogs$.next([{component:zt,props:{description:"You are trying to access protected data",action:`Enter the correct password for ${T.name} to proceed`,encryptedData:T.data,resolver:oe},disableCloseOnClick:!0}])});if(!X)return;U=X}else T&&k(T.type,T.data)&&(K={directoryHandle:T.data.directoryHandle,fsPath:T.data.fsPath});const q=await new Promise(X=>{it.dialogs$.next([{component:bo,props:{configuredName:T==null?void 0:T.name,configuredType:T==null?void 0:T.type,configuredIsSyncTarget:T?a===T.name:!1,configuredIsStorageSourceDefault:T?c(T.name,T.type):!1,configuredFSData:K,configuredRemoteData:U,resolver:X},disableCloseOnClick:!0}])});if(!!q)if(q.old){const X=ct.get(q.old);ct.delete(q.old),X&&q.new.type===(T==null?void 0:T.type)&&ct.set(q.new.name,X),je.storageSourcesChanged$.next(f.map(oe=>oe.name===q.old?q.new:oe))}else je.storageSourcesChanged$.next([...f,q.new])}function k(T,U){return U&&T===$e.FS}async function P(T,U,K){const q=await new Promise(oe=>{it.dialogs$.next([{component:zt,props:{description:T.type===$e.FS?"You are trying to delete data":"You are trying to delete protected data",action:T.type===$e.FS?`Please confirm to proceed with deleting ${T.name}`:`Enter the correct password for ${T.name} to proceed`,requiresSecret:T.type!==$e.FS,showCancel:!0,encryptedData:T.type!==$e.FS?T.data:void 0,resolver:oe},disableCloseOnClick:!0}])});if(!q)return;const X=T.type===$e.GDRIVE&&q.refreshToken;if(X&&!s){it.dialogs$.next([{component:mi,props:{title:"Error",message:"You need to be online to delete this storage source"},disableCloseOnClick:!0}]);return}await je.deleteStorageSource(T,U,K),ct.delete(T.name),X&&q.refreshToken&&Gn.revokeToken(Hn,q.refreshToken),je.storageSourcesChanged$.next(f.filter(oe=>oe.name!==T.name))}const m=()=>{b()},w=T=>b(T),$=T=>Ht.next(a===T.name?"":T.name),C=(T,U)=>_i(T?"":U.name,U.type),W=(T,U,K)=>P(T,U,K);return i.$$set=T=>{"storageSources"in T&&t(0,f=T.storageSources)},i.$$.update=()=>{i.$$.dirty&1&&f&&t(1,g=!1),i.$$.dirty&2052&&n&&t(2,v+=" or filesystem access")},t(11,n="showDirectoryPicker"in window),[f,g,v,a,o,r,l,u,c,b,P,n,m,w,$,C,W]}class Eo extends Re{constructor(e){super(),Le(this,e,Oo,Io,Ae,{storageSources:0})}}function To(i){let e,t,n,s,a,o,r,l,u,f,g,v,c,b,k,P,m;return b=new Oe({props:{class:"text-xl mx-2",icon:Bi}}),{c(){e=y("div"),t=y("span"),n=pe("Font Name"),s=H(),a=y("input"),o=H(),r=y("div"),l=pe(i[2]),u=H(),f=y("div"),g=y("input"),v=H(),c=y("div"),B(b.$$.fragment),this.h()},l(w){e=F(w,"DIV",{class:!0});var $=G(e);t=F($,"SPAN",{});var C=G(t);n=de(C,"Font Name"),C.forEach(d),s=z($),a=F($,"INPUT",{class:!0,type:!0}),o=z($),r=F($,"DIV",{class:!0});var W=G(r);l=de(W,i[2]),W.forEach(d),u=z($),f=F($,"DIV",{class:!0});var T=G(f);g=F(T,"INPUT",{type:!0,accept:!0}),v=z(T),c=F(T,"DIV",{});var U=G(c);M(b.$$.fragment,U),U.forEach(d),T.forEach(d),$.forEach(d),this.h()},h(){h(a,"class","mt-2"),h(a,"type","text"),h(r,"class","my-2 text-red-500"),ne(r,"invisible",i[2]==="no error"),h(g,"type","file"),h(g,"accept",".woff2,.woff,.ttf,.otf"),ne(c,"cursor-pointer",i[3]),ne(c,"text-gray-500",!i[3]),ne(c,"cursor-not-allowed",!i[3]),h(f,"class","flex items-center"),h(e,"class","flex flex-col")},m(w,$){N(w,e,$),S(e,t),S(t,n),S(e,s),S(e,a),he(a,i[0]),S(e,o),S(e,r),S(r,l),S(e,u),S(e,f),S(f,g),i[10](g),S(f,v),S(f,c),R(b,c,null),k=!0,P||(m=[Z(a,"input",i[9]),Z(g,"change",i[4]),Z(c,"click",i[11]),Z(c,"keyup",Me)],P=!0)},p(w,[$]){$&1&&a.value!==w[0]&&he(a,w[0]),(!k||$&4)&&De(l,w[2]),(!k||$&4)&&ne(r,"invisible",w[2]==="no error"),(!k||$&8)&&ne(c,"cursor-pointer",w[3]),(!k||$&8)&&ne(c,"text-gray-500",!w[3]),(!k||$&8)&&ne(c,"cursor-not-allowed",!w[3])},i(w){k||(I(b.$$.fragment,w),k=!0)},o(w){E(b.$$.fragment,w),k=!1},d(w){w&&d(e),i[10](null),L(b),P=!1,ye(m)}}}function Do(i,e,t){let n,s;ue(i,gt,m=>t(12,s=m));let{isLoading:a}=e,{fontCache:o}=e,r,l="",u,f="no error";function g(m){var C;const $=(C=m.target.files)==null?void 0:C[0];if(t(2,f="no error"),!$){v();return}if(!($.name.endsWith(".woff2")||$.name.endsWith(".woff")||$.name.endsWith(".ttf")||$.name.endsWith(".otf"))){t(2,f="only woff2, woff, ttf and otf fonts are supported"),v();return}if(zi.has(l)||s.find(W=>W.fileName===$.name||W.name===l)){t(2,f="a font file with this name is already stored"),v();return}t(8,u=$)}function v(){t(1,r.value="",r),t(8,u=void 0)}async function c(){if(!!u){t(6,a=!0);try{const m=`/userfonts/${u.name}`;await o.put(m,new Response(u,{headers:{"Content-Type":`font/${u.name.split(".").pop()}`,"Content-Length":`${u.size}`}})),vt(gt,s=[...s,{name:l,path:m,fileName:u.name}],s),t(0,l=""),v()}catch(m){t(2,f=m.message)}t(6,a=!1)}}function b(){l=this.value,t(0,l)}function k(m){J[m?"unshift":"push"](()=>{r=m,t(1,r)})}const P=()=>{n&&c()};return i.$$set=m=>{"isLoading"in m&&t(6,a=m.isLoading),"fontCache"in m&&t(7,o=m.fontCache)},i.$$.update=()=>{i.$$.dirty&257&&t(3,n=!!l&&!!u)},[l,r,f,n,g,c,a,o,u,b,k,P]}class Vo extends Re{constructor(e){super(),Le(this,e,Do,To,Ae,{isLoading:6,fontCache:7})}}function On(i,e,t){const n=i.slice();return n[14]=e[t],n}function En(i,e,t){const n=i.slice();return n[17]=e[t],n}function Tn(i){let e,t,n=[],s=new Map,a,o,r,l,u,f=i[5];const g=k=>k[17];for(let k=0;k<f.length;k+=1){let P=En(i,f,k),m=g(P);s.set(m,n[k]=Dn(m,P))}const v=[yo,Po],c=[];function b(k,P){return k[2]==="Stored"?0:k[3]?1:-1}return~(r=b(i))&&(l=c[r]=v[r](i)),{c(){e=y("div"),t=y("ul");for(let k=0;k<n.length;k+=1)n[k].c();a=H(),o=y("div"),l&&l.c(),this.h()},l(k){e=F(k,"DIV",{class:!0});var P=G(e);t=F(P,"UL",{class:!0});var m=G(t);for(let $=0;$<n.length;$+=1)n[$].l(m);m.forEach(d),P.forEach(d),a=z(k),o=F(k,"DIV",{class:!0});var w=G(o);l&&l.l(w),w.forEach(d),this.h()},h(){h(t,"class","-mb-px flex items-center gap-4 text-sm font-medium"),h(e,"class","border-b border-b-gray-200"),h(o,"class","mt-5")},m(k,P){N(k,e,P),S(e,t);for(let m=0;m<n.length;m+=1)n[m].m(t,null);N(k,a,P),N(k,o,P),~r&&c[r].m(o,null),u=!0},p(k,P){P&36&&(f=k[5],n=rt(n,P,g,1,k,f,s,t,Dt,Dn,null,En));let m=r;r=b(k),r===m?~r&&c[r].p(k,P):(l&&(Ee(),E(c[m],1,1,()=>{c[m]=null}),Te()),~r?(l=c[r],l?l.p(k,P):(l=c[r]=v[r](k),l.c()),I(l,1),l.m(o,null)):l=null)},i(k){u||(I(l),u=!0)},o(k){E(l),u=!1},d(k){k&&d(e);for(let P=0;P<n.length;P+=1)n[P].d();k&&d(a),k&&d(o),~r&&c[r].d()}}}function Dn(i,e){let t,n,s=e[17]+"",a,o,r,l;function u(){return e[9](e[17])}return{key:i,first:null,c(){t=y("li"),n=y("button"),a=pe(s),o=H(),this.h()},l(f){t=F(f,"LI",{class:!0});var g=G(t);n=F(g,"BUTTON",{class:!0});var v=G(n);a=de(v,s),v.forEach(d),o=z(g),g.forEach(d),this.h()},h(){h(n,"class","relative flex items-center justify-center gap-2 px-1 py-3 hover:text-blue-700"),ne(n,"text-blue-700",e[2]===e[17]),ne(n,"after:absolute",e[2]===e[17]),ne(n,"after:left-0",e[2]===e[17]),ne(n,"after:bottom-0",e[2]===e[17]),ne(n,"after:h-0.5",e[2]===e[17]),ne(n,"after:w-full",e[2]===e[17]),ne(n,"after:bg-blue-700",e[2]===e[17]),ne(n,"text-gray-500",e[2]!==e[17]),h(t,"class","flex-1"),this.first=t},m(f,g){N(f,t,g),S(t,n),S(n,a),S(t,o),r||(l=Z(n,"click",u),r=!0)},p(f,g){e=f,g&36&&ne(n,"text-blue-700",e[2]===e[17]),g&36&&ne(n,"after:absolute",e[2]===e[17]),g&36&&ne(n,"after:left-0",e[2]===e[17]),g&36&&ne(n,"after:bottom-0",e[2]===e[17]),g&36&&ne(n,"after:h-0.5",e[2]===e[17]),g&36&&ne(n,"after:w-full",e[2]===e[17]),g&36&&ne(n,"after:bg-blue-700",e[2]===e[17]),g&36&&ne(n,"text-gray-500",e[2]!==e[17])},d(f){f&&d(t),r=!1,l()}}}function Po(i){let e,t,n;function s(o){i[13](o)}let a={fontCache:i[3]};return i[0]!==void 0&&(a.isLoading=i[0]),e=new Vo({props:a}),J.push(()=>ee(e,"isLoading",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};r&8&&(l.fontCache=o[3]),!t&&r&1&&(t=!0,l.isLoading=o[0],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function yo(i){let e,t,n,s;const a=[No,Fo],o=[];function r(l,u){return l[4].length?0:1}return e=r(i),t=o[e]=a[e](i),{c(){t.c(),n=st()},l(l){t.l(l),n=st()},m(l,u){o[e].m(l,u),N(l,n,u),s=!0},p(l,u){let f=e;e=r(l),e===f?o[e].p(l,u):(Ee(),E(o[f],1,1,()=>{o[f]=null}),Te(),t=o[e],t?t.p(l,u):(t=o[e]=a[e](l),t.c()),I(t,1),t.m(n.parentNode,n))},i(l){s||(I(t),s=!0)},o(l){E(t),s=!1},d(l){o[e].d(l),l&&d(n)}}}function Fo(i){let e,t;return{c(){e=y("div"),t=pe("You have currently no stored Fonts")},l(n){e=F(n,"DIV",{});var s=G(e);t=de(s,"You have currently no stored Fonts"),s.forEach(d)},m(n,s){N(n,e,s),S(e,t)},p:we,i:we,o:we,d(n){n&&d(e)}}}function No(i){let e,t=[],n=new Map,s,a=i[4];const o=r=>r[14].path;for(let r=0;r<a.length;r+=1){let l=On(i,a,r),u=o(l);n.set(u,t[r]=Vn(u,l))}return{c(){e=y("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=F(r,"DIV",{class:!0});var l=G(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(d),this.h()},h(){h(e,"class","grid grid-cols-[max-content,max-content,auto] gap-y-4 gap-x-14 items-center")},m(r,l){N(r,e,l);for(let u=0;u<t.length;u+=1)t[u].m(e,null);s=!0},p(r,l){l&208&&(a=r[4],Ee(),t=rt(t,l,o,1,r,a,n,e,Vt,Vn,null,On),Te())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)E(t[l]);s=!1},d(r){r&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function Vn(i,e){let t,n=e[14].name+"",s,a,o,r=e[14].fileName+"",l,u,f,g,v,c,b,k;function P(){return e[10](e[14])}function m(){return e[11](e[14])}g=new Oe({props:{icon:Mi}});function w(){return e[12](e[14])}return{key:i,first:null,c(){t=y("div"),s=pe(n),a=H(),o=y("div"),l=pe(r),u=H(),f=y("div"),B(g.$$.fragment),v=H(),this.h()},l($){t=F($,"DIV",{role:!0,class:!0});var C=G(t);s=de(C,n),C.forEach(d),a=z($),o=F($,"DIV",{role:!0,class:!0});var W=G(o);l=de(W,r),W.forEach(d),u=z($),f=F($,"DIV",{role:!0,class:!0});var T=G(f);M(g.$$.fragment,T),v=z(T),T.forEach(d),this.h()},h(){h(t,"role","button"),h(t,"class","hover:text-blue-700"),h(o,"role","button"),h(o,"class","hover:text-blue-700"),h(f,"role","button"),h(f,"class","hover:text-blue-700"),this.first=t},m($,C){N($,t,C),S(t,s),N($,a,C),N($,o,C),S(o,l),N($,u,C),N($,f,C),R(g,f,null),S(f,v),c=!0,b||(k=[Z(t,"click",P),Z(t,"keyup",Me),Z(o,"click",m),Z(o,"keyup",Me),Z(f,"click",w),Z(f,"keyup",Me)],b=!0)},p($,C){e=$,(!c||C&16)&&n!==(n=e[14].name+"")&&De(s,n),(!c||C&16)&&r!==(r=e[14].fileName+"")&&De(l,r)},i($){c||(I(g.$$.fragment,$),c=!0)},o($){E(g.$$.fragment,$),c=!1},d($){$&&d(t),$&&d(a),$&&d(o),$&&d(u),$&&d(f),L(g),b=!1,ye(k)}}}function Pn(i){let e,t,n;return t=new Oe({props:{icon:Wn,spin:!0}}),{c(){e=y("div"),B(t.$$.fragment),this.h()},l(s){e=F(s,"DIV",{class:!0});var a=G(e);M(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","fixed inset-0 flex h-full w-full items-center justify-center text-7xl")},m(s,a){N(s,e,a),R(t,e,null),n=!0},p:we,i(s){n||(I(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){s&&d(e),L(t)}}}function Co(i){let e,t,n,s=i[1]&&Tn(i),a=(!i[1]||i[0])&&Pn();return{c(){e=y("div"),s&&s.c(),t=H(),a&&a.c(),this.h()},l(o){e=F(o,"DIV",{slot:!0});var r=G(e);s&&s.l(r),t=z(r),a&&a.l(r),r.forEach(d),this.h()},h(){h(e,"slot","content")},m(o,r){N(o,e,r),s&&s.m(e,null),S(e,t),a&&a.m(e,null),n=!0},p(o,r){o[1]?s?(s.p(o,r),r&2&&I(s,1)):(s=Tn(o),s.c(),I(s,1),s.m(e,t)):s&&(Ee(),E(s,1,1,()=>{s=null}),Te()),!o[1]||o[0]?a?(a.p(o,r),r&3&&I(a,1)):(a=Pn(),a.c(),I(a,1),a.m(e,null)):a&&(Ee(),E(a,1,1,()=>{a=null}),Te())},i(o){n||(I(s),I(a),n=!0)},o(o){E(s),E(a),n=!1},d(o){o&&d(e),s&&s.d(),a&&a.d()}}}function Bo(i){let e,t;return e=new Ln({props:{$$slots:{content:[Co]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const a={};s&1048607&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Mo(i,e,t){let n;ue(i,gt,m=>t(4,n=m));let{fontFamily:s}=e;const a=["Stored","Add"];let o=!1,r=!1,l="Stored",u;Tt(async()=>{try{t(3,u=await caches.open(Ui));const m=(await u.keys()).map(w=>new URL(w.url).pathname);vt(gt,n=n.filter(w=>m.includes(w.path)),n);for(let w=0,{length:$}=m;w<$;w+=1){const C=m[w];n.find(T=>T.path===C)||u.delete(C).catch(()=>{})}}catch(m){Ot.error(`Error loading font cache: ${m.message}`),t(3,u=void 0)}t(1,r=!0)});function f(m){s.next(m),it.dialogs$.next([])}async function g(m){if(!!u){t(0,o=!0);try{await u.delete(m),vt(gt,n=n.filter($=>$.path!==m),n);const w=s.getValue();n.find($=>$.name===w)||s.next("")}catch(w){Ot.error(`Error deleting Font: ${w.message}`)}t(0,o=!1)}}const v=m=>t(2,l=m),c=m=>f(m.name),b=m=>f(m.name),k=m=>g(m.path);function P(m){o=m,t(0,o)}return i.$$set=m=>{"fontFamily"in m&&t(8,s=m.fontFamily)},[o,r,l,u,n,a,f,g,s,v,c,b,k,P]}class yn extends Re{constructor(e){super(),Le(this,e,Mo,Bo,Ae,{fontFamily:8})}}function Ro(i){let e,t,n,s,a,o,r,l,u,f,g,v;return e=new _e({props:{title:"Persistent storage",tooltip:i[33],$$slots:{default:[Ao]},$$scope:{ctx:i}}}),n=new _e({props:{title:"Cache Data",tooltip:i[32],$$slots:{default:[Go]},$$scope:{ctx:i}}}),a=new _e({props:{title:"Auto Import/Export",tooltip:i[29],$$slots:{default:[Ho]},$$scope:{ctx:i}}}),r=new _e({props:{title:"Import/Export Behavior",tooltip:i[31],$$slots:{default:[zo]},$$scope:{ctx:i}}}),u=new _e({props:{title:"Show Placeholder",tooltip:i[30],$$slots:{default:[Uo]},$$scope:{ctx:i}}}),g=new Eo({props:{storageSources:i[27]}}),{c(){B(e.$$.fragment),t=H(),B(n.$$.fragment),s=H(),B(a.$$.fragment),o=H(),B(r.$$.fragment),l=H(),B(u.$$.fragment),f=H(),B(g.$$.fragment)},l(c){M(e.$$.fragment,c),t=z(c),M(n.$$.fragment,c),s=z(c),M(a.$$.fragment,c),o=z(c),M(r.$$.fragment,c),l=z(c),M(u.$$.fragment,c),f=z(c),M(g.$$.fragment,c)},m(c,b){R(e,c,b),N(c,t,b),R(n,c,b),N(c,s,b),R(a,c,b),N(c,o,b),R(r,c,b),N(c,l,b),R(u,c,b),N(c,f,b),R(g,c,b),v=!0},p(c,b){const k={};b[1]&4&&(k.tooltip=c[33]),b[0]&8|b[2]&524288&&(k.$$scope={dirty:b,ctx:c}),e.$set(k);const P={};b[1]&2&&(P.tooltip=c[32]),b[0]&16|b[2]&524288&&(P.$$scope={dirty:b,ctx:c}),n.$set(P);const m={};b[0]&536870912&&(m.tooltip=c[29]),b[0]&32|b[2]&524288&&(m.$$scope={dirty:b,ctx:c}),a.$set(m);const w={};b[1]&1&&(w.tooltip=c[31]),b[0]&64|b[2]&524288&&(w.$$scope={dirty:b,ctx:c}),r.$set(w);const $={};b[0]&1073741824&&($.tooltip=c[30]),b[0]&128|b[2]&524288&&($.$$scope={dirty:b,ctx:c}),u.$set($);const C={};b[0]&134217728&&(C.storageSources=c[27]),g.$set(C)},i(c){v||(I(e.$$.fragment,c),I(n.$$.fragment,c),I(a.$$.fragment,c),I(r.$$.fragment,c),I(u.$$.fragment,c),I(g.$$.fragment,c),v=!0)},o(c){E(e.$$.fragment,c),E(n.$$.fragment,c),E(a.$$.fragment,c),E(r.$$.fragment,c),E(u.$$.fragment,c),E(g.$$.fragment,c),v=!1},d(c){L(e,c),c&&d(t),L(n,c),c&&d(s),L(a,c),c&&d(o),L(r,c),c&&d(l),L(u,c),c&&d(f),L(g,c)}}}function Lo(i){let e,t,n,s,a,o,r,l,u,f,g,v,c,b,k,P,m,w,$,C,W,T,U,K,q,X,oe,re,ge,ie,A,x,j,se,Y,Q,ae,fe;t=new _e({props:{title:"Theme",$$slots:{default:[Wo]},$$scope:{ctx:i}}}),a=new _e({props:{title:"View mode",$$slots:{default:[jo]},$$scope:{ctx:i}}}),r=new _e({props:{title:"Font family (Group 1)",$$slots:{header:[Yo],default:[qo]},$$scope:{ctx:i}}}),u=new _e({props:{title:"Font family (Group 2)",$$slots:{header:[Ko],default:[Jo]},$$scope:{ctx:i}}}),g=new _e({props:{title:"Font size",$$slots:{default:[Qo]},$$scope:{ctx:i}}}),c=new _e({props:{title:"Line Height",$$slots:{default:[Zo]},$$scope:{ctx:i}}}),k=new _e({props:{title:i[36]?"Reader Left/right margin":"Reader Top/bottom margin",$$slots:{header:[xo],default:[Xo]},$$scope:{ctx:i}}}),m=new _e({props:{title:i[36]?"Reader Max height":"Reader Max width",$$slots:{header:[ts],default:[es]},$$scope:{ctx:i}}}),$=new _e({props:{title:"Swipe Threshold",tooltip:"Distance which you need to swipe in order trigger a navigation",$$slots:{default:[ns]},$$scope:{ctx:i}}}),W=new _e({props:{title:"Writing mode",$$slots:{default:[is]},$$scope:{ctx:i}}}),U=new _e({props:{title:"Disable Wheel Navigation",$$slots:{default:[os]},$$scope:{ctx:i}}}),q=new _e({props:{title:"Close Confirmation",tooltip:"When enabled asks for confirmation on closing/reloading a reader tab and unsaved changes were detected",$$slots:{default:[ss]},$$scope:{ctx:i}}}),oe=new _e({props:{title:"Auto Bookmark",tooltip:"Set a bookmark after 3 seconds without scrolling/page change",$$slots:{default:[ls]},$$scope:{ctx:i}}}),ge=new _e({props:{title:"Blur image",$$slots:{default:[rs]},$$scope:{ctx:i}}}),A=new _e({props:{title:"Hide furigana",$$slots:{default:[as]},$$scope:{ctx:i}}}),j=new _e({props:{title:"Hide furigana style",tooltip:i[28],$$slots:{default:[us]},$$scope:{ctx:i}}});const ke=[cs,fs],ve=[];function Ie(p,_){return p[9]===wt.Continuous?0:1}return Y=Ie(i),Q=ve[Y]=ke[Y](i),{c(){e=y("div"),B(t.$$.fragment),n=H(),s=y("div"),B(a.$$.fragment),o=H(),B(r.$$.fragment),l=H(),B(u.$$.fragment),f=H(),B(g.$$.fragment),v=H(),B(c.$$.fragment),b=H(),B(k.$$.fragment),P=H(),B(m.$$.fragment),w=H(),B($.$$.fragment),C=H(),B(W.$$.fragment),T=H(),B(U.$$.fragment),K=H(),B(q.$$.fragment),X=H(),B(oe.$$.fragment),re=H(),B(ge.$$.fragment),ie=H(),B(A.$$.fragment),x=H(),B(j.$$.fragment),se=H(),Q.c(),ae=st(),this.h()},l(p){e=F(p,"DIV",{class:!0});var _=G(e);M(t.$$.fragment,_),_.forEach(d),n=z(p),s=F(p,"DIV",{class:!0});var be=G(s);M(a.$$.fragment,be),be.forEach(d),o=z(p),M(r.$$.fragment,p),l=z(p),M(u.$$.fragment,p),f=z(p),M(g.$$.fragment,p),v=z(p),M(c.$$.fragment,p),b=z(p),M(k.$$.fragment,p),P=z(p),M(m.$$.fragment,p),w=z(p),M($.$$.fragment,p),C=z(p),M(W.$$.fragment,p),T=z(p),M(U.$$.fragment,p),K=z(p),M(q.$$.fragment,p),X=z(p),M(oe.$$.fragment,p),re=z(p),M(ge.$$.fragment,p),ie=z(p),M(A.$$.fragment,p),x=z(p),M(j.$$.fragment,p),se=z(p),Q.l(p),ae=st(),this.h()},h(){h(e,"class","lg:col-span-2"),h(s,"class","h-full")},m(p,_){N(p,e,_),R(t,e,null),N(p,n,_),N(p,s,_),R(a,s,null),N(p,o,_),R(r,p,_),N(p,l,_),R(u,p,_),N(p,f,_),R(g,p,_),N(p,v,_),R(c,p,_),N(p,b,_),R(k,p,_),N(p,P,_),R(m,p,_),N(p,w,_),R($,p,_),N(p,C,_),R(W,p,_),N(p,T,_),R(U,p,_),N(p,K,_),R(q,p,_),N(p,X,_),R(oe,p,_),N(p,re,_),R(ge,p,_),N(p,ie,_),R(A,p,_),N(p,x,_),R(j,p,_),N(p,se,_),ve[Y].m(p,_),N(p,ae,_),fe=!0},p(p,_){const be={};_[0]&256|_[2]&524288&&(be.$$scope={dirty:_,ctx:p}),t.$set(be);const Ve={};_[0]&512|_[2]&524288&&(Ve.$$scope={dirty:_,ctx:p}),a.$set(Ve);const Fe={};_[0]&1024|_[1]&16|_[2]&524288&&(Fe.$$scope={dirty:_,ctx:p}),r.$set(Fe);const Ne={};_[0]&2048|_[1]&16|_[2]&524288&&(Ne.$$scope={dirty:_,ctx:p}),u.$set(Ne);const Ce={};_[0]&4096|_[2]&524288&&(Ce.$$scope={dirty:_,ctx:p}),g.$set(Ce);const qe={};_[0]&8192|_[2]&524288&&(qe.$$scope={dirty:_,ctx:p}),c.$set(qe);const Ge={};_[1]&32&&(Ge.title=p[36]?"Reader Left/right margin":"Reader Top/bottom margin"),_[0]&131072|_[1]&32|_[2]&524288&&(Ge.$$scope={dirty:_,ctx:p}),k.$set(Ge);const He={};_[1]&32&&(He.title=p[36]?"Reader Max height":"Reader Max width"),_[0]&65536|_[1]&32|_[2]&524288&&(He.$$scope={dirty:_,ctx:p}),m.$set(He);const Ye={};_[0]&262144|_[2]&524288&&(Ye.$$scope={dirty:_,ctx:p}),$.$set(Ye);const Je={};_[0]&2|_[2]&524288&&(Je.$$scope={dirty:_,ctx:p}),W.$set(Je);const Ke={};_[0]&524288|_[2]&524288&&(Ke.$$scope={dirty:_,ctx:p}),U.$set(Ke);const Qe={};_[0]&16777216|_[2]&524288&&(Qe.$$scope={dirty:_,ctx:p}),q.$set(Qe);const Ze={};_[0]&33554432|_[2]&524288&&(Ze.$$scope={dirty:_,ctx:p}),oe.$set(Ze);const Xe={};_[0]&16384|_[2]&524288&&(Xe.$$scope={dirty:_,ctx:p}),ge.$set(Xe);const xe={};_[0]&32768|_[2]&524288&&(xe.$$scope={dirty:_,ctx:p}),A.$set(xe);const ze={};_[0]&268435456&&(ze.tooltip=p[28]),_[0]&1|_[2]&524288&&(ze.$$scope={dirty:_,ctx:p}),j.$set(ze);let Ue=Y;Y=Ie(p),Y===Ue?ve[Y].p(p,_):(Ee(),E(ve[Ue],1,1,()=>{ve[Ue]=null}),Te(),Q=ve[Y],Q?Q.p(p,_):(Q=ve[Y]=ke[Y](p),Q.c()),I(Q,1),Q.m(ae.parentNode,ae))},i(p){fe||(I(t.$$.fragment,p),I(a.$$.fragment,p),I(r.$$.fragment,p),I(u.$$.fragment,p),I(g.$$.fragment,p),I(c.$$.fragment,p),I(k.$$.fragment,p),I(m.$$.fragment,p),I($.$$.fragment,p),I(W.$$.fragment,p),I(U.$$.fragment,p),I(q.$$.fragment,p),I(oe.$$.fragment,p),I(ge.$$.fragment,p),I(A.$$.fragment,p),I(j.$$.fragment,p),I(Q),fe=!0)},o(p){E(t.$$.fragment,p),E(a.$$.fragment,p),E(r.$$.fragment,p),E(u.$$.fragment,p),E(g.$$.fragment,p),E(c.$$.fragment,p),E(k.$$.fragment,p),E(m.$$.fragment,p),E($.$$.fragment,p),E(W.$$.fragment,p),E(U.$$.fragment,p),E(q.$$.fragment,p),E(oe.$$.fragment,p),E(ge.$$.fragment,p),E(A.$$.fragment,p),E(j.$$.fragment,p),E(Q),fe=!1},d(p){p&&d(e),L(t),p&&d(n),p&&d(s),L(a),p&&d(o),L(r,p),p&&d(l),L(u,p),p&&d(f),L(g,p),p&&d(v),L(c,p),p&&d(b),L(k,p),p&&d(P),L(m,p),p&&d(w),L($,p),p&&d(C),L(W,p),p&&d(T),L(U,p),p&&d(K),L(q,p),p&&d(X),L(oe,p),p&&d(re),L(ge,p),p&&d(ie),L(A,p),p&&d(x),L(j,p),p&&d(se),ve[Y].d(p),p&&d(ae)}}}function Ao(i){let e,t,n;function s(o){i[75](o)}let a={options:i[38]};return i[3]!==void 0&&(a.selectedOptionId=i[3]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&8&&(t=!0,l.selectedOptionId=o[3],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Go(i){let e,t,n;function s(o){i[76](o)}let a={options:i[38]};return i[4]!==void 0&&(a.selectedOptionId=i[4]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&16&&(t=!0,l.selectedOptionId=o[4],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Ho(i){let e,t,n;function s(o){i[77](o)}let a={options:i[42]};return i[5]!==void 0&&(a.selectedOptionId=i[5]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&32&&(t=!0,l.selectedOptionId=o[5],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function zo(i){let e,t,n;function s(o){i[78](o)}let a={options:i[43]};return i[6]!==void 0&&(a.selectedOptionId=i[6]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&64&&(t=!0,l.selectedOptionId=o[6],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Uo(i){let e,t,n;function s(o){i[79](o)}let a={options:i[38]};return i[7]!==void 0&&(a.selectedOptionId=i[7]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&128&&(t=!0,l.selectedOptionId=o[7],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Wo(i){let e,t,n;function s(o){i[45](o)}let a={options:i[37]};return i[8]!==void 0&&(a.selectedOptionId=i[8]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&256&&(t=!0,l.selectedOptionId=o[8],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function jo(i){let e,t,n;function s(o){i[46](o)}let a={options:i[41]};return i[9]!==void 0&&(a.selectedOptionId=i[9]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&512&&(t=!0,l.selectedOptionId=o[9],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function qo(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){h(e,"type","text"),h(e,"class",tt),h(e,"placeholder","Noto Serif JP")},m(s,a){N(s,e,a),he(e,i[10]),t||(n=Z(e,"input",i[49]),t=!0)},p(s,a){a[0]&1024&&e.value!==s[10]&&he(e,s[10])},d(s){s&&d(e),t=!1,n()}}}function Fn(i){let e,t,n,s,a;return t=new Oe({props:{icon:jn}}),{c(){e=y("div"),B(t.$$.fragment),this.h()},l(o){e=F(o,"DIV",{role:!0});var r=G(e);M(t.$$.fragment,r),r.forEach(d),this.h()},h(){h(e,"role","button")},m(o,r){N(o,e,r),R(t,e,null),n=!0,s||(a=[Z(e,"click",i[48]),Z(e,"keyup",Me)],s=!0)},p:we,i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&d(e),L(t),s=!1,ye(a)}}}function Yo(i){let e,t,n,s,a;function o(u){i[47](u)}let r={availableFonts:[ot.NOTOSERIFJP,ot.GENEI,ot.KLEEONE,ot.KLEEONESEMIBOLD,ot.SHIPPORIMINCHO]};i[10]!==void 0&&(r.fontValue=i[10]),t=new Yn({props:r}),J.push(()=>ee(t,"fontValue",o));let l=i[35]&&Fn(i);return{c(){e=y("div"),B(t.$$.fragment),s=H(),l&&l.c(),this.h()},l(u){e=F(u,"DIV",{slot:!0,class:!0});var f=G(e);M(t.$$.fragment,f),s=z(f),l&&l.l(f),f.forEach(d),this.h()},h(){h(e,"slot","header"),h(e,"class","flex items-center")},m(u,f){N(u,e,f),R(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!n&&f[0]&1024&&(n=!0,g.fontValue=u[10],te(()=>n=!1)),t.$set(g),u[35]?l?(l.p(u,f),f[1]&16&&I(l,1)):(l=Fn(u),l.c(),I(l,1),l.m(e,null)):l&&(Ee(),E(l,1,1,()=>{l=null}),Te())},i(u){a||(I(t.$$.fragment,u),I(l),a=!0)},o(u){E(t.$$.fragment,u),E(l),a=!1},d(u){u&&d(e),L(t),l&&l.d()}}}function Jo(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){h(e,"type","text"),h(e,"class",tt),h(e,"placeholder","Noto Sans JP")},m(s,a){N(s,e,a),he(e,i[11]),t||(n=Z(e,"input",i[52]),t=!0)},p(s,a){a[0]&2048&&e.value!==s[11]&&he(e,s[11])},d(s){s&&d(e),t=!1,n()}}}function Nn(i){let e,t,n,s,a;return t=new Oe({props:{icon:jn}}),{c(){e=y("div"),B(t.$$.fragment),this.h()},l(o){e=F(o,"DIV",{role:!0});var r=G(e);M(t.$$.fragment,r),r.forEach(d),this.h()},h(){h(e,"role","button")},m(o,r){N(o,e,r),R(t,e,null),n=!0,s||(a=[Z(e,"click",i[51]),Z(e,"keyup",Me)],s=!0)},p:we,i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&d(e),L(t),s=!1,ye(a)}}}function Ko(i){let e,t,n,s,a;function o(u){i[50](u)}let r={};i[11]!==void 0&&(r.fontValue=i[11]),t=new Yn({props:r}),J.push(()=>ee(t,"fontValue",o));let l=i[35]&&Nn(i);return{c(){e=y("div"),B(t.$$.fragment),s=H(),l&&l.c(),this.h()},l(u){e=F(u,"DIV",{slot:!0,class:!0});var f=G(e);M(t.$$.fragment,f),s=z(f),l&&l.l(f),f.forEach(d),this.h()},h(){h(e,"slot","header"),h(e,"class","flex items-center")},m(u,f){N(u,e,f),R(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!n&&f[0]&2048&&(n=!0,g.fontValue=u[11],te(()=>n=!1)),t.$set(g),u[35]?l?(l.p(u,f),f[1]&16&&I(l,1)):(l=Nn(u),l.c(),I(l,1),l.m(e,null)):l&&(Ee(),E(l,1,1,()=>{l=null}),Te())},i(u){a||(I(t.$$.fragment,u),I(l),a=!0)},o(u){E(t.$$.fragment,u),E(l),a=!1},d(u){u&&d(e),L(t),l&&l.d()}}}function Qo(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){h(e,"type","number"),h(e,"class",tt),h(e,"step","1"),h(e,"min","1")},m(s,a){N(s,e,a),he(e,i[12]),t||(n=Z(e,"input",i[53]),t=!0)},p(s,a){a[0]&4096&&Pe(e.value)!==s[12]&&he(e,s[12])},d(s){s&&d(e),t=!1,n()}}}function Zo(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){h(e,"type","number"),h(e,"class",tt),h(e,"step","0.05"),h(e,"min","1")},m(s,a){N(s,e,a),he(e,i[13]),t||(n=[Z(e,"input",i[54]),Z(e,"change",i[55])],t=!0)},p(s,a){a[0]&8192&&Pe(e.value)!==s[13]&&he(e,s[13])},d(s){s&&d(e),t=!1,ye(n)}}}function Xo(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){h(e,"type","number"),h(e,"class",tt),h(e,"step","1"),h(e,"min","0")},m(s,a){N(s,e,a),he(e,i[17]),t||(n=Z(e,"input",i[57]),t=!0)},p(s,a){a[0]&131072&&Pe(e.value)!==s[17]&&he(e,s[17])},d(s){s&&d(e),t=!1,n()}}}function xo(i){let e,t,n;function s(o){i[56](o)}let a={slot:"header",isFirstDimension:!0,isVertical:i[36]};return i[17]!==void 0&&(a.dimensionValue=i[17]),e=new qn({props:a}),J.push(()=>ee(e,"dimensionValue",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};r[1]&32&&(l.isVertical=o[36]),!t&&r[0]&131072&&(t=!0,l.dimensionValue=o[17],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function es(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){h(e,"type","number"),h(e,"class",tt),h(e,"step","1"),h(e,"min","0")},m(s,a){N(s,e,a),he(e,i[16]),t||(n=Z(e,"input",i[59]),t=!0)},p(s,a){a[0]&65536&&Pe(e.value)!==s[16]&&he(e,s[16])},d(s){s&&d(e),t=!1,n()}}}function ts(i){let e,t,n;function s(o){i[58](o)}let a={slot:"header",isVertical:i[36]};return i[16]!==void 0&&(a.dimensionValue=i[16]),e=new qn({props:a}),J.push(()=>ee(e,"dimensionValue",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};r[1]&32&&(l.isVertical=o[36]),!t&&r[0]&65536&&(t=!0,l.dimensionValue=o[16],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function ns(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,step:!0,min:!0,class:!0}),this.h()},h(){h(e,"type","number"),h(e,"step","1"),h(e,"min","10"),h(e,"class",tt)},m(s,a){N(s,e,a),he(e,i[18]),t||(n=[Z(e,"input",i[60]),Z(e,"blur",i[61])],t=!0)},p(s,a){a[0]&262144&&Pe(e.value)!==s[18]&&he(e,s[18])},d(s){s&&d(e),t=!1,ye(n)}}}function is(i){let e,t,n;function s(o){i[62](o)}let a={options:i[40]};return i[1]!==void 0&&(a.selectedOptionId=i[1]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&2&&(t=!0,l.selectedOptionId=o[1],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function os(i){let e,t,n;function s(o){i[63](o)}let a={options:i[38]};return i[19]!==void 0&&(a.selectedOptionId=i[19]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&524288&&(t=!0,l.selectedOptionId=o[19],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function ss(i){let e,t,n;function s(o){i[64](o)}let a={options:i[38]};return i[24]!==void 0&&(a.selectedOptionId=i[24]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&16777216&&(t=!0,l.selectedOptionId=o[24],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function ls(i){let e,t,n;function s(o){i[65](o)}let a={options:i[38]};return i[25]!==void 0&&(a.selectedOptionId=i[25]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&33554432&&(t=!0,l.selectedOptionId=o[25],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function rs(i){let e,t,n;function s(o){i[66](o)}let a={options:i[38]};return i[14]!==void 0&&(a.selectedOptionId=i[14]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&16384&&(t=!0,l.selectedOptionId=o[14],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function as(i){let e,t,n;function s(o){i[67](o)}let a={options:i[38]};return i[15]!==void 0&&(a.selectedOptionId=i[15]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&32768&&(t=!0,l.selectedOptionId=o[15],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function us(i){let e,t,n;function s(o){i[68](o)}let a={options:i[39]};return i[0]!==void 0&&(a.selectedOptionId=i[0]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&1&&(t=!0,l.selectedOptionId=o[0],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function fs(i){let e,t,n,s,a,o;e=new _e({props:{title:"Avoid Page Break",tooltip:i[34],$$slots:{default:[gs]},$$scope:{ctx:i}}}),n=new _e({props:{title:"Selection to Bookmark",tooltip:"When enabled bookmarks will be placed to a near paragraph of current/previous selected text instead of page start",$$slots:{default:[ps]},$$scope:{ctx:i}}});let r=!i[36]&&Cn(i);return{c(){B(e.$$.fragment),t=H(),B(n.$$.fragment),s=H(),r&&r.c(),a=st()},l(l){M(e.$$.fragment,l),t=z(l),M(n.$$.fragment,l),s=z(l),r&&r.l(l),a=st()},m(l,u){R(e,l,u),N(l,t,u),R(n,l,u),N(l,s,u),r&&r.m(l,u),N(l,a,u),o=!0},p(l,u){const f={};u[1]&8&&(f.tooltip=l[34]),u[0]&4|u[2]&524288&&(f.$$scope={dirty:u,ctx:l}),e.$set(f);const g={};u[0]&4194304|u[2]&524288&&(g.$$scope={dirty:u,ctx:l}),n.$set(g),l[36]?r&&(Ee(),E(r,1,1,()=>{r=null}),Te()):r?(r.p(l,u),u[1]&32&&I(r,1)):(r=Cn(l),r.c(),I(r,1),r.m(a.parentNode,a))},i(l){o||(I(e.$$.fragment,l),I(n.$$.fragment,l),I(r),o=!0)},o(l){E(e.$$.fragment,l),E(n.$$.fragment,l),E(r),o=!1},d(l){L(e,l),l&&d(t),L(n,l),l&&d(s),r&&r.d(l),l&&d(a)}}}function cs(i){let e,t,n,s;return e=new _e({props:{title:"Custom Reading Point",tooltip:"Allows to set a persistent custom point in the reader from which the current progress and bookmark is calculated when enabled",$$slots:{default:[ms]},$$scope:{ctx:i}}}),n=new _e({props:{title:"Auto position on resize",$$slots:{default:[_s]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=H(),B(n.$$.fragment)},l(a){M(e.$$.fragment,a),t=z(a),M(n.$$.fragment,a)},m(a,o){R(e,a,o),N(a,t,o),R(n,a,o),s=!0},p(a,o){const r={};o[0]&2097152|o[2]&524288&&(r.$$scope={dirty:o,ctx:a}),e.$set(r);const l={};o[0]&1048576|o[2]&524288&&(l.$$scope={dirty:o,ctx:a}),n.$set(l)},i(a){s||(I(e.$$.fragment,a),I(n.$$.fragment,a),s=!0)},o(a){E(e.$$.fragment,a),E(n.$$.fragment,a),s=!1},d(a){L(e,a),a&&d(t),L(n,a)}}}function gs(i){let e,t,n;function s(o){i[72](o)}let a={options:i[38]};return i[2]!==void 0&&(a.selectedOptionId=i[2]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&4&&(t=!0,l.selectedOptionId=o[2],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function ps(i){let e,t,n;function s(o){i[73](o)}let a={options:i[38]};return i[22]!==void 0&&(a.selectedOptionId=i[22]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&4194304&&(t=!0,l.selectedOptionId=o[22],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function Cn(i){let e,t;return e=new _e({props:{title:"Page Columns",$$slots:{default:[ds]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,s){const a={};s[0]&8388608|s[2]&524288&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function ds(i){let e,t,n;return{c(){e=y("input"),this.h()},l(s){e=F(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){h(e,"type","number"),h(e,"class",tt),h(e,"step","1"),h(e,"min","0")},m(s,a){N(s,e,a),he(e,i[23]),t||(n=Z(e,"input",i[74]),t=!0)},p(s,a){a[0]&8388608&&Pe(e.value)!==s[23]&&he(e,s[23])},d(s){s&&d(e),t=!1,n()}}}function Bn(i){let e,t,n,s;return{c(){e=y("div"),t=pe("Reset Points"),this.h()},l(a){e=F(a,"DIV",{role:!0,class:!0});var o=G(e);t=de(o,"Reset Points"),o.forEach(d),this.h()},h(){h(e,"role","button"),h(e,"class","ml-4 hover:underline")},m(a,o){N(a,e,o),S(e,t),n||(s=[Z(e,"click",i[70]),Z(e,"keyup",Me)],n=!0)},p:we,d(a){a&&d(e),n=!1,ye(s)}}}function ms(i){let e,t,n,s,a;function o(u){i[69](u)}let r={options:i[38]};i[21]!==void 0&&(r.selectedOptionId=i[21]),t=new Se({props:r}),J.push(()=>ee(t,"selectedOptionId",o));let l=i[21]&&Bn(i);return{c(){e=y("div"),B(t.$$.fragment),s=H(),l&&l.c(),this.h()},l(u){e=F(u,"DIV",{class:!0});var f=G(e);M(t.$$.fragment,f),s=z(f),l&&l.l(f),f.forEach(d),this.h()},h(){h(e,"class","flex items-center")},m(u,f){N(u,e,f),R(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!n&&f[0]&2097152&&(n=!0,g.selectedOptionId=u[21],te(()=>n=!1)),t.$set(g),u[21]?l?l.p(u,f):(l=Bn(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(u){a||(I(t.$$.fragment,u),a=!0)},o(u){E(t.$$.fragment,u),a=!1},d(u){u&&d(e),L(t),l&&l.d()}}}function _s(i){let e,t,n;function s(o){i[71](o)}let a={options:i[38]};return i[20]!==void 0&&(a.selectedOptionId=i[20]),e=new Se({props:a}),J.push(()=>ee(e,"selectedOptionId",s)),{c(){B(e.$$.fragment)},l(o){M(e.$$.fragment,o)},m(o,r){R(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&1048576&&(t=!0,l.selectedOptionId=o[20],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){L(e,o)}}}function hs(i){let e,t,n,s;const a=[Lo,Ro],o=[];function r(l,u){return l[26]==="Reader"?0:1}return t=r(i),n=o[t]=a[t](i),{c(){e=y("div"),n.c(),this.h()},l(l){e=F(l,"DIV",{class:!0});var u=G(e);n.l(u),u.forEach(d),this.h()},h(){h(e,"class","grid grid-cols-1 items-center sm:grid-cols-2 sm:gap-6 lg:md:gap-8 lg:grid-cols-3")},m(l,u){N(l,e,u),o[t].m(e,null),s=!0},p(l,u){let f=t;t=r(l),t===f?o[t].p(l,u):(Ee(),E(o[f],1,1,()=>{o[f]=null}),Te(),n=o[t],n?n.p(l,u):(n=o[t]=a[t](l),n.c()),I(n,1),n.m(e,null))},i(l){s||(I(n),s=!0)},o(l){E(n),s=!1},d(l){l&&d(e),o[t].d()}}}function bs(i,e,t){let n,s,a,o,r,l,u,f,{selectedTheme:g}=e,{viewMode:v}=e,{fontFamilyGroupOne:c}=e,{fontFamilyGroupTwo:b}=e,{fontSize:k}=e,{lineHeight:P}=e,{blurImage:m}=e,{hideFurigana:w}=e,{furiganaStyle:$}=e,{writingMode:C}=e,{secondDimensionMaxValue:W}=e,{firstDimensionMargin:T}=e,{swipeThreshold:U}=e,{disableWheelNavigation:K}=e,{autoPositionOnResize:q}=e,{avoidPageBreak:X}=e,{customReadingPointEnabled:oe}=e,{selectionToBookmarkEnabled:re}=e,{pageColumns:ge}=e,{persistentStorage:ie}=e,{confirmClose:A}=e,{autoBookmark:x}=e,{activeSettings:j}=e,{cacheStorageData:se}=e,{autoReplication:Y}=e,{replicationSaveBehavior:Q}=e,{showExternalPlaceholder:ae}=e;const ke=Array.from(Wi.entries()).map(([V,Be])=>({theme:V,option:Be})).map(({theme:V,option:Be})=>({id:V,text:"",style:{color:Be.fontColor,"background-color":Be.backgroundColor},thickBorders:!0})),ve=[{id:!1,text:"Off"},{id:!0,text:"On"}],Ie=[{id:ft.Partial,text:"Partial"},{id:ft.Full,text:"Full"},{id:ft.Toggle,text:"Toggle"}],p=[{id:"horizontal-tb",text:"Horizontal"},{id:"vertical-rl",text:"Vertical"}],_=[{id:wt.Continuous,text:"Continuous"},{id:wt.Paginated,text:"Paginated"}],be=[{id:We.Off,text:"Off"},{id:We.Up,text:"Up"},{id:We.Down,text:"Down"},{id:We.All,text:"All"}],Ve=[{id:$t.NewOnly,text:"New Only"},{id:$t.Overwrite,text:"Overwrite"}],Fe=je.storageSourcesChanged$.pipe(bi(V=>[...$i.filter(Be=>vi(Be.type,Be.name,window)).map(Be=>({name:Be.name,type:Be.type,data:new ArrayBuffer(0),lastSourceModified:0})),...V.filter(Be=>!Pt(Be.name))]));ue(i,Fe,V=>t(27,f=V));let Ne="",Ce="";function qe(V){g=V,t(8,g)}function Ge(V){v=V,t(9,v)}function He(V){c=V,t(10,c)}const Ye=()=>it.dialogs$.next([{component:yn,props:{fontFamily:It}}]);function Je(){c=this.value,t(10,c)}function Ke(V){b=V,t(11,b)}const Qe=()=>it.dialogs$.next([{component:yn,props:{fontFamily:St}}]);function Ze(){b=this.value,t(11,b)}function Xe(){k=Pe(this.value),t(12,k)}function xe(){P=Pe(this.value),t(13,P)}const ze=()=>{(!P||P<1)&&t(13,P=1.65)};function Ue(V){T=V,t(17,T)}function at(){T=Pe(this.value),t(17,T)}function ut(V){W=V,t(16,W)}function O(){W=Pe(this.value),t(16,W)}function nt(){U=Pe(this.value),t(18,U)}const _t=()=>{(U<10||typeof U!="number")&&t(18,U=10)};function ht(V){C=V,t(1,C)}function bt(V){K=V,t(19,K)}function me(V){A=V,t(24,A)}function D(V){x=V,t(25,x)}function le(V){m=V,t(14,m)}function et(V){w=V,t(15,w)}function ce(V){$=V,t(0,$)}function dt(V){oe=V,t(21,oe)}const Jn=()=>{ki.next(100),wi.next(0)};function Kn(V){q=V,t(20,q)}function Qn(V){X=V,t(2,X)}function Zn(V){re=V,t(22,re)}function Xn(){ge=Pe(this.value),t(23,ge)}function xn(V){ie=V,t(3,ie)}function ei(V){se=V,t(4,se)}function ti(V){Y=V,t(5,Y)}function ni(V){Q=V,t(6,Q)}function ii(V){ae=V,t(7,ae)}return i.$$set=V=>{"selectedTheme"in V&&t(8,g=V.selectedTheme),"viewMode"in V&&t(9,v=V.viewMode),"fontFamilyGroupOne"in V&&t(10,c=V.fontFamilyGroupOne),"fontFamilyGroupTwo"in V&&t(11,b=V.fontFamilyGroupTwo),"fontSize"in V&&t(12,k=V.fontSize),"lineHeight"in V&&t(13,P=V.lineHeight),"blurImage"in V&&t(14,m=V.blurImage),"hideFurigana"in V&&t(15,w=V.hideFurigana),"furiganaStyle"in V&&t(0,$=V.furiganaStyle),"writingMode"in V&&t(1,C=V.writingMode),"secondDimensionMaxValue"in V&&t(16,W=V.secondDimensionMaxValue),"firstDimensionMargin"in V&&t(17,T=V.firstDimensionMargin),"swipeThreshold"in V&&t(18,U=V.swipeThreshold),"disableWheelNavigation"in V&&t(19,K=V.disableWheelNavigation),"autoPositionOnResize"in V&&t(20,q=V.autoPositionOnResize),"avoidPageBreak"in V&&t(2,X=V.avoidPageBreak),"customReadingPointEnabled"in V&&t(21,oe=V.customReadingPointEnabled),"selectionToBookmarkEnabled"in V&&t(22,re=V.selectionToBookmarkEnabled),"pageColumns"in V&&t(23,ge=V.pageColumns),"persistentStorage"in V&&t(3,ie=V.persistentStorage),"confirmClose"in V&&t(24,A=V.confirmClose),"autoBookmark"in V&&t(25,x=V.autoBookmark),"activeSettings"in V&&t(26,j=V.activeSettings),"cacheStorageData"in V&&t(4,se=V.cacheStorageData),"autoReplication"in V&&t(5,Y=V.autoReplication),"replicationSaveBehavior"in V&&t(6,Q=V.replicationSaveBehavior),"showExternalPlaceholder"in V&&t(7,ae=V.showExternalPlaceholder)},i.$$.update=()=>{if(i.$$.dirty[0]&2&&t(36,n=C==="vertical-rl"),i.$$.dirty[0]&1)switch($){case ft.Full:t(28,Ne="Hidden by default, show on hover or click");break;case ft.Toggle:t(28,Ne="Hidden by default, can be toggled on click");break;default:t(28,Ne="Display furigana as grayed out text");break}if(i.$$.dirty[0]&4&&t(34,a=X?"Avoids breaking words/sentences into different pages":"Allow words/sentences to break into different pages"),i.$$.dirty[0]&8&&t(33,o=ie?"Reader uses higher storage limit for local data":`Uses lower temporary storage for local data.
May require bookmark or notification permissions for enablement`),i.$$.dirty[0]&16&&t(32,r=se?"Storage data is cached. Saves network traffic/latency but requires to reload current/open a new tab to retrieve data changes":"Storage data is refetched on every action. May consume more network traffic/latency but ensures current data"),i.$$.dirty[0]&64&&t(31,l=Q===$t.Overwrite?"Data will always be overwritten":"Data will only be written if none exist on target, no time data is present or if target data is older"),i.$$.dirty[0]&32)switch(Y){case We.Up:t(29,Ce="Updated data will be exported to sync target when reading once per minute");break;case We.Down:t(29,Ce="Data will be imported from sync target when opening a book");break;case We.All:t(29,Ce="Data will be synced in both directions");break;default:t(29,Ce="No automatic import/export of data");break}i.$$.dirty[0]&128&&t(30,u=ae?"Placeholder data for external books is shown in the browser source manager":"Placeholder data for external books is hidden"),i.$$.dirty[0]&201326592&&j==="Data"&&!f&&je.getStorageSources().then(V=>{je.storageSourcesChanged$.next(V)}).catch(V=>{Ot.error(`Failed to retrieve storage sources: ${V.message}`),je.storageSourcesChanged$.next([])})},t(35,s="caches"in window),[$,C,X,ie,se,Y,Q,ae,g,v,c,b,k,P,m,w,W,T,U,K,q,oe,re,ge,A,x,j,f,Ne,Ce,u,l,r,o,a,s,n,ke,ve,Ie,p,_,be,Ve,Fe,qe,Ge,He,Ye,Je,Ke,Qe,Ze,Xe,xe,ze,Ue,at,ut,O,nt,_t,ht,bt,me,D,le,et,ce,dt,Jn,Kn,Qn,Zn,Xn,xn,ei,ti,ni,ii]}class $s extends Re{constructor(e){super(),Le(this,e,bs,hs,Ae,{selectedTheme:8,viewMode:9,fontFamilyGroupOne:10,fontFamilyGroupTwo:11,fontSize:12,lineHeight:13,blurImage:14,hideFurigana:15,furiganaStyle:0,writingMode:1,secondDimensionMaxValue:16,firstDimensionMargin:17,swipeThreshold:18,disableWheelNavigation:19,autoPositionOnResize:20,avoidPageBreak:2,customReadingPointEnabled:21,selectionToBookmarkEnabled:22,pageColumns:23,persistentStorage:3,confirmClose:24,autoBookmark:25,activeSettings:26,cacheStorageData:4,autoReplication:5,replicationSaveBehavior:6,showExternalPlaceholder:7},null,[-1,-1,-1])}}function Mn(i,e,t){const n=i.slice();return n[4]=e[t],n}function Rn(i,e){let t,n,s,a=e[4].label+"",o,r,l,u,f,g,v;n=new Oe({props:{class:"mb-1",icon:e[4].icon}}),l=new lt({});function c(){return e[3](e[4])}return{key:i,first:null,c(){t=y("button"),B(n.$$.fragment),s=H(),o=pe(a),r=H(),B(l.$$.fragment),u=H(),this.h()},l(b){t=F(b,"BUTTON",{class:!0});var k=G(t);M(n.$$.fragment,k),s=z(k),o=de(k,a),r=z(k),M(l.$$.fragment,k),u=z(k),k.forEach(d),this.h()},h(){h(t,"class","flex grow flex-col items-center justify-center text-xs"),ne(t,"bg-gray-900",e[0]===e[4].label),ne(t,"hover:bg-gray-900",e[0]!==e[4].label),this.first=t},m(b,k){N(b,t,k),R(n,t,null),S(t,s),S(t,o),S(t,r),R(l,t,null),S(t,u),f=!0,g||(v=Z(t,"click",c),g=!0)},p(b,k){e=b,(!f||k&5)&&ne(t,"bg-gray-900",e[0]===e[4].label),(!f||k&5)&&ne(t,"hover:bg-gray-900",e[0]!==e[4].label)},i(b){f||(I(n.$$.fragment,b),I(l.$$.fragment,b),f=!0)},o(b){E(n.$$.fragment,b),E(l.$$.fragment,b),f=!1},d(b){b&&d(t),L(n),L(l),g=!1,v()}}}function vs(i){let e,t,n,s=[],a=new Map,o,r,l,u=i[2];const f=g=>g[4].label;for(let g=0;g<u.length;g+=1){let v=Mn(i,u,g),c=f(v);a.set(c,s[g]=Rn(c,v))}return r=new Ai({props:{leavePageLink:i[1]}}),{c(){e=y("div"),t=y("div"),n=y("div");for(let g=0;g<s.length;g+=1)s[g].c();o=H(),B(r.$$.fragment),this.h()},l(g){e=F(g,"DIV",{class:!0});var v=G(e);t=F(v,"DIV",{class:!0});var c=G(t);n=F(c,"DIV",{class:!0});var b=G(n);for(let k=0;k<s.length;k+=1)s[k].l(b);b.forEach(d),o=z(c),M(r.$$.fragment,c),c.forEach(d),v.forEach(d),this.h()},h(){h(n,"class","h12 flex grow justify-evenly xl:h-10"),h(t,"class",zn+" flex px-0 md:px-5"),h(e,"class",Ii)},m(g,v){N(g,e,v),S(e,t),S(t,n);for(let c=0;c<s.length;c+=1)s[c].m(n,null);S(t,o),R(r,t,null),l=!0},p(g,[v]){v&5&&(u=g[2],Ee(),s=rt(s,v,f,1,g,u,a,n,Vt,Rn,null,Mn),Te());const c={};v&2&&(c.leavePageLink=g[1]),r.$set(c)},i(g){if(!l){for(let v=0;v<u.length;v+=1)I(s[v]);I(r.$$.fragment,g),l=!0}},o(g){for(let v=0;v<s.length;v+=1)E(s[v]);E(r.$$.fragment,g),l=!1},d(g){g&&d(e);for(let v=0;v<s.length;v+=1)s[v].d();L(r)}}}function ks(i,e,t){let{leavePageLink:n}=e,{activeSettings:s}=e;const a=[{label:"Reader",icon:Ri},{label:"Data",icon:Li}],o=r=>t(0,s=r.label);return i.$$set=r=>{"leavePageLink"in r&&t(1,n=r.leavePageLink),"activeSettings"in r&&t(0,s=r.activeSettings)},[s,n,a,o]}class ws extends Re{constructor(e){super(),Le(this,e,ks,vs,Ae,{leavePageLink:1,activeSettings:0})}}function Is(i){let e,t,n,s,a,o,r,l,u,f,g,v,c,b,k,P,m,w,$,C,W,T,U,K,q,X,oe,re,ge,ie,A,x,j,se,Y,Q,ae=(i[28]??"")+"",fe,ke;document.title=e=Lt("Settings");function ve(D){i[31](D)}let Ie={leavePageLink:i[0]};i[1]!==void 0&&(Ie.activeSettings=i[1]),s=new ws({props:Ie}),J.push(()=>ee(s,"activeSettings",ve));function p(D){i[32](D)}function _(D){i[33](D)}function be(D){i[34](D)}function Ve(D){i[35](D)}function Fe(D){i[36](D)}function Ne(D){i[37](D)}function Ce(D){i[38](D)}function qe(D){i[39](D)}function Ge(D){i[40](D)}function He(D){i[41](D)}function Ye(D){i[42](D)}function Je(D){i[43](D)}function Ke(D){i[44](D)}function Qe(D){i[45](D)}function Ze(D){i[46](D)}function Xe(D){i[47](D)}function xe(D){i[48](D)}function ze(D){i[49](D)}function Ue(D){i[50](D)}function at(D){i[51](D)}function ut(D){i[52](D)}function O(D){i[53](D)}function nt(D){i[54](D)}function _t(D){i[55](D)}function ht(D){i[56](D)}function bt(D){i[57](D)}let me={activeSettings:i[1]};return i[2]!==void 0&&(me.selectedTheme=i[2]),i[3]!==void 0&&(me.fontFamilyGroupOne=i[3]),i[4]!==void 0&&(me.fontFamilyGroupTwo=i[4]),i[5]!==void 0&&(me.fontSize=i[5]),i[6]!==void 0&&(me.lineHeight=i[6]),i[7]!==void 0&&(me.blurImage=i[7]),i[8]!==void 0&&(me.hideFurigana=i[8]),i[9]!==void 0&&(me.furiganaStyle=i[9]),i[10]!==void 0&&(me.writingMode=i[10]),i[11]!==void 0&&(me.viewMode=i[11]),i[12]!==void 0&&(me.secondDimensionMaxValue=i[12]),i[13]!==void 0&&(me.firstDimensionMargin=i[13]),i[14]!==void 0&&(me.swipeThreshold=i[14]),i[15]!==void 0&&(me.disableWheelNavigation=i[15]),i[16]!==void 0&&(me.autoPositionOnResize=i[16]),i[17]!==void 0&&(me.avoidPageBreak=i[17]),i[18]!==void 0&&(me.customReadingPointEnabled=i[18]),i[19]!==void 0&&(me.selectionToBookmarkEnabled=i[19]),i[20]!==void 0&&(me.pageColumns=i[20]),i[21]!==void 0&&(me.persistentStorage=i[21]),i[22]!==void 0&&(me.confirmClose=i[22]),i[23]!==void 0&&(me.autoBookmark=i[23]),i[24]!==void 0&&(me.cacheStorageData=i[24]),i[25]!==void 0&&(me.replicationSaveBehavior=i[25]),i[26]!==void 0&&(me.autoReplication=i[26]),i[27]!==void 0&&(me.showExternalPlaceholder=i[27]),u=new $s({props:me}),J.push(()=>ee(u,"selectedTheme",p)),J.push(()=>ee(u,"fontFamilyGroupOne",_)),J.push(()=>ee(u,"fontFamilyGroupTwo",be)),J.push(()=>ee(u,"fontSize",Ve)),J.push(()=>ee(u,"lineHeight",Fe)),J.push(()=>ee(u,"blurImage",Ne)),J.push(()=>ee(u,"hideFurigana",Ce)),J.push(()=>ee(u,"furiganaStyle",qe)),J.push(()=>ee(u,"writingMode",Ge)),J.push(()=>ee(u,"viewMode",He)),J.push(()=>ee(u,"secondDimensionMaxValue",Ye)),J.push(()=>ee(u,"firstDimensionMargin",Je)),J.push(()=>ee(u,"swipeThreshold",Ke)),J.push(()=>ee(u,"disableWheelNavigation",Qe)),J.push(()=>ee(u,"autoPositionOnResize",Ze)),J.push(()=>ee(u,"avoidPageBreak",Xe)),J.push(()=>ee(u,"customReadingPointEnabled",xe)),J.push(()=>ee(u,"selectionToBookmarkEnabled",ze)),J.push(()=>ee(u,"pageColumns",Ue)),J.push(()=>ee(u,"persistentStorage",at)),J.push(()=>ee(u,"confirmClose",ut)),J.push(()=>ee(u,"autoBookmark",O)),J.push(()=>ee(u,"cacheStorageData",nt)),J.push(()=>ee(u,"replicationSaveBehavior",_t)),J.push(()=>ee(u,"autoReplication",ht)),J.push(()=>ee(u,"showExternalPlaceholder",bt)),{c(){t=H(),n=y("div"),B(s.$$.fragment),o=H(),r=y("div"),l=y("div"),B(u.$$.fragment),Q=H(),fe=pe(ae),this.h()},l(D){ui("svelte-1mss3mt",document.head).forEach(d),t=z(D),n=F(D,"DIV",{class:!0});var et=G(n);M(s.$$.fragment,et),et.forEach(d),o=z(D),r=F(D,"DIV",{class:!0});var ce=G(r);l=F(ce,"DIV",{class:!0});var dt=G(l);M(u.$$.fragment,dt),dt.forEach(d),ce.forEach(d),Q=z(D),fe=de(D,ae),this.h()},h(){h(n,"class","elevation-4 fixed inset-x-0 top-0 z-10"),h(l,"class","max-w-5xl"),h(r,"class",zn+" h-full pt-16 xl:pt-14")},m(D,le){N(D,t,le),N(D,n,le),R(s,n,null),N(D,o,le),N(D,r,le),S(r,l),R(u,l,null),N(D,Q,le),N(D,fe,le),ke=!0},p(D,le){(!ke||le&0)&&e!==(e=Lt("Settings"))&&(document.title=e);const et={};le[0]&1&&(et.leavePageLink=D[0]),!a&&le[0]&2&&(a=!0,et.activeSettings=D[1],te(()=>a=!1)),s.$set(et);const ce={};le[0]&2&&(ce.activeSettings=D[1]),!f&&le[0]&4&&(f=!0,ce.selectedTheme=D[2],te(()=>f=!1)),!g&&le[0]&8&&(g=!0,ce.fontFamilyGroupOne=D[3],te(()=>g=!1)),!v&&le[0]&16&&(v=!0,ce.fontFamilyGroupTwo=D[4],te(()=>v=!1)),!c&&le[0]&32&&(c=!0,ce.fontSize=D[5],te(()=>c=!1)),!b&&le[0]&64&&(b=!0,ce.lineHeight=D[6],te(()=>b=!1)),!k&&le[0]&128&&(k=!0,ce.blurImage=D[7],te(()=>k=!1)),!P&&le[0]&256&&(P=!0,ce.hideFurigana=D[8],te(()=>P=!1)),!m&&le[0]&512&&(m=!0,ce.furiganaStyle=D[9],te(()=>m=!1)),!w&&le[0]&1024&&(w=!0,ce.writingMode=D[10],te(()=>w=!1)),!$&&le[0]&2048&&($=!0,ce.viewMode=D[11],te(()=>$=!1)),!C&&le[0]&4096&&(C=!0,ce.secondDimensionMaxValue=D[12],te(()=>C=!1)),!W&&le[0]&8192&&(W=!0,ce.firstDimensionMargin=D[13],te(()=>W=!1)),!T&&le[0]&16384&&(T=!0,ce.swipeThreshold=D[14],te(()=>T=!1)),!U&&le[0]&32768&&(U=!0,ce.disableWheelNavigation=D[15],te(()=>U=!1)),!K&&le[0]&65536&&(K=!0,ce.autoPositionOnResize=D[16],te(()=>K=!1)),!q&&le[0]&131072&&(q=!0,ce.avoidPageBreak=D[17],te(()=>q=!1)),!X&&le[0]&262144&&(X=!0,ce.customReadingPointEnabled=D[18],te(()=>X=!1)),!oe&&le[0]&524288&&(oe=!0,ce.selectionToBookmarkEnabled=D[19],te(()=>oe=!1)),!re&&le[0]&1048576&&(re=!0,ce.pageColumns=D[20],te(()=>re=!1)),!ge&&le[0]&2097152&&(ge=!0,ce.persistentStorage=D[21],te(()=>ge=!1)),!ie&&le[0]&4194304&&(ie=!0,ce.confirmClose=D[22],te(()=>ie=!1)),!A&&le[0]&8388608&&(A=!0,ce.autoBookmark=D[23],te(()=>A=!1)),!x&&le[0]&16777216&&(x=!0,ce.cacheStorageData=D[24],te(()=>x=!1)),!j&&le[0]&33554432&&(j=!0,ce.replicationSaveBehavior=D[25],te(()=>j=!1)),!se&&le[0]&67108864&&(se=!0,ce.autoReplication=D[26],te(()=>se=!1)),!Y&&le[0]&134217728&&(Y=!0,ce.showExternalPlaceholder=D[27],te(()=>Y=!1)),u.$set(ce),(!ke||le[0]&268435456)&&ae!==(ae=(D[28]??"")+"")&&De(fe,ae)},i(D){ke||(I(s.$$.fragment,D),I(u.$$.fragment,D),ke=!0)},o(D){E(s.$$.fragment,D),E(u.$$.fragment,D),ke=!1},d(D){D&&d(t),D&&d(n),L(s),D&&d(o),D&&d(r),L(u),D&&d(Q),D&&d(fe)}}}function Ss(i,e,t){let n,s,a,o,r,l,u,f,g,v,c,b,k,P,m,w,$,C,W,T,U,K,q,X,oe,re,ge;ue(i,Wt,O=>t(2,n=O)),ue(i,It,O=>t(3,s=O)),ue(i,St,O=>t(4,a=O)),ue(i,jt,O=>t(5,o=O)),ue(i,qt,O=>t(6,r=O)),ue(i,Yt,O=>t(7,l=O)),ue(i,Jt,O=>t(8,u=O)),ue(i,Kt,O=>t(9,f=O)),ue(i,Qt,O=>t(10,g=O)),ue(i,Zt,O=>t(11,v=O)),ue(i,Xt,O=>t(12,c=O)),ue(i,xt,O=>t(13,b=O)),ue(i,en,O=>t(14,k=O)),ue(i,tn,O=>t(15,P=O)),ue(i,nn,O=>t(16,m=O)),ue(i,on,O=>t(17,w=O)),ue(i,sn,O=>t(18,$=O)),ue(i,ln,O=>t(19,C=O)),ue(i,rn,O=>t(20,W=O)),ue(i,an,O=>t(22,U=O)),ue(i,un,O=>t(23,K=O)),ue(i,fn,O=>t(24,q=O)),ue(i,cn,O=>t(25,X=O)),ue(i,kt,O=>t(26,oe=O)),ue(i,gn,O=>t(27,re=O));const ie=Si(!1);ue(i,ie,O=>t(21,T=O));let A=!1;Tt(()=>{Ut.persisted().then(Y)});let x=`${Ei}${Hi.MANAGE.routeId}`,j="Reader";fi(O=>{const{from:nt}=O;!nt||t(0,x=`${nt.url.pathname}${nt.url.search}`)});const se=ie.pipe(Oi(O=>{if(!!A){if(!O){Y(!0);return}Ut.persist().then(Y)}}),Gi());ue(i,se,O=>t(28,ge=O));function Y(O){A=!1,ie.next(O),A=!0}function Q(O){j=O,t(1,j)}function ae(O){n=O,Wt.set(n)}function fe(O){s=O,It.set(s)}function ke(O){a=O,St.set(a)}function ve(O){o=O,jt.set(o)}function Ie(O){r=O,qt.set(r)}function p(O){l=O,Yt.set(l)}function _(O){u=O,Jt.set(u)}function be(O){f=O,Kt.set(f)}function Ve(O){g=O,Qt.set(g)}function Fe(O){v=O,Zt.set(v)}function Ne(O){c=O,Xt.set(c)}function Ce(O){b=O,xt.set(b)}function qe(O){k=O,en.set(k)}function Ge(O){P=O,tn.set(P)}function He(O){m=O,nn.set(m)}function Ye(O){w=O,on.set(w)}function Je(O){$=O,sn.set($)}function Ke(O){C=O,ln.set(C)}function Qe(O){W=O,rn.set(W)}function Ze(O){T=O,ie.set(T)}function Xe(O){U=O,an.set(U)}function xe(O){K=O,un.set(K)}function ze(O){q=O,fn.set(q)}function Ue(O){X=O,cn.set(X)}function at(O){oe=O,kt.set(oe)}function ut(O){re=O,gn.set(re)}return[x,j,n,s,a,o,r,l,u,f,g,v,c,b,k,P,m,w,$,C,W,T,U,K,q,X,oe,re,ge,ie,se,Q,ae,fe,ke,ve,Ie,p,_,be,Ve,Fe,Ne,Ce,qe,Ge,He,Ye,Je,Ke,Qe,Ze,Xe,xe,ze,Ue,at,ut]}class Ns extends Re{constructor(e){super(),Le(this,e,Ss,Is,Ae,{},null,[-1,-1])}}export{Ns as default};
